(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var gm={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function rw(){if(Lv)return Bl;Lv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=e,Bl.jsx=n,Bl.jsxs=n,Bl}var Uv;function iw(){return Uv||(Uv=1,gm.exports=rw()),gm.exports}var w=iw(),ym={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function sw(){if(jv)return Re;jv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,Y={};function B(D,te,le){this.props=D,this.context=te,this.refs=Y,this.updater=le||N}B.prototype.isReactComponent={},B.prototype.setState=function(D,te){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,te,"setState")},B.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ne(){}ne.prototype=B.prototype;function X(D,te,le){this.props=D,this.context=te,this.refs=Y,this.updater=le||N}var re=X.prototype=new ne;re.constructor=X,Q(re,B.prototype),re.isPureReactComponent=!0;var _e=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},xe=Object.prototype.hasOwnProperty;function M(D,te,le,se,de,Oe){return le=Oe.ref,{$$typeof:i,type:D,key:te,ref:le!==void 0?le:null,props:Oe}}function R(D,te){return M(D.type,te,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function k(D){var te={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return te[le]})}var O=/\/+/g;function U(D,te){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):te.toString(36)}function x(){}function lt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(x,x):(D.status="pending",D.then(function(te){D.status==="pending"&&(D.status="fulfilled",D.value=te)},function(te){D.status==="pending"&&(D.status="rejected",D.reason=te)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function nt(D,te,le,se,de){var Oe=typeof D;(Oe==="undefined"||Oe==="boolean")&&(D=null);var Te=!1;if(D===null)Te=!0;else switch(Oe){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(D.$$typeof){case i:case e:Te=!0;break;case _:return Te=D._init,nt(Te(D._payload),te,le,se,de)}}if(Te)return de=de(D),Te=se===""?"."+U(D,0):se,_e(de)?(le="",Te!=null&&(le=Te.replace(O,"$&/")+"/"),nt(de,te,le,"",function(zn){return zn})):de!=null&&(I(de)&&(de=R(de,le+(de.key==null||D&&D.key===de.key?"":(""+de.key).replace(O,"$&/")+"/")+Te)),te.push(de)),1;Te=0;var Lt=se===""?".":se+":";if(_e(D))for(var Ge=0;Ge<D.length;Ge++)se=D[Ge],Oe=Lt+U(se,Ge),Te+=nt(se,te,le,Oe,de);else if(Ge=S(D),typeof Ge=="function")for(D=Ge.call(D),Ge=0;!(se=D.next()).done;)se=se.value,Oe=Lt+U(se,Ge++),Te+=nt(se,te,le,Oe,de);else if(Oe==="object"){if(typeof D.then=="function")return nt(lt(D),te,le,se,de);throw te=String(D),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Te}function K(D,te,le){if(D==null)return D;var se=[],de=0;return nt(D,se,"","",function(Oe){return te.call(le,Oe,de++)}),se}function oe(D){if(D._status===-1){var te=D._result;te=te(),te.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=te)}if(D._status===1)return D._result.default;throw D._result}var pe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ue(){}return Re.Children={map:K,forEach:function(D,te,le){K(D,function(){te.apply(this,arguments)},le)},count:function(D){var te=0;return K(D,function(){te++}),te},toArray:function(D){return K(D,function(te){return te})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=B,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=X,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return he.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,te,le){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var se=Q({},D.props),de=D.key,Oe=void 0;if(te!=null)for(Te in te.ref!==void 0&&(Oe=void 0),te.key!==void 0&&(de=""+te.key),te)!xe.call(te,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&te.ref===void 0||(se[Te]=te[Te]);var Te=arguments.length-2;if(Te===1)se.children=le;else if(1<Te){for(var Lt=Array(Te),Ge=0;Ge<Te;Ge++)Lt[Ge]=arguments[Ge+2];se.children=Lt}return M(D.type,de,void 0,void 0,Oe,se)},Re.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,te,le){var se,de={},Oe=null;if(te!=null)for(se in te.key!==void 0&&(Oe=""+te.key),te)xe.call(te,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(de[se]=te[se]);var Te=arguments.length-2;if(Te===1)de.children=le;else if(1<Te){for(var Lt=Array(Te),Ge=0;Ge<Te;Ge++)Lt[Ge]=arguments[Ge+2];de.children=Lt}if(D&&D.defaultProps)for(se in Te=D.defaultProps,Te)de[se]===void 0&&(de[se]=Te[se]);return M(D,Oe,void 0,void 0,null,de)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=I,Re.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:oe}},Re.memo=function(D,te){return{$$typeof:g,type:D,compare:te===void 0?null:te}},Re.startTransition=function(D){var te=he.T,le={};he.T=le;try{var se=D(),de=he.S;de!==null&&de(le,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ue,pe)}catch(Oe){pe(Oe)}finally{he.T=te}},Re.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Re.use=function(D){return he.H.use(D)},Re.useActionState=function(D,te,le){return he.H.useActionState(D,te,le)},Re.useCallback=function(D,te){return he.H.useCallback(D,te)},Re.useContext=function(D){return he.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,te){return he.H.useDeferredValue(D,te)},Re.useEffect=function(D,te,le){var se=he.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(D,te)},Re.useId=function(){return he.H.useId()},Re.useImperativeHandle=function(D,te,le){return he.H.useImperativeHandle(D,te,le)},Re.useInsertionEffect=function(D,te){return he.H.useInsertionEffect(D,te)},Re.useLayoutEffect=function(D,te){return he.H.useLayoutEffect(D,te)},Re.useMemo=function(D,te){return he.H.useMemo(D,te)},Re.useOptimistic=function(D,te){return he.H.useOptimistic(D,te)},Re.useReducer=function(D,te,le){return he.H.useReducer(D,te,le)},Re.useRef=function(D){return he.H.useRef(D)},Re.useState=function(D){return he.H.useState(D)},Re.useSyncExternalStore=function(D,te,le){return he.H.useSyncExternalStore(D,te,le)},Re.useTransition=function(){return he.H.useTransition()},Re.version="19.1.1",Re}var zv;function pp(){return zv||(zv=1,ym.exports=sw()),ym.exports}var P=pp(),_m={exports:{}},ql={},vm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function aw(){return Bv||(Bv=1,(function(i){function e(K,oe){var pe=K.length;K.push(oe);e:for(;0<pe;){var Ue=pe-1>>>1,D=K[Ue];if(0<o(D,oe))K[Ue]=oe,K[pe]=D,pe=Ue;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var oe=K[0],pe=K.pop();if(pe!==oe){K[0]=pe;e:for(var Ue=0,D=K.length,te=D>>>1;Ue<te;){var le=2*(Ue+1)-1,se=K[le],de=le+1,Oe=K[de];if(0>o(se,pe))de<D&&0>o(Oe,se)?(K[Ue]=Oe,K[de]=pe,Ue=de):(K[Ue]=se,K[le]=pe,Ue=le);else if(de<D&&0>o(Oe,pe))K[Ue]=Oe,K[de]=pe,Ue=de;else break e}}return oe}function o(K,oe){var pe=K.sortIndex-oe.sortIndex;return pe!==0?pe:K.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],_=1,b=null,S=3,N=!1,Q=!1,Y=!1,B=!1,ne=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function _e(K){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=K)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function he(K){if(Y=!1,_e(K),!Q)if(n(p)!==null)Q=!0,xe||(xe=!0,U());else{var oe=n(g);oe!==null&&nt(he,oe.startTime-K)}}var xe=!1,M=-1,R=5,I=-1;function k(){return B?!0:!(i.unstable_now()-I<R)}function O(){if(B=!1,xe){var K=i.unstable_now();I=K;var oe=!0;try{e:{Q=!1,Y&&(Y=!1,X(M),M=-1),N=!0;var pe=S;try{t:{for(_e(K),b=n(p);b!==null&&!(b.expirationTime>K&&k());){var Ue=b.callback;if(typeof Ue=="function"){b.callback=null,S=b.priorityLevel;var D=Ue(b.expirationTime<=K);if(K=i.unstable_now(),typeof D=="function"){b.callback=D,_e(K),oe=!0;break t}b===n(p)&&s(p),_e(K)}else s(p);b=n(p)}if(b!==null)oe=!0;else{var te=n(g);te!==null&&nt(he,te.startTime-K),oe=!1}}break e}finally{b=null,S=pe,N=!1}oe=void 0}}finally{oe?U():xe=!1}}}var U;if(typeof re=="function")U=function(){re(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,lt=x.port2;x.port1.onmessage=O,U=function(){lt.postMessage(null)}}else U=function(){ne(O,0)};function nt(K,oe){M=ne(function(){K(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(K){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var pe=S;S=oe;try{return K()}finally{S=pe}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pe=S;S=K;try{return oe()}finally{S=pe}},i.unstable_scheduleCallback=function(K,oe,pe){var Ue=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ue+pe:Ue):pe=Ue,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pe+D,K={id:_++,callback:oe,priorityLevel:K,startTime:pe,expirationTime:D,sortIndex:-1},pe>Ue?(K.sortIndex=pe,e(g,K),n(p)===null&&K===n(g)&&(Y?(X(M),M=-1):Y=!0,nt(he,pe-Ue))):(K.sortIndex=D,e(p,K),Q||N||(Q=!0,xe||(xe=!0,U()))),K},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(K){var oe=S;return function(){var pe=S;S=oe;try{return K.apply(this,arguments)}finally{S=pe}}}})(Em)),Em}var qv;function ow(){return qv||(qv=1,vm.exports=aw()),vm.exports}var Tm={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function lw(){if(Hv)return Kt;Hv=1;var i=pp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Kt.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},Kt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Kt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Kt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,b=m(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:N}):_==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Kt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Kt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Kt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Kt.requestFormReset=function(p){s.d.r(p)},Kt.unstable_batchedUpdates=function(p,g){return p(g)},Kt.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},Kt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Kt.version="19.1.1",Kt}var Fv;function uw(){if(Fv)return Tm.exports;Fv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tm.exports=lw(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function cw(){if(Gv)return ql;Gv=1;var i=ow(),e=pp(),n=uw();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),t;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,T=f.child;T;){if(T===a){E=!0,a=f,l=d;break}if(T===l){E=!0,l=f,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=f;break}if(T===l){E=!0,l=d,a=f;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),re=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case B:return"Profiler";case Y:return"StrictMode";case he:return"Suspense";case xe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case re:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case _e:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return r=t.displayName||null,r!==null?r:lt(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return lt(t(r))}catch{}}return null}var nt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ue=[],D=-1;function te(t){return{current:t}}function le(t){0>D||(t.current=Ue[D],Ue[D]=null,D--)}function se(t,r){D++,Ue[D]=t.current,t.current=r}var de=te(null),Oe=te(null),Te=te(null),Lt=te(null);function Ge(t,r){switch(se(Te,r),se(Oe,t),se(de,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?hv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=hv(r),t=fv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(de),se(de,t)}function zn(){le(de),le(Oe),le(Te)}function Po(t){t.memoizedState!==null&&se(Lt,t);var r=de.current,a=fv(r,t.type);r!==a&&(se(Oe,t),se(de,a))}function ga(t){Oe.current===t&&(le(de),le(Oe)),Lt.current===t&&(le(Lt),kl._currentValue=pe)}var ya=Object.prototype.hasOwnProperty,_s=i.unstable_scheduleCallback,_a=i.unstable_cancelCallback,yf=i.unstable_shouldYield,ko=i.unstable_requestPaint,ln=i.unstable_now,Vu=i.unstable_getCurrentPriorityLevel,wt=i.unstable_ImmediatePriority,Dt=i.unstable_UserBlockingPriority,Rr=i.unstable_NormalPriority,_f=i.unstable_LowPriority,Lo=i.unstable_IdlePriority,vf=i.log,vs=i.unstable_setDisableYieldValue,di=null,Gt=null;function Rn(t){if(typeof vf=="function"&&vs(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(di,t)}catch{}}var en=Math.clz32?Math.clz32:ku,Ef=Math.log,Pu=Math.LN2;function ku(t){return t>>>=0,t===0?32:31-(Ef(t)/Pu|0)|0}var rr=256,mi=4194304;function Bn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function In(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Bn(l):(E&=T,E!==0?f=Bn(E):a||(a=T&~t,a!==0&&(f=Bn(a))))):(T=l&~d,T!==0?f=Bn(T):E!==0?f=Bn(E):a||(a=l&~t,a!==0&&(f=Bn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function pi(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function va(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uo(){var t=rr;return rr<<=1,(rr&4194048)===0&&(rr=256),t}function gi(){var t=mi;return mi<<=1,(mi&62914560)===0&&(mi=4194304),t}function Ea(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ft(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lu(t,r,a,l,f,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(a=E&~a;0<a;){var $=31-en(a),J=1<<$;T[$]=0,C[$]=-1;var H=q[$];if(H!==null)for(q[$]=null,$=0;$<H.length;$++){var F=H[$];F!==null&&(F.lane&=-536870913)}a&=~J}l!==0&&yi(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~r))}function yi(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-en(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function _i(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-en(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function jo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ir(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Dv(t.type))}function Tf(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var ir=Math.random().toString(36).slice(2),dt="__reactFiber$"+ir,Ut="__reactProps$"+ir,Cr="__reactContainer$"+ir,Es="__reactEvents$"+ir,Ts="__reactListeners$"+ir,bf="__reactHandles$"+ir,qn="__reactResources$"+ir,vi="__reactMarker$"+ir;function Ta(t){delete t[dt],delete t[Ut],delete t[Es],delete t[Ts],delete t[bf]}function sr(t){var r=t[dt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Cr]||a[dt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=gv(t);t!==null;){if(a=t[dt])return a;t=gv(t)}return r}t=a,a=t.parentNode}return null}function ar(t){if(t=t[dt]||t[Cr]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Ei(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ti(t){var r=t[qn];return r||(r=t[qn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mt(t){t[vi]=!0}var Uu=new Set,bs={};function or(t,r){lr(t,r),lr(t+"Capture",r)}function lr(t,r){for(bs[t]=r,t=0;t<r.length;t++)Uu.add(r[t])}var As=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ur={},ba={};function Af(t){return ya.call(ba,t)?!0:ya.call(ur,t)?!1:As.test(t)?ba[t]=!0:(ur[t]=!0,!1)}function Ss(t,r,a){if(Af(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ws(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Cn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Rs,Aa;function xr(t){if(Rs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Rs=r&&r[1]||"",Aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rs+t+Aa}var Sa=!1;function wa(t,r){if(!t||Sa)return"";Sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var H=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){H=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){H=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var C=E.split(`
`),q=T.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===q.length)for(l=C.length-1,f=q.length-1;1<=l&&0<=f&&C[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==q[f]){var $=`
`+C[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=f);break}}}finally{Sa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?xr(a):""}function Sf(t){switch(t.tag){case 26:case 27:case 5:return xr(t.type);case 16:return xr("Lazy");case 13:return xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return wa(t.type,!1);case 11:return wa(t.type.render,!1);case 1:return wa(t.type,!0);case 31:return xr("Activity");default:return""}}function Hn(t){try{var r="";do r+=Sf(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function st(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bi(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Is(t){var r=bi(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ai(t){t._valueTracker||(t._valueTracker=Is(t))}function Qe(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=bi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Nr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cs=/[\n"\\]/g;function Ot(t){return t.replace(Cs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Bo(t,r,a,l,f,d,E,T){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+st(r)):t.value!==""+st(r)&&(t.value=""+st(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?Ho(t,E,st(r)):a!=null?Ho(t,E,st(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+st(T):t.removeAttribute("name")}function qo(t,r,a,l,f,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+st(a):"",r=r!=null?""+st(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Ho(t,r,a){r==="number"&&Nr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Si(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+st(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function ju(t,r,a){if(r!=null&&(r=""+st(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+st(a):""}function zu(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(nt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=st(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function xn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Dr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Dr.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Go(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Fo(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Fo(t,d,r[d])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fn(t){return qu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Qo=null;function Yo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wi=null,tn=null;function Hu(t){var r=ar(t);if(r&&(t=r.stateNode)){var a=t[Ut]||null;e:switch(t=r.stateNode,r.type){case"input":if(Bo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ot(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Ut]||null;if(!f)throw Error(s(90));Bo(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Qe(l)}break e;case"textarea":ju(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Si(t,!!a.multiple,r,!1)}}}var xs=!1;function Ns(t,r,a){if(xs)return t(r,a);xs=!0;try{var l=t(r);return l}finally{if(xs=!1,(wi!==null||tn!==null)&&(Oc(),wi&&(r=wi,t=tn,tn=wi=null,Hu(r),t)))for(r=0;r<t.length;r++)Hu(t[r])}}function Ri(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(nn)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){Or=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{Or=!1}var Nn=null,We=null,Ia=null;function Fu(){if(Ia)return Ia;var t,r=We,a=r.length,l,f="value"in Nn?Nn.value:Nn.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var E=a-t;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return Ia=f.slice(t,1<l?1-l:void 0)}function Ds(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Os(){return!0}function Ko(){return!1}function Rt(t){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Os:Ko,this.isPropagationStopped=Ko,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),r}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=Rt(Qt),Vs=_({},Qt,{view:0,detail:0}),Ps=Rt(Vs),Ca,ks,cr,Ls=_({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cr&&(cr&&t.type==="mousemove"?(Ca=t.screenX-cr.screenX,ks=t.screenY-cr.screenY):ks=Ca=0,cr=t),Ca)},movementY:function(t){return"movementY"in t?t.movementY:ks}}),Us=Rt(Ls),wf=_({},Ls,{dataTransfer:0}),Gu=Rt(wf),js=_({},Vs,{relatedTarget:0}),xa=Rt(js),Qu=_({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),$o=Rt(Qu),Xo=_({},Qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yu=Rt(Xo),Na=_({},Qt,{data:0}),Wo=Rt(Na),Ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=$u[t])?!!r[t]:!1}function Da(){return Xu}var Wu=_({},Vs,{key:function(t){if(t.key){var r=Ku[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(t){return t.type==="keypress"?Ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oa=Rt(Wu),rn=_({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=Rt(rn),Zu=_({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),Ci=Rt(Zu),c=_({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=Rt(c),v=_({},Ls,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A=Rt(v),z=_({},Qt,{newState:0,oldState:0}),G=Rt(z),ie=[9,13,27,32],Se=nn&&"CompositionEvent"in window,et=null;nn&&"documentMode"in document&&(et=document.documentMode);var qe=nn&&"TextEvent"in window&&!et,pt=nn&&(!Se||et&&8<et&&11>=et),gn=" ",hr=!1;function Gn(t,r){switch(t){case"keyup":return ie.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yn=!1;function Jo(t,r){switch(t){case"compositionend":return Qn(r);case"keypress":return r.which!==32?null:(hr=!0,gn);case"textInput":return t=r.data,t===gn&&hr?null:t;default:return null}}function NA(t,r){if(Yn)return t==="compositionend"||!Se&&Gn(t,r)?(t=Fu(),Ia=We=Nn=null,Yn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return pt&&r.locale!=="ko"?null:r.data;default:return null}}var DA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!DA[t.type]:r==="textarea"}function Rg(t,r,a,l){wi?tn?tn.push(l):tn=[l]:wi=l,r=Uc(r,"onChange"),0<r.length&&(a=new Ms("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var el=null,tl=null;function OA(t){av(t,0)}function Ju(t){var r=Ei(t);if(Qe(r))return t}function Ig(t,r){if(t==="change")return r}var Cg=!1;if(nn){var Rf;if(nn){var If="oninput"in document;if(!If){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),If=typeof xg.oninput=="function"}Rf=If}else Rf=!1;Cg=Rf&&(!document.documentMode||9<document.documentMode)}function Ng(){el&&(el.detachEvent("onpropertychange",Dg),tl=el=null)}function Dg(t){if(t.propertyName==="value"&&Ju(tl)){var r=[];Rg(r,tl,t,Yo(t)),Ns(OA,r)}}function MA(t,r,a){t==="focusin"?(Ng(),el=r,tl=a,el.attachEvent("onpropertychange",Dg)):t==="focusout"&&Ng()}function VA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(tl)}function PA(t,r){if(t==="click")return Ju(r)}function kA(t,r){if(t==="input"||t==="change")return Ju(r)}function LA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var yn=typeof Object.is=="function"?Object.is:LA;function nl(t,r){if(yn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ya.call(r,f)||!yn(t[f],r[f]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mg(t,r){var a=Og(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Og(a)}}function Vg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Vg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Pg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Nr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Nr(t.document)}return r}function Cf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var UA=nn&&"documentMode"in document&&11>=document.documentMode,Ma=null,xf=null,rl=null,Nf=!1;function kg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nf||Ma==null||Ma!==Nr(l)||(l=Ma,"selectionStart"in l&&Cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&nl(rl,l)||(rl=l,l=Uc(xf,"onSelect"),0<l.length&&(r=new Ms("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ma)))}function zs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Va={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},Df={},Lg={};nn&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Bs(t){if(Df[t])return Df[t];if(!Va[t])return t;var r=Va[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Lg)return Df[t]=r[a];return t}var Ug=Bs("animationend"),jg=Bs("animationiteration"),zg=Bs("animationstart"),jA=Bs("transitionrun"),zA=Bs("transitionstart"),BA=Bs("transitioncancel"),Bg=Bs("transitionend"),qg=new Map,Of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Of.push("scrollEnd");function Kn(t,r){qg.set(t,r),or(r,[t])}var Hg=new WeakMap;function Dn(t,r){if(typeof t=="object"&&t!==null){var a=Hg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Hn(r)},Hg.set(t,r),r)}return{value:t,source:r,stack:Hn(r)}}var On=[],Pa=0,Mf=0;function ec(){for(var t=Pa,r=Mf=Pa=0;r<t;){var a=On[r];On[r++]=null;var l=On[r];On[r++]=null;var f=On[r];On[r++]=null;var d=On[r];if(On[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Fg(a,f,d)}}function tc(t,r,a,l){On[Pa++]=t,On[Pa++]=r,On[Pa++]=a,On[Pa++]=l,Mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vf(t,r,a,l){return tc(t,r,a,l),nc(t)}function ka(t,r){return tc(t,null,null,r),nc(t)}function Fg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-en(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function nc(t){if(50<Cl)throw Cl=0,zd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var La={};function qA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,r,a,l){return new qA(t,r,a,l)}function Pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vr(t,r){var a=t.alternate;return a===null?(a=_n(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Gg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function rc(t,r,a,l,f,d){var E=0;if(l=t,typeof t=="function")Pf(t)&&(E=1);else if(typeof t=="string")E=FS(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=_n(31,a,r,f),t.elementType=I,t.lanes=d,t;case Q:return qs(a.children,f,d,r);case Y:E=8,f|=24;break;case B:return t=_n(12,a,r,f|2),t.elementType=B,t.lanes=d,t;case he:return t=_n(13,a,r,f),t.elementType=he,t.lanes=d,t;case xe:return t=_n(19,a,r,f),t.elementType=xe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:case re:E=10;break e;case X:E=9;break e;case _e:E=11;break e;case M:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=_n(E,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function qs(t,r,a,l){return t=_n(7,t,l,r),t.lanes=a,t}function kf(t,r,a){return t=_n(6,t,null,r),t.lanes=a,t}function Lf(t,r,a){return r=_n(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ua=[],ja=0,ic=null,sc=0,Mn=[],Vn=0,Hs=null,Pr=1,kr="";function Fs(t,r){Ua[ja++]=sc,Ua[ja++]=ic,ic=t,sc=r}function Qg(t,r,a){Mn[Vn++]=Pr,Mn[Vn++]=kr,Mn[Vn++]=Hs,Hs=t;var l=Pr;t=kr;var f=32-en(l)-1;l&=~(1<<f),a+=1;var d=32-en(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Pr=1<<32-en(r)+f|a<<f|l,kr=d+t}else Pr=1<<d|a<<f|l,kr=t}function Uf(t){t.return!==null&&(Fs(t,1),Qg(t,1,0))}function jf(t){for(;t===ic;)ic=Ua[--ja],Ua[ja]=null,sc=Ua[--ja],Ua[ja]=null;for(;t===Hs;)Hs=Mn[--Vn],Mn[Vn]=null,kr=Mn[--Vn],Mn[Vn]=null,Pr=Mn[--Vn],Mn[Vn]=null}var sn=null,ut=null,ze=!1,Gs=null,fr=!1,zf=Error(s(519));function Qs(t){var r=Error(s(418,""));throw al(Dn(r,t)),zf}function Yg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[dt]=t,r[Ut]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<Nl.length;a++)De(Nl[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),qo(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ai(r);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),zu(r,l.value,l.defaultValue,l.children),Ai(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||cv(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=jc),r=!0):r=!1,r||Qs(t)}function Kg(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:sn=sn.return}}function il(t){if(t!==sn)return!1;if(!ze)return Kg(t),ze=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||nm(t.type,t.memoizedProps)),a=!a),a&&ut&&Qs(t),Kg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ut=Xn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ut=null}}else r===27?(r=ut,Fi(t.type)?(t=am,am=null,ut=t):ut=r):ut=sn?Xn(t.stateNode.nextSibling):null;return!0}function sl(){ut=sn=null,ze=!1}function $g(){var t=Gs;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Gs=null),t}function al(t){Gs===null?Gs=[t]:Gs.push(t)}var Bf=te(null),Ys=null,Lr=null;function xi(t,r,a){se(Bf,r._currentValue),r._currentValue=a}function Ur(t){t._currentValue=Bf.current,le(Bf)}function qf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Hf(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),qf(d.return,a,t),l||(E=null);break e}d=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),qf(E,a,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function ol(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=f.type;yn(f.pendingProps.value,E.value)||(t!==null?t.push(T):t=[T])}}else if(f===Lt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}f=f.return}t!==null&&Hf(r,t,a,l),r.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ks(t){Ys=t,Lr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Xg(Ys,t)}function oc(t,r){return Ys===null&&Ks(t),Xg(t,r)}function Xg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Lr===null){if(t===null)throw Error(s(308));Lr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Lr=Lr.next=r;return a}var HA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},FA=i.unstable_scheduleCallback,GA=i.unstable_NormalPriority,It={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new HA,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&FA(GA,function(){t.controller.abort()})}var ul=null,Gf=0,za=0,Ba=null;function QA(t,r){if(ul===null){var a=ul=[];Gf=0,za=Yd(),Ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,r.then(Wg,Wg),r}function Wg(){if(--Gf===0&&ul!==null){Ba!==null&&(Ba.status="fulfilled");var t=ul;ul=null,za=0,Ba=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function YA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Zg=K.S;K.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&QA(t,r),Zg!==null&&Zg(t,r)};var $s=te(null);function Qf(){var t=$s.current;return t!==null?t:Ze.pooledCache}function lc(t,r){r===null?se($s,$s.current):se($s,r.pool)}function Jg(){var t=Qf();return t===null?null:{parent:It._currentValue,pool:t}}var cl=Error(s(460)),ey=Error(s(474)),uc=Error(s(542)),Yf={then:function(){}};function ty(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cc(){}function ny(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(cc,cc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,iy(t),t;default:if(typeof r.status=="string")r.then(cc,cc);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,iy(t),t}throw hl=r,cl}}var hl=null;function ry(){if(hl===null)throw Error(s(459));var t=hl;return hl=null,t}function iy(t){if(t===cl||t===uc)throw Error(s(483))}var Ni=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Di(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Oi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=nc(t),Fg(t,null,a),r}return tc(t,l,r,a),nc(t)}function fl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,_i(t,a)}}function Xf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Wf=!1;function dl(){if(Wf){var t=Ba;if(t!==null)throw t}}function ml(t,r,a,l){Wf=!1;var f=t.updateQueue;Ni=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,q=C.next;C.next=null,E===null?d=q:E.next=q,E=C;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==E&&(T===null?$.firstBaseUpdate=q:T.next=q,$.lastBaseUpdate=C))}if(d!==null){var J=f.baseState;E=0,$=q=C=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(ke&H)===H:(l&H)===H){H!==0&&H===za&&(Wf=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=t,ge=T;H=r;var $e=a;switch(ge.tag){case 1:if(be=ge.payload,typeof be=="function"){J=be.call($e,J,H);break e}J=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ge.payload,H=typeof be=="function"?be.call($e,J,H):be,H==null)break e;J=_({},J,H);break e;case 2:Ni=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=f.callbacks,F===null?f.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(q=$=F,C=J):$=$.next=F,E|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;F=T,T=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);$===null&&(C=J),f.baseState=C,f.firstBaseUpdate=q,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),zi|=E,t.lanes=E,t.memoizedState=J}}function sy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function ay(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sy(a[t],r)}var qa=te(null),hc=te(0);function oy(t,r){t=Gr,se(hc,t),se(qa,r),Gr=t|r.baseLanes}function Zf(){se(hc,Gr),se(qa,qa.current)}function Jf(){Gr=hc.current,le(qa),le(hc)}var Mi=0,Ie=null,Ye=null,Et=null,fc=!1,Ha=!1,Xs=!1,dc=0,pl=0,Fa=null,KA=0;function gt(){throw Error(s(321))}function ed(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!yn(t[a],r[a]))return!1;return!0}function td(t,r,a,l,f,d){return Mi=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=t===null||t.memoizedState===null?Fy:Gy,Xs=!1,d=a(l,f),Xs=!1,Ha&&(d=uy(r,a,l,f)),ly(t),d}function ly(t){K.H=vc;var r=Ye!==null&&Ye.next!==null;if(Mi=0,Et=Ye=Ie=null,fc=!1,pl=0,Fa=null,r)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&ac(t)&&(Mt=!0))}function uy(t,r,a,l){Ie=t;var f=0;do{if(Ha&&(Fa=null),pl=0,Ha=!1,25<=f)throw Error(s(301));if(f+=1,Et=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=tS,d=r(a,l)}while(Ha);return d}function $A(){var t=K.H,r=t.useState()[0];return r=typeof r.then=="function"?gl(r):r,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ie.flags|=1024),r}function nd(){var t=dc!==0;return dc=0,t}function rd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function id(t){if(fc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}fc=!1}Mi=0,Et=Ye=Ie=null,Ha=!1,pl=dc=0,Fa=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ie.memoizedState=Et=t:Et=Et.next=t,Et}function Tt(){if(Ye===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var r=Et===null?Ie.memoizedState:Et.next;if(r!==null)Et=r,Ye=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Et===null?Ie.memoizedState=Et=t:Et=Et.next=t}return Et}function sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var r=pl;return pl+=1,Fa===null&&(Fa=[]),t=ny(Fa,t,r),r=Ie,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?Fy:Gy),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===re)return Yt(t)}throw Error(s(438,String(t)))}function ad(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=sd(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=k;return r.index++,a}function jr(t,r){return typeof r=="function"?r(t):r}function pc(t){var r=Tt();return od(r,Ye,t)}function od(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var T=E=null,C=null,q=r,$=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(ke&J)===J:(Mi&J)===J){var H=q.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===za&&($=!0);else if((Mi&H)===H){q=q.next,H===za&&($=!0);continue}else J={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=J,E=d):C=C.next=J,Ie.lanes|=H,zi|=H;J=q.action,Xs&&a(d,J),d=q.hasEagerState?q.eagerState:a(d,J)}else H={lane:J,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=H,E=d):C=C.next=H,Ie.lanes|=J,zi|=J;q=q.next}while(q!==null&&q!==r);if(C===null?E=d:C.next=T,!yn(d,t.memoizedState)&&(Mt=!0,$&&(a=Ba,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ld(t){var r=Tt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);yn(d,r.memoizedState)||(Mt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function cy(t,r,a){var l=Ie,f=Tt(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!yn((Ye||f).memoizedState,a);E&&(f.memoizedState=a,Mt=!0),f=f.queue;var T=dy.bind(null,l,f,t);if(yl(2048,8,T,[t]),f.getSnapshot!==r||E||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Ga(9,gc(),fy.bind(null,l,f,a,r),null),Ze===null)throw Error(s(349));d||(Mi&124)!==0||hy(l,r,a)}return a}function hy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=sd(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function fy(t,r,a,l){r.value=a,r.getSnapshot=l,my(r)&&py(t)}function dy(t,r,a){return a(function(){my(r)&&py(t)})}function my(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!yn(t,a)}catch{return!0}}function py(t){var r=ka(t,2);r!==null&&An(r,t,2)}function ud(t){var r=un();if(typeof t=="function"){var a=t;if(t=a(),Xs){Rn(!0);try{a()}finally{Rn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:t},r}function gy(t,r,a,l){return t.baseState=a,od(t,Ye,typeof l=="function"?l:jr)}function XA(t,r,a,l,f){if(_c(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,yy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function yy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=K.T,E={};K.T=E;try{var T=a(f,l),C=K.S;C!==null&&C(E,T),_y(t,r,T)}catch(q){cd(t,r,q)}finally{K.T=d}}else try{d=a(f,l),_y(t,r,d)}catch(q){cd(t,r,q)}}function _y(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){vy(t,r,l)},function(l){return cd(t,r,l)}):vy(t,r,a)}function vy(t,r,a){r.status="fulfilled",r.value=a,Ey(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,yy(t,a)))}function cd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ey(r),r=r.next;while(r!==l)}t.action=null}function Ey(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Ty(t,r){return r}function by(t,r){if(ze){var a=Ze.formState;if(a!==null){e:{var l=Ie;if(ze){if(ut){t:{for(var f=ut,d=fr;f.nodeType!==8;){if(!d){f=null;break t}if(f=Xn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ut=Xn(f.nextSibling),l=f.data==="F!";break e}}Qs(l)}l=!1}l&&(r=a[0])}}return a=un(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ty,lastRenderedState:r},a.queue=l,a=By.bind(null,Ie,l),l.dispatch=a,l=ud(!1),d=pd.bind(null,Ie,!1,l.queue),l=un(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=XA.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Ay(t){var r=Tt();return Sy(r,Ye,t)}function Sy(t,r,a){if(r=od(t,r,Ty)[0],t=pc(jr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=gl(r)}catch(E){throw E===cl?uc:E}else l=r;r=Tt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Ga(9,gc(),WA.bind(null,f,a),null)),[l,d,t]}function WA(t,r){t.action=r}function wy(t){var r=Tt(),a=Ye;if(a!==null)return Sy(r,a,t);Tt(),r=r.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ga(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=sd(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function gc(){return{destroy:void 0,resource:void 0}}function Ry(){return Tt().memoizedState}function yc(t,r,a,l){var f=un();l=l===void 0?null:l,Ie.flags|=t,f.memoizedState=Ga(1|r,gc(),a,l)}function yl(t,r,a,l){var f=Tt();l=l===void 0?null:l;var d=f.memoizedState.inst;Ye!==null&&l!==null&&ed(l,Ye.memoizedState.deps)?f.memoizedState=Ga(r,d,a,l):(Ie.flags|=t,f.memoizedState=Ga(1|r,d,a,l))}function Iy(t,r){yc(8390656,8,t,r)}function Cy(t,r){yl(2048,8,t,r)}function xy(t,r){return yl(4,2,t,r)}function Ny(t,r){return yl(4,4,t,r)}function Dy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Oy(t,r,a){a=a!=null?a.concat([t]):null,yl(4,4,Dy.bind(null,r,t),a)}function hd(){}function My(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&ed(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Vy(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&ed(r,l[1]))return l[0];if(l=t(),Xs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,r],l}function fd(t,r,a){return a===void 0||(Mi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=L_(),Ie.lanes|=t,zi|=t,a)}function Py(t,r,a,l){return yn(a,r)?a:qa.current!==null?(t=fd(t,a,l),yn(t,r)||(Mt=!0),t):(Mi&42)===0?(Mt=!0,t.memoizedState=a):(t=L_(),Ie.lanes|=t,zi|=t,r)}function ky(t,r,a,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var E=K.T,T={};K.T=T,pd(t,!1,r,a);try{var C=f(),q=K.S;if(q!==null&&q(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=YA(C,l);_l(t,r,$,bn(t))}else _l(t,r,l,bn(t))}catch(J){_l(t,r,{then:function(){},status:"rejected",reason:J},bn())}finally{oe.p=d,K.T=E}}function ZA(){}function dd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=Ly(t).queue;ky(t,f,r,pe,a===null?ZA:function(){return Uy(t),a(l)})}function Ly(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Uy(t){var r=Ly(t).next.queue;_l(t,r,{},bn())}function md(){return Yt(kl)}function jy(){return Tt().memoizedState}function zy(){return Tt().memoizedState}function JA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=bn();t=Di(a);var l=Oi(r,t,a);l!==null&&(An(l,r,a),fl(l,r,a)),r={cache:Ff()},t.payload=r;return}r=r.return}}function eS(t,r,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?qy(r,a):(a=Vf(t,r,a,l),a!==null&&(An(a,t,l),Hy(a,r,l)))}function By(t,r,a){var l=bn();_l(t,r,a,l)}function _l(t,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))qy(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,T=d(E,a);if(f.hasEagerState=!0,f.eagerState=T,yn(T,E))return tc(t,r,f,0),Ze===null&&ec(),!1}catch{}finally{}if(a=Vf(t,r,f,l),a!==null)return An(a,t,l),Hy(a,r,l),!0}return!1}function pd(t,r,a,l){if(l={lane:2,revertLane:Yd(),action:l,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(r)throw Error(s(479))}else r=Vf(t,a,l,2),r!==null&&An(r,t,2)}function _c(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function qy(t,r){Ha=fc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Hy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,_i(t,a)}}var vc={readContext:Yt,use:mc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Fy={readContext:Yt,use:mc,useCallback:function(t,r){return un().memoizedState=[t,r===void 0?null:r],t},useContext:Yt,useEffect:Iy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,yc(4194308,4,Dy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return yc(4194308,4,t,r)},useInsertionEffect:function(t,r){yc(4,2,t,r)},useMemo:function(t,r){var a=un();r=r===void 0?null:r;var l=t();if(Xs){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=un();if(a!==void 0){var f=a(r);if(Xs){Rn(!0);try{a(r)}finally{Rn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=eS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=un();return t={current:t},r.memoizedState=t},useState:function(t){t=ud(t);var r=t.queue,a=By.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:hd,useDeferredValue:function(t,r){var a=un();return fd(a,t,r)},useTransition:function(){var t=ud(!1);return t=ky.bind(null,Ie,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,f=un();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ze===null)throw Error(s(349));(ke&124)!==0||hy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Iy(dy.bind(null,l,d,t),[t]),l.flags|=2048,Ga(9,gc(),fy.bind(null,l,d,a,r),null),a},useId:function(){var t=un(),r=Ze.identifierPrefix;if(ze){var a=kr,l=Pr;a=(l&~(1<<32-en(l)-1)).toString(32)+a,r=""+r+"R"+a,a=dc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=KA++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:md,useFormState:by,useActionState:by,useOptimistic:function(t){var r=un();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=pd.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:ad,useCacheRefresh:function(){return un().memoizedState=JA.bind(null,Ie)}},Gy={readContext:Yt,use:mc,useCallback:My,useContext:Yt,useEffect:Cy,useImperativeHandle:Oy,useInsertionEffect:xy,useLayoutEffect:Ny,useMemo:Vy,useReducer:pc,useRef:Ry,useState:function(){return pc(jr)},useDebugValue:hd,useDeferredValue:function(t,r){var a=Tt();return Py(a,Ye.memoizedState,t,r)},useTransition:function(){var t=pc(jr)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:gl(t),r]},useSyncExternalStore:cy,useId:jy,useHostTransitionStatus:md,useFormState:Ay,useActionState:Ay,useOptimistic:function(t,r){var a=Tt();return gy(a,Ye,t,r)},useMemoCache:ad,useCacheRefresh:zy},tS={readContext:Yt,use:mc,useCallback:My,useContext:Yt,useEffect:Cy,useImperativeHandle:Oy,useInsertionEffect:xy,useLayoutEffect:Ny,useMemo:Vy,useReducer:ld,useRef:Ry,useState:function(){return ld(jr)},useDebugValue:hd,useDeferredValue:function(t,r){var a=Tt();return Ye===null?fd(a,t,r):Py(a,Ye.memoizedState,t,r)},useTransition:function(){var t=ld(jr)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:gl(t),r]},useSyncExternalStore:cy,useId:jy,useHostTransitionStatus:md,useFormState:wy,useActionState:wy,useOptimistic:function(t,r){var a=Tt();return Ye!==null?gy(a,Ye,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:zy},Qa=null,vl=0;function Ec(t){var r=vl;return vl+=1,Qa===null&&(Qa=[]),ny(Qa,t,r)}function El(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Tc(t,r){throw r.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Qy(t){var r=t._init;return r(t._payload)}function Yy(t){function r(L,V){if(t){var j=L.deletions;j===null?(L.deletions=[V],L.flags|=16):j.push(V)}}function a(L,V){if(!t)return null;for(;V!==null;)r(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function f(L,V){return L=Vr(L,V),L.index=0,L.sibling=null,L}function d(L,V,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<V?(L.flags|=67108866,V):j):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function E(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,V,j,Z){return V===null||V.tag!==6?(V=kf(j,L.mode,Z),V.return=L,V):(V=f(V,j),V.return=L,V)}function C(L,V,j,Z){var ce=j.type;return ce===Q?$(L,V,j.props.children,Z,j.key):V!==null&&(V.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===R&&Qy(ce)===V.type)?(V=f(V,j.props),El(V,j),V.return=L,V):(V=rc(j.type,j.key,j.props,null,L.mode,Z),El(V,j),V.return=L,V)}function q(L,V,j,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=Lf(j,L.mode,Z),V.return=L,V):(V=f(V,j.children||[]),V.return=L,V)}function $(L,V,j,Z,ce){return V===null||V.tag!==7?(V=qs(j,L.mode,Z,ce),V.return=L,V):(V=f(V,j),V.return=L,V)}function J(L,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=kf(""+V,L.mode,j),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return j=rc(V.type,V.key,V.props,null,L.mode,j),El(j,V),j.return=L,j;case N:return V=Lf(V,L.mode,j),V.return=L,V;case R:var Z=V._init;return V=Z(V._payload),J(L,V,j)}if(nt(V)||U(V))return V=qs(V,L.mode,j,null),V.return=L,V;if(typeof V.then=="function")return J(L,Ec(V),j);if(V.$$typeof===re)return J(L,oc(L,V),j);Tc(L,V)}return null}function H(L,V,j,Z){var ce=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ce!==null?null:T(L,V,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===ce?C(L,V,j,Z):null;case N:return j.key===ce?q(L,V,j,Z):null;case R:return ce=j._init,j=ce(j._payload),H(L,V,j,Z)}if(nt(j)||U(j))return ce!==null?null:$(L,V,j,Z,null);if(typeof j.then=="function")return H(L,V,Ec(j),Z);if(j.$$typeof===re)return H(L,V,oc(L,j),Z);Tc(L,j)}return null}function F(L,V,j,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(j)||null,T(V,L,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return L=L.get(Z.key===null?j:Z.key)||null,C(V,L,Z,ce);case N:return L=L.get(Z.key===null?j:Z.key)||null,q(V,L,Z,ce);case R:var Ce=Z._init;return Z=Ce(Z._payload),F(L,V,j,Z,ce)}if(nt(Z)||U(Z))return L=L.get(j)||null,$(V,L,Z,ce,null);if(typeof Z.then=="function")return F(L,V,j,Ec(Z),ce);if(Z.$$typeof===re)return F(L,V,j,oc(V,Z),ce);Tc(V,Z)}return null}function be(L,V,j,Z){for(var ce=null,Ce=null,fe=V,ye=V=0,Pt=null;fe!==null&&ye<j.length;ye++){fe.index>ye?(Pt=fe,fe=null):Pt=fe.sibling;var je=H(L,fe,j[ye],Z);if(je===null){fe===null&&(fe=Pt);break}t&&fe&&je.alternate===null&&r(L,fe),V=d(je,V,ye),Ce===null?ce=je:Ce.sibling=je,Ce=je,fe=Pt}if(ye===j.length)return a(L,fe),ze&&Fs(L,ye),ce;if(fe===null){for(;ye<j.length;ye++)fe=J(L,j[ye],Z),fe!==null&&(V=d(fe,V,ye),Ce===null?ce=fe:Ce.sibling=fe,Ce=fe);return ze&&Fs(L,ye),ce}for(fe=l(fe);ye<j.length;ye++)Pt=F(fe,L,ye,j[ye],Z),Pt!==null&&(t&&Pt.alternate!==null&&fe.delete(Pt.key===null?ye:Pt.key),V=d(Pt,V,ye),Ce===null?ce=Pt:Ce.sibling=Pt,Ce=Pt);return t&&fe.forEach(function($i){return r(L,$i)}),ze&&Fs(L,ye),ce}function ge(L,V,j,Z){if(j==null)throw Error(s(151));for(var ce=null,Ce=null,fe=V,ye=V=0,Pt=null,je=j.next();fe!==null&&!je.done;ye++,je=j.next()){fe.index>ye?(Pt=fe,fe=null):Pt=fe.sibling;var $i=H(L,fe,je.value,Z);if($i===null){fe===null&&(fe=Pt);break}t&&fe&&$i.alternate===null&&r(L,fe),V=d($i,V,ye),Ce===null?ce=$i:Ce.sibling=$i,Ce=$i,fe=Pt}if(je.done)return a(L,fe),ze&&Fs(L,ye),ce;if(fe===null){for(;!je.done;ye++,je=j.next())je=J(L,je.value,Z),je!==null&&(V=d(je,V,ye),Ce===null?ce=je:Ce.sibling=je,Ce=je);return ze&&Fs(L,ye),ce}for(fe=l(fe);!je.done;ye++,je=j.next())je=F(fe,L,ye,je.value,Z),je!==null&&(t&&je.alternate!==null&&fe.delete(je.key===null?ye:je.key),V=d(je,V,ye),Ce===null?ce=je:Ce.sibling=je,Ce=je);return t&&fe.forEach(function(nw){return r(L,nw)}),ze&&Fs(L,ye),ce}function $e(L,V,j,Z){if(typeof j=="object"&&j!==null&&j.type===Q&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:e:{for(var ce=j.key;V!==null;){if(V.key===ce){if(ce=j.type,ce===Q){if(V.tag===7){a(L,V.sibling),Z=f(V,j.props.children),Z.return=L,L=Z;break e}}else if(V.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===R&&Qy(ce)===V.type){a(L,V.sibling),Z=f(V,j.props),El(Z,j),Z.return=L,L=Z;break e}a(L,V);break}else r(L,V);V=V.sibling}j.type===Q?(Z=qs(j.props.children,L.mode,Z,j.key),Z.return=L,L=Z):(Z=rc(j.type,j.key,j.props,null,L.mode,Z),El(Z,j),Z.return=L,L=Z)}return E(L);case N:e:{for(ce=j.key;V!==null;){if(V.key===ce)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(L,V.sibling),Z=f(V,j.children||[]),Z.return=L,L=Z;break e}else{a(L,V);break}else r(L,V);V=V.sibling}Z=Lf(j,L.mode,Z),Z.return=L,L=Z}return E(L);case R:return ce=j._init,j=ce(j._payload),$e(L,V,j,Z)}if(nt(j))return be(L,V,j,Z);if(U(j)){if(ce=U(j),typeof ce!="function")throw Error(s(150));return j=ce.call(j),ge(L,V,j,Z)}if(typeof j.then=="function")return $e(L,V,Ec(j),Z);if(j.$$typeof===re)return $e(L,V,oc(L,j),Z);Tc(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(a(L,V.sibling),Z=f(V,j),Z.return=L,L=Z):(a(L,V),Z=kf(j,L.mode,Z),Z.return=L,L=Z),E(L)):a(L,V)}return function(L,V,j,Z){try{vl=0;var ce=$e(L,V,j,Z);return Qa=null,ce}catch(fe){if(fe===cl||fe===uc)throw fe;var Ce=_n(29,fe,null,L.mode);return Ce.lanes=Z,Ce.return=L,Ce}finally{}}}var Ya=Yy(!0),Ky=Yy(!1),Pn=te(null),dr=null;function Vi(t){var r=t.alternate;se(Ct,Ct.current&1),se(Pn,t),dr===null&&(r===null||qa.current!==null||r.memoizedState!==null)&&(dr=t)}function $y(t){if(t.tag===22){if(se(Ct,Ct.current),se(Pn,t),dr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(dr=t)}}else Pi()}function Pi(){se(Ct,Ct.current),se(Pn,Pn.current)}function zr(t){le(Pn),dr===t&&(dr=null),le(Ct)}var Ct=te(0);function bc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||sm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function gd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var yd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=bn(),f=Di(l);f.payload=r,a!=null&&(f.callback=a),r=Oi(t,f,l),r!==null&&(An(r,t,l),fl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=bn(),f=Di(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Oi(t,f,l),r!==null&&(An(r,t,l),fl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=bn(),l=Di(a);l.tag=2,r!=null&&(l.callback=r),r=Oi(t,l,a),r!==null&&(An(r,t,a),fl(r,t,a))}};function Xy(t,r,a,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!nl(a,l)||!nl(f,d):!0}function Wy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&yd.enqueueReplaceState(r,r.state,null)}function Ws(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=_({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var Ac=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Zy(t){Ac(t)}function Jy(t){console.error(t)}function e_(t){Ac(t)}function Sc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function t_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function _d(t,r,a){return a=Di(a),a.tag=3,a.payload={element:null},a.callback=function(){Sc(t,r)},a}function n_(t){return t=Di(t),t.tag=3,t}function r_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){t_(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){t_(r,a,l),typeof f!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function nS(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ol(r,a,f,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return dr===null?qd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Yf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Fd(t,l,f)),!1;case 22:return a.flags|=65536,l===Yf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Fd(t,l,f)),!1}throw Error(s(435,a.tag))}return Fd(t,l,f),qd(),!1}if(ze)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==zf&&(t=Error(s(422),{cause:l}),al(Dn(t,a)))):(l!==zf&&(r=Error(s(423),{cause:l}),al(Dn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Dn(l,a),f=_d(t.stateNode,l,f),Xf(t,f),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),Il===null?Il=[d]:Il.push(d),ct!==4&&(ct=2),r===null)return!0;l=Dn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=_d(a.stateNode,l,t),Xf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Bi===null||!Bi.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=n_(f),r_(f,t,a,l),Xf(a,f),!1}a=a.return}while(a!==null);return!1}var i_=Error(s(461)),Mt=!1;function jt(t,r,a,l){r.child=t===null?Ky(r,null,a,l):Ya(r,t.child,a,l)}function s_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return Ks(r),l=td(t,r,a,E,d,f),T=nd(),t!==null&&!Mt?(rd(t,r,f),Br(t,r,f)):(ze&&T&&Uf(r),r.flags|=1,jt(t,r,l,f),r.child)}function a_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Pf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,o_(t,r,d,l,f)):(t=rc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Rd(t,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(E,l)&&t.ref===r.ref)return Br(t,r,f)}return r.flags|=1,t=Vr(d,l),t.ref=r.ref,t.return=r,r.child=t}function o_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(nl(d,l)&&t.ref===r.ref)if(Mt=!1,r.pendingProps=l=d,Rd(t,f))(t.flags&131072)!==0&&(Mt=!0);else return r.lanes=t.lanes,Br(t,r,f)}return vd(t,r,a,l,f)}function l_(t,r,a){var l=r.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(f=r.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return u_(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(r,d!==null?d.cachePool:null),d!==null?oy(r,d):Zf(),$y(r);else return r.lanes=r.childLanes=536870912,u_(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(lc(r,d.cachePool),oy(r,d),Pi(),r.memoizedState=null):(t!==null&&lc(r,null),Zf(),Pi());return jt(t,r,f,a),r.child}function u_(t,r,a,l){var f=Qf();return f=f===null?null:{parent:It._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&lc(r,null),Zf(),$y(r),t!==null&&ol(t,r,l,!0),null}function wc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function vd(t,r,a,l,f){return Ks(r),a=td(t,r,a,l,void 0,f),l=nd(),t!==null&&!Mt?(rd(t,r,f),Br(t,r,f)):(ze&&l&&Uf(r),r.flags|=1,jt(t,r,a,f),r.child)}function c_(t,r,a,l,f,d){return Ks(r),r.updateQueue=null,a=uy(r,l,a,f),ly(t),l=nd(),t!==null&&!Mt?(rd(t,r,d),Br(t,r,d)):(ze&&l&&Uf(r),r.flags|=1,jt(t,r,a,d),r.child)}function h_(t,r,a,l,f){if(Ks(r),r.stateNode===null){var d=La,E=a.contextType;typeof E=="object"&&E!==null&&(d=Yt(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Kf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Yt(E):La,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(gd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&yd.enqueueReplaceState(d,d.state,null),ml(r,l,d,f),dl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,C=Ws(a,T);d.props=C;var q=d.context,$=a.contextType;E=La,typeof $=="object"&&$!==null&&(E=Yt($));var J=a.getDerivedStateFromProps;$=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==E)&&Wy(r,d,l,E),Ni=!1;var H=r.memoizedState;d.state=H,ml(r,l,d,f),dl(),q=r.memoizedState,T||H!==q||Ni?(typeof J=="function"&&(gd(r,a,J,l),q=r.memoizedState),(C=Ni||Xy(r,a,C,l,H,q,E))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,$f(t,r),E=r.memoizedProps,$=Ws(a,E),d.props=$,J=r.pendingProps,H=d.context,q=a.contextType,C=La,typeof q=="object"&&q!==null&&(C=Yt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||H!==C)&&Wy(r,d,l,C),Ni=!1,H=r.memoizedState,d.state=H,ml(r,l,d,f),dl();var F=r.memoizedState;E!==J||H!==F||Ni||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof T=="function"&&(gd(r,a,T,l),F=r.memoizedState),($=Ni||Xy(r,a,$,l,H,F,C)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=C,l=$):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,wc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ya(r,t.child,null,f),r.child=Ya(r,null,a,f)):jt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=Br(t,r,f),t}function f_(t,r,a,l){return sl(),r.flags|=256,jt(t,r,a,l),r.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(t){return{baseLanes:t,cachePool:Jg()}}function bd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=kn),t}function d_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(ze){if(f?Vi(r):Pi(),ze){var T=ut,C;if(C=T){e:{for(C=T,T=fr;C.nodeType!==8;){if(!T){T=null;break e}if(C=Xn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:Hs!==null?{id:Pr,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},C=_n(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,sn=r,ut=null,C=!0):C=!1}C||Qs(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return sm(T)?r.lanes=32:r.lanes=536870912,null;zr(r)}return T=l.children,l=l.fallback,f?(Pi(),f=r.mode,T=Rc({mode:"hidden",children:T},f),l=qs(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=Td(a),f.childLanes=bd(t,E,a),r.memoizedState=Ed,l):(Vi(r),Ad(r,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(Vi(r),r.flags&=-257,r=Sd(t,r,a)):r.memoizedState!==null?(Pi(),r.child=t.child,r.flags|=128,r=null):(Pi(),f=l.fallback,T=r.mode,l=Rc({mode:"visible",children:l.children},T),f=qs(f,T,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ya(r,t.child,null,a),l=r.child,l.memoizedState=Td(a),l.childLanes=bd(t,E,a),r.memoizedState=Ed,r=f);else if(Vi(r),sm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(s(419)),l.stack="",l.digest=E,al({value:l,source:null,stack:null}),r=Sd(t,r,a)}else if(Mt||ol(t,r,a,!1),E=(a&t.childLanes)!==0,Mt||E){if(E=Ze,E!==null&&(l=a&-a,l=(l&42)!==0?1:jo(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,ka(t,l),An(E,t,l),i_;T.data==="$?"||qd(),r=Sd(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,ut=Xn(T.nextSibling),sn=r,ze=!0,Gs=null,fr=!1,t!==null&&(Mn[Vn++]=Pr,Mn[Vn++]=kr,Mn[Vn++]=Hs,Pr=t.id,kr=t.overflow,Hs=r),r=Ad(r,l.children),r.flags|=4096);return r}return f?(Pi(),f=l.fallback,T=r.mode,C=t.child,q=C.sibling,l=Vr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?f=Vr(q,f):(f=qs(f,T,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=t.child.memoizedState,T===null?T=Td(a):(C=T.cachePool,C!==null?(q=It._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=Jg(),T={baseLanes:T.baseLanes|a,cachePool:C}),f.memoizedState=T,f.childLanes=bd(t,E,a),r.memoizedState=Ed,l):(Vi(r),a=t.child,t=a.sibling,a=Vr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=a,r.memoizedState=null,a)}function Ad(t,r){return r=Rc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Rc(t,r){return t=_n(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Sd(t,r,a){return Ya(r,t.child,null,a),t=Ad(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function m_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),qf(t.return,r,a)}function wd(t,r,a,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function p_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(jt(t,r,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&m_(t,a,r);else if(t.tag===19)m_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Ct,l),f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&bc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),wd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&bc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}wd(r,!0,a,null,d);break;case"together":wd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Br(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),zi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(ol(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Vr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Vr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Rd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function rS(t,r,a){switch(r.tag){case 3:Ge(r,r.stateNode.containerInfo),xi(r,It,t.memoizedState.cache),sl();break;case 27:case 5:Po(r);break;case 4:Ge(r,r.stateNode.containerInfo);break;case 10:xi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Vi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?d_(t,r,a):(Vi(r),t=Br(t,r,a),t!==null?t.sibling:null);Vi(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ol(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return p_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Ct,Ct.current),l)break;return null;case 22:case 23:return r.lanes=0,l_(t,r,a);case 24:xi(r,It,t.memoizedState.cache)}return Br(t,r,a)}function g_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Mt=!0;else{if(!Rd(t,a)&&(r.flags&128)===0)return Mt=!1,rS(t,r,a);Mt=(t.flags&131072)!==0}else Mt=!1,ze&&(r.flags&1048576)!==0&&Qg(r,sc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Pf(l)?(t=Ws(l,t),r.tag=1,r=h_(null,r,l,t,a)):(r.tag=0,r=vd(null,r,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===_e){r.tag=11,r=s_(null,r,l,t,a);break e}else if(f===M){r.tag=14,r=a_(null,r,l,t,a);break e}}throw r=lt(l)||l,Error(s(306,r,""))}}return r;case 0:return vd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ws(l,r.pendingProps),h_(t,r,l,f,a);case 3:e:{if(Ge(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,$f(t,r),ml(r,l,null,a);var E=r.memoizedState;if(l=E.cache,xi(r,It,l),l!==d.cache&&Hf(r,[It],a,!0),dl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=f_(t,r,l,a);break e}else if(l!==f){f=Dn(Error(s(424)),r),al(f),r=f_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Xn(t.firstChild),sn=r,ze=!0,Gs=null,fr=!0,a=Ky(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(sl(),l===f){r=Br(t,r,a);break e}jt(t,r,l,a)}r=r.child}return r;case 26:return wc(t,r),t===null?(a=Ev(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,t=r.pendingProps,l=zc(Te.current).createElement(a),l[dt]=r,l[Ut]=t,Bt(l,a,t),mt(l),r.stateNode=l):r.memoizedState=Ev(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Po(r),t===null&&ze&&(l=r.stateNode=yv(r.type,r.pendingProps,Te.current),sn=r,fr=!0,f=ut,Fi(r.type)?(am=f,ut=Xn(l.firstChild)):ut=f),jt(t,r,r.pendingProps.children,a),wc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ze&&((f=l=ut)&&(l=DS(l,r.type,r.pendingProps,fr),l!==null?(r.stateNode=l,sn=r,ut=Xn(l.firstChild),fr=!1,f=!0):f=!1),f||Qs(r)),Po(r),f=r.type,d=r.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,nm(f,d)?l=null:E!==null&&nm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=td(t,r,$A,null,null,a),kl._currentValue=f),wc(t,r),jt(t,r,l,a),r.child;case 6:return t===null&&ze&&((t=a=ut)&&(a=OS(a,r.pendingProps,fr),a!==null?(r.stateNode=a,sn=r,ut=null,t=!0):t=!1),t||Qs(r)),null;case 13:return d_(t,r,a);case 4:return Ge(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ya(r,null,l,a):jt(t,r,l,a),r.child;case 11:return s_(t,r,r.type,r.pendingProps,a);case 7:return jt(t,r,r.pendingProps,a),r.child;case 8:return jt(t,r,r.pendingProps.children,a),r.child;case 12:return jt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,xi(r,r.type,l.value),jt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ks(r),f=Yt(f),l=l(f),r.flags|=1,jt(t,r,l,a),r.child;case 14:return a_(t,r,r.type,r.pendingProps,a);case 15:return o_(t,r,r.type,r.pendingProps,a);case 19:return p_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Rc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Vr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return l_(t,r,a);case 24:return Ks(r),l=Yt(It),t===null?(f=Qf(),f===null&&(f=Ze,d=Ff(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Kf(r),xi(r,It,f)):((t.lanes&a)!==0&&($f(t,r),ml(r,null,null,a),dl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),xi(r,It,l)):(l=d.cache,xi(r,It,l),l!==f.cache&&Hf(r,[It],a,!0))),jt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function qr(t){t.flags|=4}function y_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!wv(r)){if(r=Pn.current,r!==null&&((ke&4194048)===ke?dr!==null:(ke&62914560)!==ke&&(ke&536870912)===0||r!==dr))throw hl=Yf,ey;t.flags|=8192}}function Ic(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?gi():536870912,t.lanes|=r,Wa|=r)}function Tl(t,r){if(!ze)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function iS(t,r,a){var l=r.pendingProps;switch(jf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ur(It),zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(il(r)?qr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,$g())),at(r),null;case 26:return a=r.memoizedState,t===null?(qr(r),a!==null?(at(r),y_(r,a)):(at(r),r.flags&=-16777217)):a?a!==t.memoizedState?(qr(r),at(r),y_(r,a)):(at(r),r.flags&=-16777217):(t.memoizedProps!==l&&qr(r),at(r),r.flags&=-16777217),null;case 27:ga(r),a=Te.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&qr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}t=de.current,il(r)?Yg(r):(t=yv(f,l,a),r.stateNode=t,qr(r))}return at(r),null;case 5:if(ga(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&qr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(t=de.current,il(r))Yg(r);else{switch(f=zc(Te.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[dt]=r,t[Ut]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch(Bt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&qr(r)}}return at(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&qr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Te.current,il(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[dt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||cv(t.nodeValue,a)),t||Qs(r)}else t=zc(t).createTextNode(l),t[dt]=r,r.stateNode=t}return at(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=il(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[dt]=r}else sl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),f=!1}else f=$g(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(zr(r),r):(zr(r),null)}if(zr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Ic(r,r.updateQueue),at(r),null;case 4:return zn(),t===null&&Wd(r.stateNode.containerInfo),at(r),null;case 10:return Ur(r.type),at(r),null;case 19:if(le(Ct),f=r.memoizedState,f===null)return at(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)Tl(f,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=bc(t),d!==null){for(r.flags|=128,Tl(f,!1),t=d.updateQueue,r.updateQueue=t,Ic(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Gg(a,t),a=a.sibling;return se(Ct,Ct.current&1|2),r.child}t=t.sibling}f.tail!==null&&ln()>Nc&&(r.flags|=128,l=!0,Tl(f,!1),r.lanes=4194304)}else{if(!l)if(t=bc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Ic(r,t),Tl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!ze)return at(r),null}else 2*ln()-f.renderingStartTime>Nc&&a!==536870912&&(r.flags|=128,l=!0,Tl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(t=f.last,t!==null?t.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=ln(),r.sibling=null,t=Ct.current,se(Ct,l?t&1|2:t&1),r):(at(r),null);case 22:case 23:return zr(r),Jf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&Ic(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&le($s),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ur(It),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function sS(t,r){switch(jf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ur(It),zn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ga(r),null;case 13:if(zr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));sl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return le(Ct),null;case 4:return zn(),null;case 10:return Ur(r.type),null;case 22:case 23:return zr(r),Jf(),t!==null&&le($s),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ur(It),null;case 25:return null;default:return null}}function __(t,r){switch(jf(r),r.tag){case 3:Ur(It),zn();break;case 26:case 27:case 5:ga(r);break;case 4:zn();break;case 13:zr(r);break;case 19:le(Ct);break;case 10:Ur(r.type);break;case 22:case 23:zr(r),Jf(),t!==null&&le($s);break;case 24:Ur(It)}}function bl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(T){Xe(r,r.return,T)}}function ki(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=r;var C=a,q=T;try{q()}catch($){Xe(f,C,$)}}}l=l.next}while(l!==d)}}catch($){Xe(r,r.return,$)}}function v_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{ay(r,a)}catch(l){Xe(t,t.return,l)}}}function E_(t,r,a){a.props=Ws(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,r,l)}}function Al(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Xe(t,r,f)}}function mr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,r,f)}else a.current=null}function T_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function Id(t,r,a){try{var l=t.stateNode;RS(l,t.type,a,r),l[Ut]=r}catch(f){Xe(t,t.return,f)}}function b_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fi(t.type)||t.tag===4}function Cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||b_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=jc));else if(l!==4&&(l===27&&Fi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(xd(t,r,a),t=t.sibling;t!==null;)xd(t,r,a),t=t.sibling}function Cc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Fi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cc(t,r,a),t=t.sibling;t!==null;)Cc(t,r,a),t=t.sibling}function A_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Bt(r,l,a),r[dt]=t,r[Ut]=a}catch(d){Xe(t,t.return,d)}}var Hr=!1,yt=!1,Nd=!1,S_=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function aS(t,r){if(t=t.containerInfo,em=Qc,t=Pg(t),Cf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,T=-1,C=-1,q=0,$=0,J=t,H=null;t:for(;;){for(var F;J!==a||f!==0&&J.nodeType!==3||(T=E+f),J!==d||l!==0&&J.nodeType!==3||(C=E+l),J.nodeType===3&&(E+=J.nodeValue.length),(F=J.firstChild)!==null;)H=J,J=F;for(;;){if(J===t)break t;if(H===a&&++q===f&&(T=E),H===d&&++$===l&&(C=E),(F=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:t,selectionRange:a},Qc=!1,Vt=r;Vt!==null;)if(r=Vt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Vt=t;else for(;Vt!==null;){switch(r=Vt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=Ws(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Xe(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)im(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Vt=t;break}Vt=r.return}}function w_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Li(t,a),l&4&&bl(5,a);break;case 1:if(Li(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(E){Xe(a,a.return,E)}else{var f=Ws(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Xe(a,a.return,E)}}l&64&&v_(a),l&512&&Al(a,a.return);break;case 3:if(Li(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ay(t,r)}catch(E){Xe(a,a.return,E)}}break;case 27:r===null&&l&4&&A_(a);case 26:case 5:Li(t,a),r===null&&l&4&&T_(a),l&512&&Al(a,a.return);break;case 12:Li(t,a);break;case 13:Li(t,a),l&4&&C_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=pS.bind(null,a),MS(t,a))));break;case 22:if(l=a.memoizedState!==null||Hr,!l){r=r!==null&&r.memoizedState!==null||yt,f=Hr;var d=yt;Hr=l,(yt=r)&&!d?Ui(t,a,(a.subtreeFlags&8772)!==0):Li(t,a),Hr=f,yt=d}break;case 30:break;default:Li(t,a)}}function R_(t){var r=t.alternate;r!==null&&(t.alternate=null,R_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ta(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,cn=!1;function Fr(t,r,a){for(a=a.child;a!==null;)I_(t,r,a),a=a.sibling}function I_(t,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(di,a)}catch{}switch(a.tag){case 26:yt||mr(a,r),Fr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||mr(a,r);var l=rt,f=cn;Fi(a.type)&&(rt=a.stateNode,cn=!1),Fr(t,r,a),Ol(a.stateNode),rt=l,cn=f;break;case 5:yt||mr(a,r);case 6:if(l=rt,f=cn,rt=null,Fr(t,r,a),rt=l,cn=f,rt!==null)if(cn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){Xe(a,r,d)}else try{rt.removeChild(a.stateNode)}catch(d){Xe(a,r,d)}break;case 18:rt!==null&&(cn?(t=rt,pv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),zl(t)):pv(rt,a.stateNode));break;case 4:l=rt,f=cn,rt=a.stateNode.containerInfo,cn=!0,Fr(t,r,a),rt=l,cn=f;break;case 0:case 11:case 14:case 15:yt||ki(2,a,r),yt||ki(4,a,r),Fr(t,r,a);break;case 1:yt||(mr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&E_(a,r,l)),Fr(t,r,a);break;case 21:Fr(t,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Fr(t,r,a),yt=l;break;default:Fr(t,r,a)}}function C_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zl(t)}catch(a){Xe(r,r.return,a)}}function oS(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new S_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new S_),r;default:throw Error(s(435,t.tag))}}function Dd(t,r){var a=oS(t);r.forEach(function(l){var f=gS.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function vn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,E=r,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Fi(T.type)){rt=T.stateNode,cn=!1;break e}break;case 5:rt=T.stateNode,cn=!1;break e;case 3:case 4:rt=T.stateNode.containerInfo,cn=!0;break e}T=T.return}if(rt===null)throw Error(s(160));I_(d,E,f),rt=null,cn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)x_(r,t),r=r.sibling}var $n=null;function x_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(r,t),En(t),l&4&&(ki(3,t,t.return),bl(3,t),ki(5,t,t.return));break;case 1:vn(r,t),En(t),l&512&&(yt||a===null||mr(a,a.return)),l&64&&Hr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=$n;if(vn(r,t),En(t),l&512&&(yt||a===null||mr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[vi]||d[dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Bt(d,l,a),d[dt]=t,mt(d),l=d;break e;case"link":var E=Av("link","href",f).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}d=f.createElement(l),Bt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=Av("meta","content",f).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}d=f.createElement(l),Bt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[dt]=t,mt(d),l=d}t.stateNode=l}else Sv(f,t.type,t.stateNode);else t.stateNode=bv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Sv(f,t.type,t.stateNode):bv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Id(t,t.memoizedProps,a.memoizedProps)}break;case 27:vn(r,t),En(t),l&512&&(yt||a===null||mr(a,a.return)),a!==null&&l&4&&Id(t,t.memoizedProps,a.memoizedProps);break;case 5:if(vn(r,t),En(t),l&512&&(yt||a===null||mr(a,a.return)),t.flags&32){f=t.stateNode;try{xn(f,"")}catch(F){Xe(t,t.return,F)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Id(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Nd=!0);break;case 6:if(vn(r,t),En(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){Xe(t,t.return,F)}}break;case 3:if(Hc=null,f=$n,$n=Bc(r.containerInfo),vn(r,t),$n=f,En(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zl(r.containerInfo)}catch(F){Xe(t,t.return,F)}Nd&&(Nd=!1,N_(t));break;case 4:l=$n,$n=Bc(t.stateNode.containerInfo),vn(r,t),En(t),$n=l;break;case 12:vn(r,t),En(t);break;case 13:vn(r,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ld=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dd(t,l)));break;case 22:f=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,q=Hr,$=yt;if(Hr=q||f,yt=$||C,vn(r,t),yt=$,Hr=q,En(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||C||Hr||yt||Zs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=C.stateNode;var J=C.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){Xe(C,C.return,F)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(F){Xe(C,C.return,F)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Dd(t,a))));break;case 19:vn(r,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dd(t,l)));break;case 30:break;case 21:break;default:vn(r,t),En(t)}}function En(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(b_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Cd(t);Cc(t,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(xn(E,""),a.flags&=-33);var T=Cd(t);Cc(t,T,E);break;case 3:case 4:var C=a.stateNode.containerInfo,q=Cd(t);xd(t,q,C);break;default:throw Error(s(161))}}catch($){Xe(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function N_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;N_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Li(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)w_(t,r.alternate,r),r=r.sibling}function Zs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ki(4,r,r.return),Zs(r);break;case 1:mr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&E_(r,r.return,a),Zs(r);break;case 27:Ol(r.stateNode);case 26:case 5:mr(r,r.return),Zs(r);break;case 22:r.memoizedState===null&&Zs(r);break;case 30:Zs(r);break;default:Zs(r)}t=t.sibling}}function Ui(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Ui(f,d,a),bl(4,d);break;case 1:if(Ui(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Xe(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)sy(C[f],T)}catch(q){Xe(l,l.return,q)}}a&&E&64&&v_(d),Al(d,d.return);break;case 27:A_(d);case 26:case 5:Ui(f,d,a),a&&l===null&&E&4&&T_(d),Al(d,d.return);break;case 12:Ui(f,d,a);break;case 13:Ui(f,d,a),a&&E&4&&C_(f,d);break;case 22:d.memoizedState===null&&Ui(f,d,a),Al(d,d.return);break;case 30:break;default:Ui(f,d,a)}r=r.sibling}}function Od(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function Md(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t))}function pr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)D_(t,r,a,l),r=r.sibling}function D_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:pr(t,r,a,l),f&2048&&bl(9,r);break;case 1:pr(t,r,a,l);break;case 3:pr(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t)));break;case 12:if(f&2048){pr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Xe(r,r.return,C)}}else pr(t,r,a,l);break;case 13:pr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?pr(t,r,a,l):Sl(t,r):d._visibility&2?pr(t,r,a,l):(d._visibility|=2,Ka(t,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Od(E,r);break;case 24:pr(t,r,a,l),f&2048&&Md(r.alternate,r);break;default:pr(t,r,a,l)}}function Ka(t,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,E=r,T=a,C=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:Ka(d,E,T,C,f),bl(8,E);break;case 23:break;case 22:var $=E.stateNode;E.memoizedState!==null?$._visibility&2?Ka(d,E,T,C,f):Sl(d,E):($._visibility|=2,Ka(d,E,T,C,f)),f&&q&2048&&Od(E.alternate,E);break;case 24:Ka(d,E,T,C,f),f&&q&2048&&Md(E.alternate,E);break;default:Ka(d,E,T,C,f)}r=r.sibling}}function Sl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Sl(a,l),f&2048&&Od(l.alternate,l);break;case 24:Sl(a,l),f&2048&&Md(l.alternate,l);break;default:Sl(a,l)}r=r.sibling}}var wl=8192;function $a(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)O_(t),t=t.sibling}function O_(t){switch(t.tag){case 26:$a(t),t.flags&wl&&t.memoizedState!==null&&QS($n,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var r=$n;$n=Bc(t.stateNode.containerInfo),$a(t),$n=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=wl,wl=16777216,$a(t),wl=r):$a(t));break;default:$a(t)}}function M_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Rl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,P_(l,t)}M_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)V_(t),t=t.sibling}function V_(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&ki(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,xc(t)):Rl(t);break;default:Rl(t)}}function xc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,P_(l,t)}M_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ki(8,r,r.return),xc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,xc(r));break;default:xc(r)}t=t.sibling}}function P_(t,r){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:ki(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var f=l.sibling,d=l.return;if(R_(l),l===a){Vt=null;break e}if(f!==null){f.return=d,Vt=f;break e}Vt=d}}}var lS={getCacheForType:function(t){var r=Yt(It),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},uS=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,Ne=null,ke=0,Fe=0,Tn=null,ji=!1,Xa=!1,Vd=!1,Gr=0,ct=0,zi=0,Js=0,Pd=0,kn=0,Wa=0,Il=null,hn=null,kd=!1,Ld=0,Nc=1/0,Dc=null,Bi=null,zt=0,qi=null,Za=null,Ja=0,Ud=0,jd=null,k_=null,Cl=0,zd=null;function bn(){if((He&2)!==0&&ke!==0)return ke&-ke;if(K.T!==null){var t=za;return t!==0?t:Yd()}return Ir()}function L_(){kn===0&&(kn=(ke&536870912)===0||ze?Uo():536870912);var t=Pn.current;return t!==null&&(t.flags|=32),kn}function An(t,r,a){(t===Ze&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)&&(eo(t,0),Hi(t,ke,kn,!1)),ft(t,a),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(Js|=a),ct===4&&Hi(t,ke,kn,!1)),gr(t))}function U_(t,r,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||pi(t,r),f=l?fS(t,r):Hd(t,r,!0),d=l;do{if(f===0){Xa&&!l&&Hi(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!cS(a)){f=Hd(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var T=t;f=Il;var C=T.current.memoizedState.isDehydrated;if(C&&(eo(T,E).flags|=256),E=Hd(T,E,!1),E!==2){if(Vd&&!C){T.errorRecoveryDisabledLanes|=d,Js|=d,f=4;break e}d=hn,hn=f,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){eo(t,0),Hi(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Hi(l,r,kn,!ji);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Ld+300-ln(),10<f)){if(Hi(l,r,kn,!ji),In(l,0,!0)!==0)break e;l.timeoutHandle=dv(j_.bind(null,l,a,hn,Dc,kd,r,kn,Js,Wa,ji,d,2,-0,0),f);break e}j_(l,a,hn,Dc,kd,r,kn,Js,Wa,ji,d,0,-0,0)}}break}while(!0);gr(t)}function j_(t,r,a,l,f,d,E,T,C,q,$,J,H,F){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:GS},O_(r),J=YS(),J!==null)){t.cancelPendingCommit=J(Q_.bind(null,t,r,d,a,l,f,E,T,C,$,1,H,F)),Hi(t,d,E,!q);return}Q_(t,r,d,a,l,f,E,T,C)}function cS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!yn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Hi(t,r,a,l){r&=~Pd,r&=~Js,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-en(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&yi(t,a,r)}function Oc(){return(He&6)===0?(xl(0),!1):!0}function Bd(){if(Ne!==null){if(Fe===0)var t=Ne.return;else t=Ne,Lr=Ys=null,id(t),Qa=null,vl=0,t=Ne;for(;t!==null;)__(t.alternate,t),t=t.return;Ne=null}}function eo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,CS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Bd(),Ze=t,Ne=a=Vr(t.current,null),ke=r,Fe=0,Tn=null,ji=!1,Xa=pi(t,r),Vd=!1,Wa=kn=Pd=Js=zi=ct=0,hn=Il=null,kd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-en(l),d=1<<f;r|=t[f],l&=~d}return Gr=r,ec(),a}function z_(t,r){Ie=null,K.H=vc,r===cl||r===uc?(r=ry(),Fe=3):r===ey?(r=ry(),Fe=4):Fe=r===i_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,Ne===null&&(ct=1,Sc(t,Dn(r,t.current)))}function B_(){var t=K.H;return K.H=vc,t===null?vc:t}function q_(){var t=K.A;return K.A=lS,t}function qd(){ct=4,ji||(ke&4194048)!==ke&&Pn.current!==null||(Xa=!0),(zi&134217727)===0&&(Js&134217727)===0||Ze===null||Hi(Ze,ke,kn,!1)}function Hd(t,r,a){var l=He;He|=2;var f=B_(),d=q_();(Ze!==t||ke!==r)&&(Dc=null,eo(t,r)),r=!1;var E=ct;e:do try{if(Fe!==0&&Ne!==null){var T=Ne,C=Tn;switch(Fe){case 8:Bd(),E=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var q=Fe;if(Fe=0,Tn=null,to(t,T,C,q),a&&Xa){E=0;break e}break;default:q=Fe,Fe=0,Tn=null,to(t,T,C,q)}}hS(),E=ct;break}catch($){z_(t,$)}while(!0);return r&&t.shellSuspendCounter++,Lr=Ys=null,He=l,K.H=f,K.A=d,Ne===null&&(Ze=null,ke=0,ec()),E}function hS(){for(;Ne!==null;)H_(Ne)}function fS(t,r){var a=He;He|=2;var l=B_(),f=q_();Ze!==t||ke!==r?(Dc=null,Nc=ln()+500,eo(t,r)):Xa=pi(t,r);e:do try{if(Fe!==0&&Ne!==null){r=Ne;var d=Tn;t:switch(Fe){case 1:Fe=0,Tn=null,to(t,r,d,1);break;case 2:case 9:if(ty(d)){Fe=0,Tn=null,F_(r);break}r=function(){Fe!==2&&Fe!==9||Ze!==t||(Fe=7),gr(t)},d.then(r,r);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:ty(d)?(Fe=0,Tn=null,F_(r)):(Fe=0,Tn=null,to(t,r,d,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var T=Ne;if(!E||wv(E)){Fe=0,Tn=null;var C=T.sibling;if(C!==null)Ne=C;else{var q=T.return;q!==null?(Ne=q,Mc(q)):Ne=null}break t}}Fe=0,Tn=null,to(t,r,d,5);break;case 6:Fe=0,Tn=null,to(t,r,d,6);break;case 8:Bd(),ct=6;break e;default:throw Error(s(462))}}dS();break}catch($){z_(t,$)}while(!0);return Lr=Ys=null,K.H=l,K.A=f,He=a,Ne!==null?0:(Ze=null,ke=0,ec(),ct)}function dS(){for(;Ne!==null&&!yf();)H_(Ne)}function H_(t){var r=g_(t.alternate,t,Gr);t.memoizedProps=t.pendingProps,r===null?Mc(t):Ne=r}function F_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=c_(a,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=c_(a,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:id(r);default:__(a,r),r=Ne=Gg(r,Gr),r=g_(a,r,Gr)}t.memoizedProps=t.pendingProps,r===null?Mc(t):Ne=r}function to(t,r,a,l){Lr=Ys=null,id(r),Qa=null,vl=0;var f=r.return;try{if(nS(t,f,r,a,ke)){ct=1,Sc(t,Dn(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;ct=1,Sc(t,Dn(a,t.current)),Ne=null;return}r.flags&32768?(ze||l===1?t=!0:Xa||(ke&536870912)!==0?t=!1:(ji=t=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),G_(r,t)):Mc(r)}function Mc(t){var r=t;do{if((r.flags&32768)!==0){G_(r,ji);return}t=r.return;var a=iS(r.alternate,r,Gr);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);ct===0&&(ct=5)}function G_(t,r){do{var a=sS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ct=6,Ne=null}function Q_(t,r,a,l,f,d,E,T,C){t.cancelPendingCommit=null;do Vc();while(zt!==0);if((He&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Mf,Lu(t,a,d,E,T,C),t===Ze&&(Ne=Ze=null,ke=0),Za=r,qi=t,Ja=a,Ud=d,jd=f,k_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yS(Rr,function(){return W_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=oe.p,oe.p=2,E=He,He|=4;try{aS(t,r,a)}finally{He=E,oe.p=f,K.T=l}}zt=1,Y_(),K_(),$_()}}function Y_(){if(zt===1){zt=0;var t=qi,r=Za,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=oe.p;oe.p=2;var f=He;He|=4;try{x_(r,t);var d=tm,E=Pg(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&Vg(T.ownerDocument.documentElement,T)){if(C!==null&&Cf(T)){var q=C.start,$=C.end;if($===void 0&&($=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min($,T.value.length);else{var J=T.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var F=H.getSelection(),be=T.textContent.length,ge=Math.min(C.start,be),$e=C.end===void 0?ge:Math.min(C.end,be);!F.extend&&ge>$e&&(E=$e,$e=ge,ge=E);var L=Mg(T,ge),V=Mg(T,$e);if(L&&V&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var j=J.createRange();j.setStart(L.node,L.offset),F.removeAllRanges(),ge>$e?(F.addRange(j),F.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),F.addRange(j))}}}}for(J=[],F=T;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Qc=!!em,tm=em=null}finally{He=f,oe.p=l,K.T=a}}t.current=r,zt=2}}function K_(){if(zt===2){zt=0;var t=qi,r=Za,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=oe.p;oe.p=2;var f=He;He|=4;try{w_(t,r.alternate,r)}finally{He=f,oe.p=l,K.T=a}}zt=3}}function $_(){if(zt===4||zt===3){zt=0,ko();var t=qi,r=Za,a=Ja,l=k_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,Za=qi=null,X_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Bi=null),zo(a),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(di,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,f=oe.p,oe.p=2,K.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{K.T=r,oe.p=f}}(Ja&3)!==0&&Vc(),gr(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===zd?Cl++:(Cl=0,zd=t):Cl=0,xl(0)}}function X_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ll(r)))}function Vc(t){return Y_(),K_(),$_(),W_()}function W_(){if(zt!==5)return!1;var t=qi,r=Ud;Ud=0;var a=zo(Ja),l=K.T,f=oe.p;try{oe.p=32>a?32:a,K.T=null,a=jd,jd=null;var d=qi,E=Ja;if(zt=0,Za=qi=null,Ja=0,(He&6)!==0)throw Error(s(331));var T=He;if(He|=4,V_(d.current),D_(d,d.current,E,a),He=T,xl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(di,d)}catch{}return!0}finally{oe.p=f,K.T=l,X_(t,r)}}function Z_(t,r,a){r=Dn(a,r),r=_d(t.stateNode,r,2),t=Oi(t,r,2),t!==null&&(ft(t,2),gr(t))}function Xe(t,r,a){if(t.tag===3)Z_(t,t,a);else for(;r!==null;){if(r.tag===3){Z_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bi===null||!Bi.has(l))){t=Dn(a,t),a=n_(2),l=Oi(r,a,2),l!==null&&(r_(a,l,r,t),ft(l,2),gr(l));break}}r=r.return}}function Fd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new uS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Vd=!0,f.add(a),t=mS.bind(null,t,r,a),r.then(t,t))}function mS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(ke&a)===a&&(ct===4||ct===3&&(ke&62914560)===ke&&300>ln()-Ld?(He&2)===0&&eo(t,0):Pd|=a,Wa===ke&&(Wa=0)),gr(t)}function J_(t,r){r===0&&(r=gi()),t=ka(t,r),t!==null&&(ft(t,r),gr(t))}function pS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),J_(t,a)}function gS(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),J_(t,a)}function yS(t,r){return _s(t,r)}var Pc=null,no=null,Gd=!1,kc=!1,Qd=!1,ea=0;function gr(t){t!==no&&t.next===null&&(no===null?Pc=no=t:no=no.next=t),kc=!0,Gd||(Gd=!0,vS())}function xl(t,r){if(!Qd&&kc){Qd=!0;do for(var a=!1,l=Pc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-en(42|t)+1)-1,d&=f&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,rv(l,d))}else d=ke,d=In(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||pi(l,d)||(a=!0,rv(l,d));l=l.next}while(a);Qd=!1}}function _S(){ev()}function ev(){kc=Gd=!1;var t=0;ea!==0&&(IS()&&(t=ea),ea=0);for(var r=ln(),a=null,l=Pc;l!==null;){var f=l.next,d=tv(l,r);d===0?(l.next=null,a===null?Pc=f:a.next=f,f===null&&(no=a)):(a=l,(t!==0||(d&3)!==0)&&(kc=!0)),l=f}xl(t)}function tv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-en(d),T=1<<E,C=f[E];C===-1?((T&a)===0||(T&l)!==0)&&(f[E]=va(T,r)):C<=r&&(t.expiredLanes|=T),d&=~T}if(r=Ze,a=ke,a=In(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_a(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||pi(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&_a(l),zo(a)){case 2:case 8:a=Dt;break;case 32:a=Rr;break;case 268435456:a=Lo;break;default:a=Rr}return l=nv.bind(null,t),a=_s(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&_a(l),t.callbackPriority=2,t.callbackNode=null,2}function nv(t,r){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vc()&&t.callbackNode!==a)return null;var l=ke;return l=In(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(U_(t,l,r),tv(t,ln()),t.callbackNode!=null&&t.callbackNode===a?nv.bind(null,t):null)}function rv(t,r){if(Vc())return null;U_(t,r,!0)}function vS(){xS(function(){(He&6)!==0?_s(wt,_S):ev()})}function Yd(){return ea===0&&(ea=Uo()),ea}function iv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fn(""+t)}function sv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function ES(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=iv((f[Ut]||null).action),E=l.submitter;E&&(r=(r=E[Ut]||null)?iv(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var T=new Ms("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ea!==0){var C=E?sv(f,E):new FormData(f);dd(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=E?sv(f,E):new FormData(f),dd(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var Kd=0;Kd<Of.length;Kd++){var $d=Of[Kd],TS=$d.toLowerCase(),bS=$d[0].toUpperCase()+$d.slice(1);Kn(TS,"on"+bS)}Kn(Ug,"onAnimationEnd"),Kn(jg,"onAnimationIteration"),Kn(zg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(jA,"onTransitionRun"),Kn(zA,"onTransitionStart"),Kn(BA,"onTransitionCancel"),Kn(Bg,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),or("onBeforeInput",["compositionend","keypress","textInput","paste"]),or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function av(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var T=l[E],C=T.instance,q=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=q;try{d(f)}catch($){Ac($)}f.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(T=l[E],C=T.instance,q=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=q;try{d(f)}catch($){Ac($)}f.currentTarget=null,d=C}}}}function De(t,r){var a=r[Es];a===void 0&&(a=r[Es]=new Set);var l=t+"__bubble";a.has(l)||(ov(r,t,2,!1),a.add(l))}function Xd(t,r,a){var l=0;r&&(l|=4),ov(a,t,l,r)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[Lc]){t[Lc]=!0,Uu.forEach(function(a){a!=="selectionchange"&&(AS.has(a)||Xd(a,!1,t),Xd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Lc]||(r[Lc]=!0,Xd("selectionchange",!1,r))}}function ov(t,r,a,l){switch(Dv(r)){case 2:var f=XS;break;case 8:f=WS;break;default:f=hm}a=f.bind(null,r,a,t),f=void 0,!Or||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Zd(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=sr(T),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}T=T.parentNode}}l=l.return}Ns(function(){var q=d,$=Yo(a),J=[];e:{var H=qg.get(t);if(H!==void 0){var F=Ms,be=t;switch(t){case"keypress":if(Ds(a)===0)break e;case"keydown":case"keyup":F=Oa;break;case"focusin":be="focus",F=xa;break;case"focusout":be="blur",F=xa;break;case"beforeblur":case"afterblur":F=xa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Ci;break;case Ug:case jg:case zg:F=$o;break;case Bg:F=y;break;case"scroll":case"scrollend":F=Ps;break;case"wheel":F=A;break;case"copy":case"cut":case"paste":F=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Zo;break;case"toggle":case"beforetoggle":F=G}var ge=(r&4)!==0,$e=!ge&&(t==="scroll"||t==="scrollend"),L=ge?H!==null?H+"Capture":null:H;ge=[];for(var V=q,j;V!==null;){var Z=V;if(j=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||j===null||L===null||(Z=Ri(V,L),Z!=null&&ge.push(Dl(V,Z,j))),$e)break;V=V.return}0<ge.length&&(H=new F(H,be,null,a,$),J.push({event:H,listeners:ge}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==Qo&&(be=a.relatedTarget||a.fromElement)&&(sr(be)||be[Cr]))break e;if((F||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,F?(be=a.relatedTarget||a.toElement,F=q,be=be?sr(be):null,be!==null&&($e=u(be),ge=be.tag,be!==$e||ge!==5&&ge!==27&&ge!==6)&&(be=null)):(F=null,be=q),F!==be)){if(ge=Us,Z="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Zo,Z="onPointerLeave",L="onPointerEnter",V="pointer"),$e=F==null?H:Ei(F),j=be==null?H:Ei(be),H=new ge(Z,V+"leave",F,a,$),H.target=$e,H.relatedTarget=j,Z=null,sr($)===q&&(ge=new ge(L,V+"enter",be,a,$),ge.target=j,ge.relatedTarget=$e,Z=ge),$e=Z,F&&be)t:{for(ge=F,L=be,V=0,j=ge;j;j=ro(j))V++;for(j=0,Z=L;Z;Z=ro(Z))j++;for(;0<V-j;)ge=ro(ge),V--;for(;0<j-V;)L=ro(L),j--;for(;V--;){if(ge===L||L!==null&&ge===L.alternate)break t;ge=ro(ge),L=ro(L)}ge=null}else ge=null;F!==null&&lv(J,H,F,ge,!1),be!==null&&$e!==null&&lv(J,$e,be,ge,!0)}}e:{if(H=q?Ei(q):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var ce=Ig;else if(wg(H))if(Cg)ce=kA;else{ce=VA;var Ce=MA}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Ra(q.elementType)&&(ce=Ig):ce=PA;if(ce&&(ce=ce(t,q))){Rg(J,ce,a,$);break e}Ce&&Ce(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&Ho(H,"number",H.value)}switch(Ce=q?Ei(q):window,t){case"focusin":(wg(Ce)||Ce.contentEditable==="true")&&(Ma=Ce,xf=q,rl=null);break;case"focusout":rl=xf=Ma=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,kg(J,a,$);break;case"selectionchange":if(UA)break;case"keydown":case"keyup":kg(J,a,$)}var fe;if(Se)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Yn?Gn(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(pt&&a.locale!=="ko"&&(Yn||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Yn&&(fe=Fu()):(Nn=$,We="value"in Nn?Nn.value:Nn.textContent,Yn=!0)),Ce=Uc(q,ye),0<Ce.length&&(ye=new Wo(ye,t,null,a,$),J.push({event:ye,listeners:Ce}),fe?ye.data=fe:(fe=Qn(a),fe!==null&&(ye.data=fe)))),(fe=qe?Jo(t,a):NA(t,a))&&(ye=Uc(q,"onBeforeInput"),0<ye.length&&(Ce=new Wo("onBeforeInput","beforeinput",null,a,$),J.push({event:Ce,listeners:ye}),Ce.data=fe)),ES(J,t,q,a,$)}av(J,r)})}function Dl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Uc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ri(t,a),f!=null&&l.unshift(Dl(t,f,d)),f=Ri(t,r),f!=null&&l.push(Dl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lv(t,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var T=a,C=T.alternate,q=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||q===null||(C=q,f?(q=Ri(a,d),q!=null&&E.unshift(Dl(a,q,C))):f||(q=Ri(a,d),q!=null&&E.push(Dl(a,q,C)))),a=a.return}E.length!==0&&t.push({event:r,listeners:E})}var SS=/\r\n?/g,wS=/\u0000|\uFFFD/g;function uv(t){return(typeof t=="string"?t:""+t).replace(SS,`
`).replace(wS,"")}function cv(t,r){return r=uv(r),uv(t)===r}function jc(){}function Ke(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&xn(t,""+l);break;case"className":ws(t,"class",l);break;case"tabIndex":ws(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ws(t,a,l);break;case"style":Go(t,l,d);break;case"data":if(r!=="object"){ws(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ke(t,r,"name",f.name,f,null),Ke(t,r,"formEncType",f.formEncType,f,null),Ke(t,r,"formMethod",f.formMethod,f,null),Ke(t,r,"formTarget",f.formTarget,f,null)):(Ke(t,r,"encType",f.encType,f,null),Ke(t,r,"method",f.method,f,null),Ke(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=jc);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Fn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),Ss(t,"popover",l);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ss(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bu.get(a)||a,Ss(t,a,l))}}function Jd(t,r,a,l,f,d){switch(a){case"style":Go(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ss(t,a,l)}}}function Bt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ke(t,r,d,E,a,null)}}f&&Ke(t,r,"srcSet",a.srcSet,a,null),l&&Ke(t,r,"src",a.src,a,null);return;case"input":De("invalid",t);var T=d=E=f=null,C=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":E=$;break;case"checked":C=$;break;case"defaultChecked":q=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Ke(t,r,l,$,a,null)}}qo(t,d,T,C,q,E,f,!1),Ai(t);return;case"select":De("invalid",t),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:Ke(t,r,f,T,a,null)}r=d,a=E,t.multiple=!!l,r!=null?Si(t,!!l,r,!1):a!=null&&Si(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ke(t,r,E,T,a,null)}zu(t,l,f,d),Ai(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ke(t,r,C,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)De(Nl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ke(t,r,q,l,a,null)}return;default:if(Ra(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Jd(t,r,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ke(t,r,T,l,a,null))}function RS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,T=null,C=null,q=null,$=null;for(F in a){var J=a[F];if(a.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(F)||Ke(t,r,F,null,l,J)}}for(var H in l){var F=l[H];if(J=a[H],l.hasOwnProperty(H)&&(F!=null||J!=null))switch(H){case"type":d=F;break;case"name":f=F;break;case"checked":q=F;break;case"defaultChecked":$=F;break;case"value":E=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:F!==J&&Ke(t,r,H,F,l,J)}}Bo(t,E,T,C,q,$,d,f);return;case"select":F=E=T=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||Ke(t,r,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==C&&Ke(t,r,f,d,l,C)}r=T,a=E,l=F,H!=null?Si(t,!!a,H,!1):!!l!=!!a&&(r!=null?Si(t,!!a,r,!0):Si(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ke(t,r,T,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":H=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ke(t,r,E,f,l,d)}ju(t,H,F);return;case"option":for(var be in a)if(H=a[be],a.hasOwnProperty(be)&&H!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:Ke(t,r,be,null,l,H)}for(C in l)if(H=l[C],F=a[C],l.hasOwnProperty(C)&&H!==F&&(H!=null||F!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ke(t,r,C,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)H=a[ge],a.hasOwnProperty(ge)&&H!=null&&!l.hasOwnProperty(ge)&&Ke(t,r,ge,null,l,H);for(q in l)if(H=l[q],F=a[q],l.hasOwnProperty(q)&&H!==F&&(H!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Ke(t,r,q,H,l,F)}return;default:if(Ra(r)){for(var $e in a)H=a[$e],a.hasOwnProperty($e)&&H!==void 0&&!l.hasOwnProperty($e)&&Jd(t,r,$e,void 0,l,H);for($ in l)H=l[$],F=a[$],!l.hasOwnProperty($)||H===F||H===void 0&&F===void 0||Jd(t,r,$,H,l,F);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Ke(t,r,L,null,l,H);for(J in l)H=l[J],F=a[J],!l.hasOwnProperty(J)||H===F||H==null&&F==null||Ke(t,r,J,H,l,F)}var em=null,tm=null;function zc(t){return t.nodeType===9?t:t.ownerDocument}function hv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function nm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var rm=null;function IS(){var t=window.event;return t&&t.type==="popstate"?t===rm?!1:(rm=t,!0):(rm=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,CS=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,xS=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(t){return mv.resolve(null).then(t).catch(NS)}:dv;function NS(t){setTimeout(function(){throw t})}function Fi(t){return t==="head"}function pv(t,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&Ol(E.documentElement),a&2&&Ol(E.body),a&4)for(a=E.head,Ol(a),E=a.firstChild;E;){var T=E.nextSibling,C=E.nodeName;E[vi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(f===0){t.removeChild(d),zl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);zl(r)}function im(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),Ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function DS(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function OS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function MS(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var am=null;function gv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function yv(t,r,a){switch(r=zc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ta(t)}var Ln=new Map,_v=new Set;function Bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qr=oe.d;oe.d={f:VS,r:PS,D:kS,C:LS,L:US,m:jS,X:BS,S:zS,M:qS};function VS(){var t=Qr.f(),r=Oc();return t||r}function PS(t){var r=ar(t);r!==null&&r.tag===5&&r.type==="form"?Uy(r):Qr.r(t)}var io=typeof document>"u"?null:document;function vv(t,r,a){var l=io;if(l&&typeof r=="string"&&r){var f=Ot(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),_v.has(f)||(_v.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Bt(r,"link",t),mt(r),l.head.appendChild(r)))}}function kS(t){Qr.D(t),vv("dns-prefetch",t,null)}function LS(t,r){Qr.C(t,r),vv("preconnect",t,r)}function US(t,r,a){Qr.L(t,r,a);var l=io;if(l&&t&&r){var f='link[rel="preload"][as="'+Ot(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ot(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ot(a.imageSizes)+'"]')):f+='[href="'+Ot(t)+'"]';var d=f;switch(r){case"style":d=so(t);break;case"script":d=ao(t)}Ln.has(d)||(t=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Ln.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ml(d))||r==="script"&&l.querySelector(Vl(d))||(r=l.createElement("link"),Bt(r,"link",t),mt(r),l.head.appendChild(r)))}}function jS(t,r){Qr.m(t,r);var a=io;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ot(l)+'"][href="'+Ot(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ao(t)}if(!Ln.has(d)&&(t=_({rel:"modulepreload",href:t},r),Ln.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(d)))return}l=a.createElement("link"),Bt(l,"link",t),mt(l),a.head.appendChild(l)}}}function zS(t,r,a){Qr.S(t,r,a);var l=io;if(l&&t){var f=Ti(l).hoistableStyles,d=so(t);r=r||"default";var E=f.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Ml(d)))T.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Ln.get(d))&&om(t,a);var C=E=l.createElement("link");mt(C),Bt(C,"link",t),C._p=new Promise(function(q,$){C.onload=q,C.onerror=$}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,qc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(d,E)}}}function BS(t,r){Qr.X(t,r);var a=io;if(a&&t){var l=Ti(a).hoistableScripts,f=ao(t),d=l.get(f);d||(d=a.querySelector(Vl(f)),d||(t=_({src:t,async:!0},r),(r=Ln.get(f))&&lm(t,r),d=a.createElement("script"),mt(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function qS(t,r){Qr.M(t,r);var a=io;if(a&&t){var l=Ti(a).hoistableScripts,f=ao(t),d=l.get(f);d||(d=a.querySelector(Vl(f)),d||(t=_({src:t,async:!0,type:"module"},r),(r=Ln.get(f))&&lm(t,r),d=a.createElement("script"),mt(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Ev(t,r,a,l){var f=(f=Te.current)?Bc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=so(a.href),a=Ti(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=so(a.href);var d=Ti(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(Ml(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||HS(f,t,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ao(a),a=Ti(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function so(t){return'href="'+Ot(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function Tv(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function HS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Bt(r,"link",a),mt(r),t.head.appendChild(r))}function ao(t){return'[src="'+Ot(t)+'"]'}function Vl(t){return"script[async]"+t}function bv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Ot(a.href)+'"]');if(l)return r.instance=l,mt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),Bt(l,"style",f),qc(l,a.precedence,t),r.instance=l;case"stylesheet":f=so(a.href);var d=t.querySelector(Ml(f));if(d)return r.state.loading|=4,r.instance=d,mt(d),d;l=Tv(a),(f=Ln.get(f))&&om(l,f),d=(t.ownerDocument||t).createElement("link"),mt(d);var E=d;return E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),Bt(d,"link",l),r.state.loading|=4,qc(d,a.precedence,t),r.instance=d;case"script":return d=ao(a.src),(f=t.querySelector(Vl(d)))?(r.instance=f,mt(f),f):(l=a,(f=Ln.get(d))&&(l=_({},a),lm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),mt(f),Bt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,qc(l,a.precedence,t));return r.instance}function qc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function om(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function lm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Hc=null;function Av(t,r,a){if(Hc===null){var l=new Map,f=Hc=new Map;f.set(a,l)}else f=Hc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[vi]||d[dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=t+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function Sv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function FS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function wv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Pl=null;function GS(){}function QS(t,r,a){if(Pl===null)throw Error(s(475));var l=Pl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=so(a.href),d=t.querySelector(Ml(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Fc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,mt(d);return}d=t.ownerDocument||t,a=Tv(a),(f=Ln.get(f))&&om(a,f),d=d.createElement("link"),mt(d);var E=d;E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),Bt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Fc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function YS(){if(Pl===null)throw Error(s(475));var t=Pl;return t.stylesheets&&t.count===0&&um(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&um(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Fc(){if(this.count--,this.count===0){if(this.stylesheets)um(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function um(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,r.forEach(KS,t),Gc=null,Fc.call(t))}function KS(t,r){if(!(r.state.loading&4)){var a=Gc.get(t);if(a)var l=a.get(null);else{a=new Map,Gc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Fc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var kl={$$typeof:re,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function $S(t,r,a,l,f,d,E,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.hiddenUpdates=Ea(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Rv(t,r,a,l,f,d,E,T,C,q,$,J){return t=new $S(t,r,a,E,T,C,q,J),r=1,d===!0&&(r|=24),d=_n(3,null,null,r),t.current=d,d.stateNode=t,r=Ff(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Kf(d),t}function Iv(t){return t?(t=La,t):La}function Cv(t,r,a,l,f,d){f=Iv(f),l.context===null?l.context=f:l.pendingContext=f,l=Di(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Oi(t,l,r),a!==null&&(An(a,t,r),fl(a,t,r))}function xv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function cm(t,r){xv(t,r),(t=t.alternate)&&xv(t,r)}function Nv(t){if(t.tag===13){var r=ka(t,67108864);r!==null&&An(r,t,67108864),cm(t,67108864)}}var Qc=!0;function XS(t,r,a,l){var f=K.T;K.T=null;var d=oe.p;try{oe.p=2,hm(t,r,a,l)}finally{oe.p=d,K.T=f}}function WS(t,r,a,l){var f=K.T;K.T=null;var d=oe.p;try{oe.p=8,hm(t,r,a,l)}finally{oe.p=d,K.T=f}}function hm(t,r,a,l){if(Qc){var f=fm(l);if(f===null)Zd(t,r,l,Yc,a),Ov(t,l);else if(JS(f,t,r,a,l))l.stopPropagation();else if(Ov(t,l),r&4&&-1<ZS.indexOf(t)){for(;f!==null;){var d=ar(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Bn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var C=1<<31-en(E);T.entanglements[1]|=C,E&=~C}gr(d),(He&6)===0&&(Nc=ln()+500,xl(0))}}break;case 13:T=ka(d,2),T!==null&&An(T,d,2),Oc(),cm(d,2)}if(d=fm(l),d===null&&Zd(t,r,l,Yc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Zd(t,r,l,null,a)}}function fm(t){return t=Yo(t),dm(t)}var Yc=null;function dm(t){if(Yc=null,t=sr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Yc=t,null}function Dv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vu()){case wt:return 2;case Dt:return 8;case Rr:case _f:return 32;case Lo:return 268435456;default:return 32}default:return 32}}var mm=!1,Gi=null,Qi=null,Yi=null,Ll=new Map,Ul=new Map,Ki=[],ZS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ov(t,r){switch(t){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":Ll.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(r.pointerId)}}function jl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ar(r),r!==null&&Nv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function JS(t,r,a,l,f){switch(r){case"focusin":return Gi=jl(Gi,t,r,a,l,f),!0;case"dragenter":return Qi=jl(Qi,t,r,a,l,f),!0;case"mouseover":return Yi=jl(Yi,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ll.set(d,jl(Ll.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ul.set(d,jl(Ul.get(d)||null,t,r,a,l,f)),!0}return!1}function Mv(t){var r=sr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Tf(t.priority,function(){if(a.tag===13){var l=bn();l=jo(l);var f=ka(a,l);f!==null&&An(f,a,l),cm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=fm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Qo=l,a.target.dispatchEvent(l),Qo=null}else return r=ar(a),r!==null&&Nv(r),t.blockedOn=a,!1;r.shift()}return!0}function Vv(t,r,a){Kc(t)&&a.delete(r)}function ew(){mm=!1,Gi!==null&&Kc(Gi)&&(Gi=null),Qi!==null&&Kc(Qi)&&(Qi=null),Yi!==null&&Kc(Yi)&&(Yi=null),Ll.forEach(Vv),Ul.forEach(Vv)}function $c(t,r){t.blockedOn===r&&(t.blockedOn=null,mm||(mm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ew)))}var Xc=null;function Pv(t){Xc!==t&&(Xc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Xc===t&&(Xc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var d=ar(a);d!==null&&(t.splice(r,3),r-=3,dd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function zl(t){function r(C){return $c(C,t)}Gi!==null&&$c(Gi,t),Qi!==null&&$c(Qi,t),Yi!==null&&$c(Yi,t),Ll.forEach(r),Ul.forEach(r);for(var a=0;a<Ki.length;a++){var l=Ki[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ki.length&&(a=Ki[0],a.blockedOn===null);)Mv(a),a.blockedOn===null&&Ki.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[Ut]||null;if(typeof d=="function")E||Pv(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Ut]||null)T=E.formAction;else if(dm(f)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Pv(a)}}}function pm(t){this._internalRoot=t}Wc.prototype.render=pm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=bn();Cv(a,l,t,r,null,null)},Wc.prototype.unmount=pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Cv(t.current,2,null,t,null,null),Oc(),r[Cr]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ir();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Ki.length&&r!==0&&r<Ki[a].priority;a++);Ki.splice(a,0,t),a===0&&Mv(t)}};var kv=e.version;if(kv!=="19.1.1")throw Error(s(527,kv,"19.1.1"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var tw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{di=Zc.inject(tw),Gt=Zc}catch{}}return ql.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=Zy,d=Jy,E=e_,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Rv(t,1,!1,null,null,a,l,f,d,E,T,null),t[Cr]=r.current,Wd(t),new pm(r)},ql.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Zy,E=Jy,T=e_,C=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=Rv(t,1,!0,r,a??null,l,f,d,E,T,C,q),r.context=Iv(null),a=r.current,l=bn(),l=jo(l),f=Di(l),f.callback=null,Oi(a,f,l),a=l,r.current.lanes=a,ft(r,a),gr(r),t[Cr]=r.current,Wd(t),new Wc(r)},ql.version="19.1.1",ql}var Qv;function hw(){if(Qv)return _m.exports;Qv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_m.exports=cw(),_m.exports}var fw=hw();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yv="popstate";function dw(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return jm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:nu(o)}return pw(e,n,null,i)}function it(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Jn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mw(){return Math.random().toString(36).substring(2,10)}function Kv(i,e){return{usr:i.state,key:i.key,idx:e}}function jm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?So(e):e,state:n,key:e&&e.key||s||mw()}}function nu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function So(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function pw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function b(){m="POP";let B=_(),ne=B==null?null:B-g;g=B,p&&p({action:m,location:Y.location,delta:ne})}function S(B,ne){m="PUSH";let X=jm(Y.location,B,ne);g=_()+1;let re=Kv(X,g),_e=Y.createHref(X);try{h.pushState(re,"",_e)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(_e)}u&&p&&p({action:m,location:Y.location,delta:1})}function N(B,ne){m="REPLACE";let X=jm(Y.location,B,ne);g=_();let re=Kv(X,g),_e=Y.createHref(X);h.replaceState(re,"",_e),u&&p&&p({action:m,location:Y.location,delta:0})}function Q(B){return gw(B)}let Y={get action(){return m},get location(){return i(o,h)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Yv,b),p=B,()=>{o.removeEventListener(Yv,b),p=null}},createHref(B){return e(o,B)},createURL:Q,encodeLocation(B){let ne=Q(B);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:S,replace:N,go(B){return h.go(B)}};return Y}function gw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:nu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function NE(i,e,n="/"){return yw(i,e,n,!1)}function yw(i,e,n,s){let o=typeof e=="string"?So(e):e,u=ti(o.pathname||"/",n);if(u==null)return null;let h=DE(i);_w(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=xw(u);m=Iw(h[p],g,s)}return m}function DE(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let _={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;it(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let b=Zr([s,_.relativePath]),S=n.concat(_);h.children&&h.children.length>0&&(it(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),DE(h.children,e,S,b,p)),!(h.path==null&&!h.index)&&e.push({path:b,score:ww(b,h.index),routesMeta:S})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of OE(h.path))u(h,m,!0,p)}),e}function OE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=OE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function _w(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Rw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vw=/^:[\w-]+$/,Ew=3,Tw=2,bw=1,Aw=10,Sw=-2,$v=i=>i==="*";function ww(i,e){let n=i.split("/"),s=n.length;return n.some($v)&&(s+=Sw),e&&(s+=Tw),n.filter(o=>!$v(o)).reduce((o,u)=>o+(vw.test(u)?Ew:u===""?bw:Aw),s)}function Rw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Iw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",b=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),S=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:Zr([u,b.pathname]),pathnameBase:Mw(Zr([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=Zr([u,b.pathnameBase]))}return h}function Eh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Cw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:b},S)=>{if(_==="*"){let Q=m[S]||"";h=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const N=m[S];return b&&!N?g[_]=void 0:g[_]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function Cw(i,e=!1,n=!0){Jn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function xw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ti(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Nw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?So(i):i;return{pathname:n?n.startsWith("/")?n:Dw(n,e):e,search:Vw(s),hash:Pw(o)}}function Dw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function bm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ow(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gp(i){let e=Ow(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function yp(i,e,n,s=!1){let o;typeof i=="string"?o=So(i):(o={...i},it(!o.pathname||!o.pathname.includes("?"),bm("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),bm("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),bm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=Nw(o,m),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Zr=i=>i.join("/").replace(/\/\/+/g,"/"),Mw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Vw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Pw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function kw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var ME=["POST","PUT","PATCH","DELETE"];new Set(ME);var Lw=["GET",...ME];new Set(Lw);var wo=P.createContext(null);wo.displayName="DataRouter";var Hh=P.createContext(null);Hh.displayName="DataRouterState";P.createContext(!1);var VE=P.createContext({isTransitioning:!1});VE.displayName="ViewTransition";var Uw=P.createContext(new Map);Uw.displayName="Fetchers";var jw=P.createContext(null);jw.displayName="Await";var tr=P.createContext(null);tr.displayName="Navigation";var mu=P.createContext(null);mu.displayName="Location";var nr=P.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var _p=P.createContext(null);_p.displayName="RouteError";function zw(i,{relative:e}={}){it(Ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(tr),{hash:o,pathname:u,search:h}=pu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Zr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Ro(){return P.useContext(mu)!=null}function oi(){return it(Ro(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(mu).location}var PE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kE(i){P.useContext(tr).static||P.useLayoutEffect(i)}function da(){let{isDataRoute:i}=P.useContext(nr);return i?e1():Bw()}function Bw(){it(Ro(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(wo),{basename:e,navigator:n}=P.useContext(tr),{matches:s}=P.useContext(nr),{pathname:o}=oi(),u=JSON.stringify(gp(s)),h=P.useRef(!1);return kE(()=>{h.current=!0}),P.useCallback((p,g={})=>{if(Jn(h.current,PE),!h.current)return;if(typeof p=="number"){n.go(p);return}let _=yp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Zr([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,u,o,i])}P.createContext(null);function qw(){let{matches:i}=P.useContext(nr),e=i[i.length-1];return e?e.params:{}}function pu(i,{relative:e}={}){let{matches:n}=P.useContext(nr),{pathname:s}=oi(),o=JSON.stringify(gp(n));return P.useMemo(()=>yp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Hw(i,e){return LE(i,e)}function LE(i,e,n,s,o){it(Ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(tr),{matches:h}=P.useContext(nr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",b=m&&m.route;{let X=b&&b.path||"";UE(g,!b||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let S=oi(),N;if(e){let X=typeof e=="string"?So(e):e;it(_==="/"||X.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),N=X}else N=S;let Q=N.pathname||"/",Y=Q;if(_!=="/"){let X=_.replace(/^\//,"").split("/");Y="/"+Q.replace(/^\//,"").split("/").slice(X.length).join("/")}let B=NE(i,{pathname:Y});Jn(b||B!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Jn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=Kw(B&&B.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Zr([_,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:Zr([_,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),h,n,s,o);return e&&ne?P.createElement(mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},ne):ne}function Fw(){let i=Jw(),e=kw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,h)}var Gw=P.createElement(Fw,null),Qw=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?P.createElement(nr.Provider,{value:this.props.routeContext},P.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yw({routeContext:i,match:e,children:n}){let s=P.useContext(wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(nr.Provider,{value:i},n)}function Kw(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let g=u.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);it(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let _=u[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:b,errors:S}=n,N=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||N){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,_,b)=>{let S,N=!1,Q=null,Y=null;n&&(S=h&&_.route.id?h[_.route.id]:void 0,Q=_.route.errorElement||Gw,m&&(p<0&&b===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,Y=null):p===b&&(N=!0,Y=_.route.hydrateFallbackElement||null)));let B=e.concat(u.slice(0,b+1)),ne=()=>{let X;return S?X=Q:N?X=Y:_.route.Component?X=P.createElement(_.route.Component,null):_.route.element?X=_.route.element:X=g,P.createElement(Yw,{match:_,routeContext:{outlet:g,matches:B,isDataRoute:n!=null},children:X})};return n&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?P.createElement(Qw,{location:n.location,revalidation:n.revalidation,component:Q,error:S,children:ne(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:s}):ne()},null)}function vp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $w(i){let e=P.useContext(wo);return it(e,vp(i)),e}function Xw(i){let e=P.useContext(Hh);return it(e,vp(i)),e}function Ww(i){let e=P.useContext(nr);return it(e,vp(i)),e}function Ep(i){let e=Ww(i),n=e.matches[e.matches.length-1];return it(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Zw(){return Ep("useRouteId")}function Jw(){let i=P.useContext(_p),e=Xw("useRouteError"),n=Ep("useRouteError");return i!==void 0?i:e.errors?.[n]}function e1(){let{router:i}=$w("useNavigate"),e=Ep("useNavigate"),n=P.useRef(!1);return kE(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{Jn(n.current,PE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Xv={};function UE(i,e,n){!e&&!Xv[i]&&(Xv[i]=!0,Jn(!1,n))}P.memo(t1);function t1({routes:i,future:e,state:n,unstable_onError:s}){return LE(i,void 0,n,s,e)}function jE({to:i,replace:e,state:n,relative:s}){it(Ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(tr);Jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(nr),{pathname:h}=oi(),m=da(),p=yp(i,gp(u),h,s==="path"),g=JSON.stringify(p);return P.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Kr(i){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n1({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){it(!Ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=So(n));let{pathname:p="/",search:g="",hash:_="",state:b=null,key:S="default"}=n,N=P.useMemo(()=>{let Q=ti(p,h);return Q==null?null:{location:{pathname:Q,search:g,hash:_,state:b,key:S},navigationType:s}},[h,p,g,_,b,S,s]);return Jn(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:P.createElement(tr.Provider,{value:m},P.createElement(mu.Provider,{children:e,value:N}))}function r1({children:i,location:e}){return Hw(zm(i),e)}function zm(i,e=[]){let n=[];return P.Children.forEach(i,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,zm(s.props.children,u));return}it(s.type===Kr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=zm(s.props.children,u)),n.push(h)}),n}var oh="get",lh="application/x-www-form-urlencoded";function Fh(i){return i!=null&&typeof i.tagName=="string"}function i1(i){return Fh(i)&&i.tagName.toLowerCase()==="button"}function s1(i){return Fh(i)&&i.tagName.toLowerCase()==="form"}function a1(i){return Fh(i)&&i.tagName.toLowerCase()==="input"}function o1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function l1(i,e){return i.button===0&&(!e||e==="_self")&&!o1(i)}var Jc=null;function u1(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var c1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(i){return i!=null&&!c1.has(i)?(Jn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):i}function h1(i,e){let n,s,o,u,h;if(s1(i)){let m=i.getAttribute("action");s=m?ti(m,e):null,n=i.getAttribute("method")||oh,o=Am(i.getAttribute("enctype"))||lh,u=new FormData(i)}else if(i1(i)||a1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?ti(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||oh,o=Am(i.getAttribute("formenctype"))||Am(m.getAttribute("enctype"))||lh,u=new FormData(m,i),!u1()){let{name:g,type:_,value:b}=i;if(_==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(Fh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=oh,s=null,o=lh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function f1(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ti(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function d1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function p1(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await d1(u,n);return h.links?h.links():[]}return[]}));return v1(s.flat(1).filter(m1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Wv(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function g1(i,e,{includeHydrateFallback:n}={}){return y1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function y1(i){return[...new Set(i)]}function _1(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function v1(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(_1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function zE(){let i=P.useContext(wo);return Tp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function E1(){let i=P.useContext(Hh);return Tp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var bp=P.createContext(void 0);bp.displayName="FrameworkContext";function BE(){let i=P.useContext(bp);return Tp(i,"You must render this element inside a <HydratedRouter> element"),i}function T1(i,e){let n=P.useContext(bp),[s,o]=P.useState(!1),[u,h]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=e,S=P.useRef(null);P.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let Y=ne=>{ne.forEach(X=>{h(X.isIntersecting)})},B=new IntersectionObserver(Y,{threshold:.5});return S.current&&B.observe(S.current),()=>{B.disconnect()}}},[i]),P.useEffect(()=>{if(s){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let N=()=>{o(!0)},Q=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Hl(m,N),onBlur:Hl(p,Q),onMouseEnter:Hl(g,N),onMouseLeave:Hl(_,Q),onTouchStart:Hl(b,N)}]:[!1,S,{}]}function Hl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function b1({page:i,...e}){let{router:n}=zE(),s=P.useMemo(()=>NE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?P.createElement(S1,{page:i,matches:s,...e}):null}function A1(i){let{manifest:e,routeModules:n}=BE(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return p1(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function S1({page:i,matches:e,...n}){let s=oi(),{manifest:o,routeModules:u}=BE(),{basename:h}=zE(),{loaderData:m,matches:p}=E1(),g=P.useMemo(()=>Wv(i,e,p,o,s,"data"),[i,e,p,o,s]),_=P.useMemo(()=>Wv(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=P.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let Q=new Set,Y=!1;if(e.forEach(ne=>{let X=o.routes[ne.route.id];!X||!X.hasLoader||(!g.some(re=>re.route.id===ne.route.id)&&ne.route.id in m&&u[ne.route.id]?.shouldRevalidate||X.hasClientLoader?Y=!0:Q.add(ne.route.id))}),Q.size===0)return[];let B=f1(i,h,"data");return Y&&Q.size>0&&B.searchParams.set("_routes",e.filter(ne=>Q.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[B.pathname+B.search]},[h,m,s,o,g,e,i,u]),S=P.useMemo(()=>g1(_,o),[_,o]),N=A1(_);return P.createElement(P.Fragment,null,b.map(Q=>P.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),S.map(Q=>P.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),N.map(({key:Q,link:Y})=>P.createElement("link",{key:Q,nonce:n.nonce,...Y})))}function w1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qE&&(window.__reactRouterVersion="7.9.3")}catch{}function R1({basename:i,children:e,window:n}){let s=P.useRef();s.current==null&&(s.current=dw({window:n,v5Compat:!0}));let o=s.current,[u,h]=P.useState({action:o.action,location:o.location}),m=P.useCallback(p=>{P.startTransition(()=>h(p))},[h]);return P.useLayoutEffect(()=>o.listen(m),[o,m]),P.createElement(n1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var HE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dn=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:_,viewTransition:b,...S},N){let{basename:Q}=P.useContext(tr),Y=typeof g=="string"&&HE.test(g),B,ne=!1;if(typeof g=="string"&&Y&&(B=g,qE))try{let I=new URL(window.location.href),k=g.startsWith("//")?new URL(I.protocol+g):new URL(g),O=ti(k.pathname,Q);k.origin===I.origin&&O!=null?g=O+k.search+k.hash:ne=!0}catch{Jn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=zw(g,{relative:o}),[re,_e,he]=T1(s,S),xe=N1(g,{replace:h,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:b});function M(I){e&&e(I),I.defaultPrevented||xe(I)}let R=P.createElement("a",{...S,...he,href:B||X,onClick:ne||u?e:M,ref:w1(N,_e),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return re&&!Y?P.createElement(P.Fragment,null,R,P.createElement(b1,{page:X})):R});dn.displayName="Link";var I1=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},_){let b=pu(h,{relative:g.relative}),S=oi(),N=P.useContext(Hh),{navigator:Q,basename:Y}=P.useContext(tr),B=N!=null&&P1(b)&&m===!0,ne=Q.encodeLocation?Q.encodeLocation(b).pathname:b.pathname,X=S.pathname,re=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(X=X.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&Y&&(re=ti(re,Y)||re);const _e=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let he=X===ne||!o&&X.startsWith(ne)&&X.charAt(_e)==="/",xe=re!=null&&(re===ne||!o&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),M={isActive:he,isPending:xe,isTransitioning:B},R=he?e:void 0,I;typeof s=="function"?I=s(M):I=[s,he?"active":null,xe?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(M):u;return P.createElement(dn,{...g,"aria-current":R,className:I,ref:_,style:k,to:h,viewTransition:m},typeof p=="function"?p(M):p)});I1.displayName="NavLink";var C1=P.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=oh,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:b,...S},N)=>{let Q=M1(),Y=V1(m,{relative:g}),B=h.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&HE.test(m),X=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let _e=re.nativeEvent.submitter,he=_e?.getAttribute("formmethod")||h;Q(_e||re.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:b})};return P.createElement("form",{ref:N,method:B,action:Y,onSubmit:s?p:X,...S,"data-discover":!ne&&i==="render"?"true":void 0})});C1.displayName="Form";function x1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FE(i){let e=P.useContext(wo);return it(e,x1(i)),e}function N1(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=da(),p=oi(),g=pu(i,{relative:u});return P.useCallback(_=>{if(l1(_,e)){_.preventDefault();let b=n!==void 0?n:nu(p)===nu(g);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}var D1=0,O1=()=>`__${String(++D1)}__`;function M1(){let{router:i}=FE("useSubmit"),{basename:e}=P.useContext(tr),n=Zw();return P.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=h1(s,e);if(o.navigate===!1){let _=o.fetcherKey||O1();await i.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function V1(i,{relative:e}={}){let{basename:n}=P.useContext(tr),s=P.useContext(nr);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...pu(i||".",{relative:e})},h=oi();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Zr([n,u.pathname])),nu(u)}function P1(i,{relative:e}={}){let n=P.useContext(VE);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=FE("useViewTransitionState"),o=pu(i,{relative:e});if(!n.isTransitioning)return!1;let u=ti(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=ti(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Eh(o.pathname,h)!=null||Eh(o.pathname,u)!=null}const k1=()=>{};var Zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},L1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},QE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,N=g&63;p||(N=64,h||(S=64)),s.push(n[_],n[b],n[S],n[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(GE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):L1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new U1;const S=u<<2|m>>4;if(s.push(S),g!==64){const N=m<<4&240|g>>2;if(s.push(N),b!==64){const Q=g<<6&192|b;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class U1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j1=function(i){const e=GE(i);return QE.encodeByteArray(e,!0)},Th=function(i){return j1(i).replace(/\./g,"")},YE=function(i){try{return QE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=()=>z1().__FIREBASE_DEFAULTS__,q1=()=>{if(typeof process>"u"||typeof Zv>"u")return;const i=Zv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},H1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&YE(i[1]);return e&&JSON.parse(e)},Gh=()=>{try{return k1()||B1()||q1()||H1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},KE=i=>Gh()?.emulatorHosts?.[i],F1=i=>{const e=KE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$E=()=>Gh()?.config,XE=i=>Gh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Th(JSON.stringify(n)),Th(JSON.stringify(h)),""].join(".")}const Xl={};function Y1(){const i={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?i.emulator.push(e):i.prod.push(e);return i}function K1(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Jv=!1;function ZE(i,e){if(typeof window>"u"||typeof document>"u"||!Io(window.location.host)||Xl[i]===e||Xl[i]||Jv)return;Xl[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=Y1().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Jv=!0,h()},S}function _(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=K1(s),N=n("text"),Q=document.getElementById(N)||document.createElement("span"),Y=n("learnmore"),B=document.getElementById(Y)||document.createElement("a"),ne=n("preprendIcon"),X=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const re=S.element;m(re),_(B,Y);const _e=g();p(X,ne),re.append(X,Q,B,_e),document.body.appendChild(re)}u?(Q.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function X1(){const i=Gh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function J1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eR(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function tR(){return!X1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nR(){try{return typeof indexedDB=="object"}catch{return!1}}function rR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="FirebaseError";class li extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=iR,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?sR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new li(o,m,s)}}function sR(i,e){return i.replace(aR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const aR=/\{\$([^}]+)}/g;function oR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function aa(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(e0(u)&&e0(h)){if(!aa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function e0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Fl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Gl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function lR(i,e){const n=new uR(i,e);return n.subscribe.bind(n)}class uR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");cR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Sm),o.error===void 0&&(o.error=Sm),o.complete===void 0&&(o.complete=Sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(i){return i&&i._delegate?i._delegate:i}class oa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new G1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dR(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fR(i){return i===ta?void 0:i}function dR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const pR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},gR=Me.INFO,yR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},_R=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=yR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=gR,this._logHandler=_R,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const vR=(i,e)=>e.some(n=>i instanceof n);let t0,n0;function ER(){return t0||(t0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TR(){return n0||(n0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JE=new WeakMap,Bm=new WeakMap,eT=new WeakMap,wm=new WeakMap,Sp=new WeakMap;function bR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(ns(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&JE.set(n,i)}).catch(()=>{}),Sp.set(e,i),e}function AR(i){if(Bm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Bm.set(i,e)}let qm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Bm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||eT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function SR(i){qm=i(qm)}function wR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Rm(this),e,...n);return eT.set(s,e.sort?e.sort():[e]),ns(s)}:TR().includes(i)?function(...e){return i.apply(Rm(this),e),ns(JE.get(this))}:function(...e){return ns(i.apply(Rm(this),e))}}function RR(i){return typeof i=="function"?wR(i):(i instanceof IDBTransaction&&AR(i),vR(i,ER())?new Proxy(i,qm):i)}function ns(i){if(i instanceof IDBRequest)return bR(i);if(wm.has(i))return wm.get(i);const e=RR(i);return e!==i&&(wm.set(i,e),Sp.set(e,i)),e}const Rm=i=>Sp.get(i);function IR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=ns(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ns(h.result),p.oldVersion,p.newVersion,ns(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const CR=["get","getKey","getAll","getAllKeys","count"],xR=["put","add","delete","clear"],Im=new Map;function r0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=xR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||CR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Im.set(e,u),u}SR(i=>({...i,get:(e,n,s)=>r0(e,n)||i.get(e,n,s),has:(e,n)=>!!r0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function DR(i){return i.getComponent()?.type==="VERSION"}const Hm="@firebase/app",i0="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new Ap("@firebase/app"),OR="@firebase/app-compat",MR="@firebase/analytics-compat",VR="@firebase/analytics",PR="@firebase/app-check-compat",kR="@firebase/app-check",LR="@firebase/auth",UR="@firebase/auth-compat",jR="@firebase/database",zR="@firebase/data-connect",BR="@firebase/database-compat",qR="@firebase/functions",HR="@firebase/functions-compat",FR="@firebase/installations",GR="@firebase/installations-compat",QR="@firebase/messaging",YR="@firebase/messaging-compat",KR="@firebase/performance",$R="@firebase/performance-compat",XR="@firebase/remote-config",WR="@firebase/remote-config-compat",ZR="@firebase/storage",JR="@firebase/storage-compat",eI="@firebase/firestore",tI="@firebase/ai",nI="@firebase/firestore-compat",rI="firebase",iI="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="[DEFAULT]",sI={[Hm]:"fire-core",[OR]:"fire-core-compat",[VR]:"fire-analytics",[MR]:"fire-analytics-compat",[kR]:"fire-app-check",[PR]:"fire-app-check-compat",[LR]:"fire-auth",[UR]:"fire-auth-compat",[jR]:"fire-rtdb",[zR]:"fire-data-connect",[BR]:"fire-rtdb-compat",[qR]:"fire-fn",[HR]:"fire-fn-compat",[FR]:"fire-iid",[GR]:"fire-iid-compat",[QR]:"fire-fcm",[YR]:"fire-fcm-compat",[KR]:"fire-perf",[$R]:"fire-perf-compat",[XR]:"fire-rc",[WR]:"fire-rc-compat",[ZR]:"fire-gcs",[JR]:"fire-gcs-compat",[eI]:"fire-fst",[nI]:"fire-fst-compat",[tI]:"fire-vertex","fire-js":"fire-js",[rI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,aI=new Map,Gm=new Map;function s0(i,e){try{i.container.addComponent(e)}catch(n){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function yo(i){const e=i.name;if(Gm.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,i);for(const n of bh.values())s0(n,i);for(const n of aI.values())s0(n,i);return!0}function wp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Sn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new gu("app","Firebase",oI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=iI;function tT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Fm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=$E()),!n)throw rs.create("no-options");const u=bh.get(o);if(u){if(aa(n,u.options)&&aa(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const h=new mR(o);for(const p of Gm.values())h.addComponent(p);const m=new lI(n,s,h);return bh.set(o,m),m}function nT(i=Fm){const e=bh.get(i);if(!e&&i===Fm&&$E())return tT();if(!e)throw rs.create("no-app",{appName:i});return e}function is(i,e,n){let s=sI[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(h.join(" "));return}yo(new oa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="firebase-heartbeat-database",cI=1,ru="firebase-heartbeat-store";let Cm=null;function rT(){return Cm||(Cm=IR(uI,cI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(i=>{throw rs.create("idb-open",{originalErrorMessage:i.message})})),Cm}async function hI(i){try{const n=(await rT()).transaction(ru),s=await n.objectStore(ru).get(iT(i));return await n.done,s}catch(e){if(e instanceof li)ni.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e?.message});ni.warn(n.message)}}}async function a0(i,e){try{const s=(await rT()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,iT(i)),await s.done}catch(n){if(n instanceof li)ni.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n?.message});ni.warn(s.message)}}}function iT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=1024,dI=30;class mI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=o0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>dI){const o=yI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ni.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=o0(),{heartbeatsToSend:n,unsentEntries:s}=pI(this._heartbeatsCache.heartbeats),o=Th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ni.warn(e),""}}}function o0(){return new Date().toISOString().substring(0,10)}function pI(i,e=fI){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),l0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),l0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class gI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nR()?rR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return a0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return a0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function l0(i){return Th(JSON.stringify({version:2,heartbeats:i})).length}function yI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(i){yo(new oa("platform-logger",e=>new NR(e),"PRIVATE")),yo(new oa("heartbeat",e=>new mI(e),"PRIVATE")),is(Hm,i0,i),is(Hm,i0,"esm2020"),is("fire-js","")}_I("");function sT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vI=sT,aT=new gu("auth","Firebase",sT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Ap("@firebase/auth");function EI(i,...e){Ah.logLevel<=Me.WARN&&Ah.warn(`Auth (${Co}): ${i}`,...e)}function uh(i,...e){Ah.logLevel<=Me.ERROR&&Ah.error(`Auth (${Co}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(i,...e){throw Ip(i,...e)}function Zn(i,...e){return Ip(i,...e)}function Rp(i,e,n){const s={...vI(),[e]:n};return new gu("auth","Firebase",s).create(e,{appName:i.name})}function Jr(i){return Rp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TI(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&jn(i,"argument-error"),Rp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ip(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return aT.create(i,...e)}function ve(i,e,...n){if(!i)throw Ip(e,...n)}function Xr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw uh(e),new Error(e)}function ri(i,e){i||Xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){return typeof self<"u"&&self.location?.href||""}function bI(){return u0()==="http:"||u0()==="https:"}function u0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bI()||Z1()||"connection"in navigator)?navigator.onLine:!0}function SI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,ri(n>e,"Short delay should be less than long delay!"),this.isMobile=$1()||J1()}get(){return AI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(i,e){ri(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],II=new _u(3e4,6e4);function ui(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ci(i,e,n,s,o={}){return lT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=yu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return W1()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Io(i.emulatorConfig.host)&&(g.credentials="include"),oT.fetch()(await uT(i,i.config.apiHost,n,m),g)})}async function lT(i,e,n){i._canInitEmulator=!1;const s={...wI,...e};try{const o=new xI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw eh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw eh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw eh(i,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Rp(i,_,g);jn(i,_)}}catch(o){if(o instanceof li)throw o;jn(i,"network-request-failed",{message:String(o)})}}async function vu(i,e,n,s,o={}){const u=await ci(i,e,n,s,o);return"mfaPendingCredential"in u&&jn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function uT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Cp(i.config,o):`${i.config.apiScheme}://${o}`;return RI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function CI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Zn(this.auth,"network-request-failed")),II.get())})}}function eh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Zn(i,e,s);return o.customData._tokenResponse=n,o}function c0(i){return i!==void 0&&i.enterprise!==void 0}class NI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DI(i,e){return ci(i,"GET","/v2/recaptchaConfig",ui(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(i,e){return ci(i,"POST","/v1/accounts:delete",e)}async function Sh(i,e){return ci(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MI(i,e=!1){const n=vt(i),s=await n.getIdToken(e),o=xp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Wl(xm(o.auth_time)),issuedAtTime:Wl(xm(o.iat)),expirationTime:Wl(xm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function xm(i){return Number(i)*1e3}function xp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=YE(n);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function h0(i){const e=xp(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof li&&VI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function VI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(i){const e=i.auth,n=await i.getIdToken(),s=await iu(i,Sh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?cT(o.providerUserInfo):[],h=LI(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function kI(i){const e=vt(i);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function cT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(i,e){const n=await lT(i,{},async()=>{const s=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await uT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Io(i.emulatorConfig.host)&&(p.credentials="include"),oT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jI(i,e){return ci(i,"POST","/v2/accounts:revokeToken",ui(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=h0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await UI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new ho;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new PI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await iu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MI(this,e)}reload(){return kI(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(Jr(this.auth));const e=await this.getIdToken();return await iu(this,OI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:N,providerData:Q,stsTokenManager:Y}=n;ve(b&&Y,e,"internal-error");const B=ho.fromJSON(this.name,Y);ve(typeof b=="string",e,"internal-error"),Xi(s,e.name),Xi(o,e.name),ve(typeof S=="boolean",e,"internal-error"),ve(typeof N=="boolean",e,"internal-error"),Xi(u,e.name),Xi(h,e.name),Xi(m,e.name),Xi(p,e.name),Xi(g,e.name),Xi(_,e.name);const ne=new Wn({uid:b,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:N,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:B,createdAt:g,lastLoginAt:_});return Q&&Array.isArray(Q)&&(ne.providerData=Q.map(X=>({...X}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new ho;o.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await wh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?cT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new ho;m.updateFromIdToken(s);const p=new Wn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map;function Wr(i){ri(i instanceof Function,"Expected a class definition");let e=f0.get(i);return e?(ri(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,f0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hT.type="NONE";const d0=hT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(i,e,n){return`firebase:${i}:${e}:${n}`}class fo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new fo(Wr(d0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Wr(d0);const h=ch(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(h);if(_){let b;if(typeof _=="string"){const S=await Sh(e,{idToken:_}).catch(()=>{});if(!S)break;b=await Wn._fromGetAccountInfoResponse(e,S,_)}else b=Wn._fromJSON(e,_);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new fo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new fo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yT(e))return"Blackberry";if(_T(e))return"Webos";if(dT(e))return"Safari";if((e.includes("chrome/")||mT(e))&&!e.includes("edge/"))return"Chrome";if(gT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function fT(i=Jt()){return/firefox\//i.test(i)}function dT(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mT(i=Jt()){return/crios\//i.test(i)}function pT(i=Jt()){return/iemobile/i.test(i)}function gT(i=Jt()){return/android/i.test(i)}function yT(i=Jt()){return/blackberry/i.test(i)}function _T(i=Jt()){return/webos/i.test(i)}function Np(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function zI(i=Jt()){return Np(i)&&!!window.navigator?.standalone}function BI(){return eR()&&document.documentMode===10}function vT(i=Jt()){return Np(i)||gT(i)||_T(i)||yT(i)||/windows phone/i.test(i)||pT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(i,e=[]){let n;switch(i){case"Browser":n=m0(Jt());break;case"Worker":n=`${m0(Jt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(i,e={}){return ci(i,"GET","/v2/passwordPolicy",ui(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=6;class GI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??FI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new qI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),s=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(Jr(this));const n=e?vt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HI(this),n=new GI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await jI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ET(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&EI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function hi(i){return vt(i)}class p0{constructor(e){this.auth=e,this.observer=null,this.addObserver=lR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YI(i){Qh=i}function TT(i){return Qh.loadJS(i)}function KI(){return Qh.recaptchaEnterpriseScript}function $I(){return Qh.gapiScript}function XI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class WI{constructor(){this.enterprise=new ZI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ZI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const JI="recaptcha-enterprise",bT="NO_RECAPTCHA";class eC{constructor(e){this.type=JI,this.auth=hi(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{DI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new NI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;c0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(bT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&c0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=KI();p.length!==0&&(p+=m),TT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function g0(i,e,n,s=!1,o=!1){const u=new eC(i);let h;if(o)h=bT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Rh(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await g0(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await g0(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(i,e){const n=wp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(aa(u,e??{}))return o;jn(o,"already-initialized")}return n.initialize({options:e})}function nC(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Wr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function rC(i,e,n){const s=hi(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=AT(e),{host:h,port:m}=iC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(aa(g,s.config.emulator)&&aa(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Io(h)?(WE(`${u}//${h}${p}`),ZE("Auth",!0)):sC()}function AT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function iC(i){const e=AT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:y0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:y0(h)}}}function y0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function sC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xr("not implemented")}_getIdTokenResponse(e){return Xr("not implemented")}_linkToIdToken(e,n){return Xr("not implemented")}_getReauthenticationResolver(e){return Xr("not implemented")}}async function aC(i,e){return ci(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(i,e){return vu(i,"POST","/v1/accounts:signInWithPassword",ui(i,e))}async function lC(i,e){return ci(i,"POST","/v1/accounts:sendOobCode",ui(i,e))}async function uC(i,e){return lC(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(i,e){return vu(i,"POST","/v1/accounts:signInWithEmailLink",ui(i,e))}async function hC(i,e){return vu(i,"POST","/v1/accounts:signInWithEmailLink",ui(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Dp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new su(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rh(e,n,"signInWithPassword",oC);case"emailLink":return cC(e,{email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rh(e,s,"signUpPassword",aC);case"emailLink":return hC(e,{idToken:n,email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(i,e){return vu(i,"POST","/v1/accounts:signInWithIdp",ui(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="http://localhost";class la extends Dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new la(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,mo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:fC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mC(i){const e=Fl(Gl(i)).link,n=e?Fl(Gl(e)).deep_link_id:null,s=Fl(Gl(i)).deep_link_id;return(s?Fl(Gl(s)).link:null)||s||n||e||i}class Op{constructor(e){const n=Fl(Gl(e)),s=n.apiKey??null,o=n.oobCode??null,u=dC(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mC(e);try{return new Op(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Op.parseLink(n);return ve(s,"argument-error"),su._fromEmailAndCode(e,s.code,s.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends Mp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Eu{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return la._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Eu{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Eu{constructor(){super("twitter.com")}static credential(e,n){return la._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ji.credential(n,s)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(i,e){return vu(i,"POST","/v1/accounts:signUp",ui(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Wn._fromIdTokenResponse(e,s,o),h=_0(s);return new ua({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=_0(s);return new ua({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function _0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends li{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ih(e,n,s,o)}}function ST(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(i,u,e,s):u})}async function gC(i,e,n=!1){const s=await iu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ua._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(i,e,n=!1){const{auth:s}=i;if(Sn(s.app))return Promise.reject(Jr(s));const o="reauthenticate";try{const u=await iu(i,ST(s,o,e,i),n);ve(u.idToken,s,"internal-error");const h=xp(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(i.uid===m,s,"user-mismatch"),ua._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&jn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wT(i,e,n=!1){if(Sn(i.app))return Promise.reject(Jr(i));const s="signIn",o=await ST(i,s,e),u=await ua._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function _C(i,e){return wT(hi(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RT(i){const e=hi(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vC(i,e,n){const s=hi(i);await Rh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",uC)}async function EC(i,e,n){if(Sn(i.app))return Promise.reject(Jr(i));const s=hi(i),h=await Rh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&RT(i),p}),m=await ua._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function TC(i,e,n){return Sn(i.app)?Promise.reject(Jr(i)):_C(vt(i),xo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&RT(i),s})}function bC(i,e,n,s){return vt(i).onIdTokenChanged(e,n,s)}function AC(i,e,n){return vt(i).beforeAuthStateChanged(e,n)}function SC(i,e,n,s){return vt(i).onAuthStateChanged(e,n,s)}function wC(i){return vt(i).signOut()}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=1e3,IC=10;class CT extends IT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);BI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,IC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},RC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CT.type="LOCAL";const CC=CT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT extends IT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xT.type="SESSION";const NT=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Yh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await xC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Vp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function DC(i){vr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function OC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MC(){return navigator?.serviceWorker?.controller||null}function VC(){return DT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="firebaseLocalStorageDb",PC=1,xh="firebaseLocalStorage",MT="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(i,e){return i.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function kC(){const i=indexedDB.deleteDatabase(OT);return new Tu(i).toPromise()}function Km(){const i=indexedDB.open(OT,PC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(xh,{keyPath:MT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await kC(),e(await Km()))})})}async function v0(i,e,n){const s=Kh(i,!0).put({[MT]:e,value:n});return new Tu(s).toPromise()}async function LC(i,e){const n=Kh(i,!1).get(e),s=await new Tu(n).toPromise();return s===void 0?null:s.value}function E0(i,e){const n=Kh(i,!0).delete(e);return new Tu(n).toPromise()}const UC=800,jC=3;class VT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>jC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(VC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OC(),!this.activeServiceWorker)return;this.sender=new NC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await v0(e,Ch,"1"),await E0(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>v0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>LC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>E0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Kh(o,!1).getAll();return new Tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VT.type="LOCAL";const zC=VT;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(i,e){return e?Wr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends Dp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BC(i){return wT(i.auth,new Pp(i),i.bypassAuthState)}function qC(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),yC(n,new Pp(i),i.bypassAuthState)}async function HC(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),gC(n,new Pp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BC;case"linkViaPopup":case"linkViaRedirect":return HC;case"reauthViaPopup":case"reauthViaRedirect":return qC;default:jn(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new _u(2e3,1e4);async function GC(i,e,n){if(Sn(i.app))return Promise.reject(Zn(i,"operation-not-supported-in-this-environment"));const s=hi(i);TI(i,e,Mp);const o=PT(s,n);return new na(s,"signInViaPopup",e,o).executeNotNull()}class na extends kT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FC.get())};e()}}na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="pendingRedirect",hh=new Map;class YC extends kT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const s=await KC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KC(i,e){const n=WC(e),s=XC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function $C(i,e){hh.set(i._key(),e)}function XC(i){return Wr(i._redirectPersistence)}function WC(i){return ch(QC,i.config.apiKey,i.name)}async function ZC(i,e,n=!1){if(Sn(i.app))return Promise.reject(Jr(i));const s=hi(i),o=PT(s,e),h=await new YC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=600*1e3;class e2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!LT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Zn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JC&&this.cachedEventUids.clear(),this.cachedEventUids.has(T0(e))}saveEventToCache(e){this.cachedEventUids.add(T0(e)),this.lastProcessedEventTime=Date.now()}}function T0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function LT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function t2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(i,e={}){return ci(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i2=/^https?/;async function s2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await n2(i);for(const n of e)try{if(a2(n))return}catch{}jn(i,"unauthorized-domain")}function a2(i){const e=Qm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!i2.test(n))return!1;if(r2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new _u(3e4,6e4);function b0(){const i=vr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function l2(i){return new Promise((e,n)=>{function s(){b0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b0(),n(Zn(i,"network-request-failed"))},timeout:o2.get()})}if(vr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(vr().gapi?.load)s();else{const o=XI("iframefcb");return vr()[o]=()=>{gapi.load?s():n(Zn(i,"network-request-failed"))},TT(`${$I()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw fh=null,e})}let fh=null;function u2(i){return fh=fh||l2(i),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new _u(5e3,15e3),h2="__/auth/iframe",f2="emulator/auth/iframe",d2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p2(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Cp(e,f2):`https://${i.config.authDomain}/${h2}`,s={apiKey:e.apiKey,appName:i.name,v:Co},o=m2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${yu(s).slice(1)}`}async function g2(i){const e=await u2(i),n=vr().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:p2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Zn(i,"network-request-failed"),m=vr().setTimeout(()=>{u(h)},c2.get());function p(){vr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_2=500,v2=600,E2="_blank",T2="http://localhost";class A0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b2(i,e,n,s=_2,o=v2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...y2,width:s.toString(),height:o.toString(),top:u,left:h},g=Jt().toLowerCase();n&&(m=mT(g)?E2:n),fT(g)&&(e=e||T2,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[N,Q])=>`${S}${N}=${Q},`,"");if(zI(g)&&m!=="_self")return A2(e||"",m),new A0(null);const b=window.open(e||"",m,_);ve(b,i,"popup-blocked");try{b.focus()}catch{}return new A0(b)}function A2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="__/auth/handler",w2="emulator/auth/handler",R2=encodeURIComponent("fac");async function S0(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Co,eventId:o};if(e instanceof Mp){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",oR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))h[_]=b}if(e instanceof Eu){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${R2}=${encodeURIComponent(p)}`:"";return`${I2(i)}?${yu(m).slice(1)}${g}`}function I2({config:i}){return i.emulator?Cp(i,w2):`https://${i.authDomain}/${S2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class C2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NT,this._completeRedirectFn=ZC,this._overrideRedirectResult=$C}async _openPopup(e,n,s,o){ri(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await S0(e,n,s,Qm(),o);return b2(e,u,Vp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await S0(e,n,s,Qm(),o);return DC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ri(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await g2(e),s=new e2(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{const u=o?.[0]?.[Nm];u!==void 0&&n(!!u),jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vT()||dT()||Np()}}const x2=C2;var w0="@firebase/auth",R0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O2(i){yo(new oa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ET(i)},g=new QI(s,o,u,p);return nC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),yo(new oa("auth-internal",e=>{const n=hi(e.getProvider("auth").getImmediate());return(s=>new N2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(w0,R0,D2(i)),is(w0,R0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=300,V2=XE("authIdTokenMaxAge")||M2;let I0=null;const P2=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>V2)return;const o=n?.token;I0!==o&&(I0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function k2(i=nT()){const e=wp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=tC(i,{popupRedirectResolver:x2,persistence:[zC,CC,NT]}),s=XE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=P2(u.toString());AC(n,h,()=>h(n.currentUser)),bC(n,m=>h(m))}}const o=KE("auth");return o&&rC(n,`http://${o}`),n}function L2(){return document.getElementsByTagName("head")?.[0]??document}YI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Zn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",L2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O2("Browser");var U2="firebase",j2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(U2,j2,"app");var C0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,UT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function I(){}I.prototype=R.prototype,M.F=R.prototype,M.prototype=new I,M.prototype.constructor=M,M.D=function(k,O,U){for(var x=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)x[lt-2]=arguments[lt];return R.prototype[O].apply(k,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,I){I||(I=0);const k=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)k[O]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(O=0;O<16;++O)k[O]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=M.g[0],I=M.g[1],O=M.g[2];let U=M.g[3],x;x=R+(U^I&(O^U))+k[0]+3614090360&4294967295,R=I+(x<<7&4294967295|x>>>25),x=U+(O^R&(I^O))+k[1]+3905402710&4294967295,U=R+(x<<12&4294967295|x>>>20),x=O+(I^U&(R^I))+k[2]+606105819&4294967295,O=U+(x<<17&4294967295|x>>>15),x=I+(R^O&(U^R))+k[3]+3250441966&4294967295,I=O+(x<<22&4294967295|x>>>10),x=R+(U^I&(O^U))+k[4]+4118548399&4294967295,R=I+(x<<7&4294967295|x>>>25),x=U+(O^R&(I^O))+k[5]+1200080426&4294967295,U=R+(x<<12&4294967295|x>>>20),x=O+(I^U&(R^I))+k[6]+2821735955&4294967295,O=U+(x<<17&4294967295|x>>>15),x=I+(R^O&(U^R))+k[7]+4249261313&4294967295,I=O+(x<<22&4294967295|x>>>10),x=R+(U^I&(O^U))+k[8]+1770035416&4294967295,R=I+(x<<7&4294967295|x>>>25),x=U+(O^R&(I^O))+k[9]+2336552879&4294967295,U=R+(x<<12&4294967295|x>>>20),x=O+(I^U&(R^I))+k[10]+4294925233&4294967295,O=U+(x<<17&4294967295|x>>>15),x=I+(R^O&(U^R))+k[11]+2304563134&4294967295,I=O+(x<<22&4294967295|x>>>10),x=R+(U^I&(O^U))+k[12]+1804603682&4294967295,R=I+(x<<7&4294967295|x>>>25),x=U+(O^R&(I^O))+k[13]+4254626195&4294967295,U=R+(x<<12&4294967295|x>>>20),x=O+(I^U&(R^I))+k[14]+2792965006&4294967295,O=U+(x<<17&4294967295|x>>>15),x=I+(R^O&(U^R))+k[15]+1236535329&4294967295,I=O+(x<<22&4294967295|x>>>10),x=R+(O^U&(I^O))+k[1]+4129170786&4294967295,R=I+(x<<5&4294967295|x>>>27),x=U+(I^O&(R^I))+k[6]+3225465664&4294967295,U=R+(x<<9&4294967295|x>>>23),x=O+(R^I&(U^R))+k[11]+643717713&4294967295,O=U+(x<<14&4294967295|x>>>18),x=I+(U^R&(O^U))+k[0]+3921069994&4294967295,I=O+(x<<20&4294967295|x>>>12),x=R+(O^U&(I^O))+k[5]+3593408605&4294967295,R=I+(x<<5&4294967295|x>>>27),x=U+(I^O&(R^I))+k[10]+38016083&4294967295,U=R+(x<<9&4294967295|x>>>23),x=O+(R^I&(U^R))+k[15]+3634488961&4294967295,O=U+(x<<14&4294967295|x>>>18),x=I+(U^R&(O^U))+k[4]+3889429448&4294967295,I=O+(x<<20&4294967295|x>>>12),x=R+(O^U&(I^O))+k[9]+568446438&4294967295,R=I+(x<<5&4294967295|x>>>27),x=U+(I^O&(R^I))+k[14]+3275163606&4294967295,U=R+(x<<9&4294967295|x>>>23),x=O+(R^I&(U^R))+k[3]+4107603335&4294967295,O=U+(x<<14&4294967295|x>>>18),x=I+(U^R&(O^U))+k[8]+1163531501&4294967295,I=O+(x<<20&4294967295|x>>>12),x=R+(O^U&(I^O))+k[13]+2850285829&4294967295,R=I+(x<<5&4294967295|x>>>27),x=U+(I^O&(R^I))+k[2]+4243563512&4294967295,U=R+(x<<9&4294967295|x>>>23),x=O+(R^I&(U^R))+k[7]+1735328473&4294967295,O=U+(x<<14&4294967295|x>>>18),x=I+(U^R&(O^U))+k[12]+2368359562&4294967295,I=O+(x<<20&4294967295|x>>>12),x=R+(I^O^U)+k[5]+4294588738&4294967295,R=I+(x<<4&4294967295|x>>>28),x=U+(R^I^O)+k[8]+2272392833&4294967295,U=R+(x<<11&4294967295|x>>>21),x=O+(U^R^I)+k[11]+1839030562&4294967295,O=U+(x<<16&4294967295|x>>>16),x=I+(O^U^R)+k[14]+4259657740&4294967295,I=O+(x<<23&4294967295|x>>>9),x=R+(I^O^U)+k[1]+2763975236&4294967295,R=I+(x<<4&4294967295|x>>>28),x=U+(R^I^O)+k[4]+1272893353&4294967295,U=R+(x<<11&4294967295|x>>>21),x=O+(U^R^I)+k[7]+4139469664&4294967295,O=U+(x<<16&4294967295|x>>>16),x=I+(O^U^R)+k[10]+3200236656&4294967295,I=O+(x<<23&4294967295|x>>>9),x=R+(I^O^U)+k[13]+681279174&4294967295,R=I+(x<<4&4294967295|x>>>28),x=U+(R^I^O)+k[0]+3936430074&4294967295,U=R+(x<<11&4294967295|x>>>21),x=O+(U^R^I)+k[3]+3572445317&4294967295,O=U+(x<<16&4294967295|x>>>16),x=I+(O^U^R)+k[6]+76029189&4294967295,I=O+(x<<23&4294967295|x>>>9),x=R+(I^O^U)+k[9]+3654602809&4294967295,R=I+(x<<4&4294967295|x>>>28),x=U+(R^I^O)+k[12]+3873151461&4294967295,U=R+(x<<11&4294967295|x>>>21),x=O+(U^R^I)+k[15]+530742520&4294967295,O=U+(x<<16&4294967295|x>>>16),x=I+(O^U^R)+k[2]+3299628645&4294967295,I=O+(x<<23&4294967295|x>>>9),x=R+(O^(I|~U))+k[0]+4096336452&4294967295,R=I+(x<<6&4294967295|x>>>26),x=U+(I^(R|~O))+k[7]+1126891415&4294967295,U=R+(x<<10&4294967295|x>>>22),x=O+(R^(U|~I))+k[14]+2878612391&4294967295,O=U+(x<<15&4294967295|x>>>17),x=I+(U^(O|~R))+k[5]+4237533241&4294967295,I=O+(x<<21&4294967295|x>>>11),x=R+(O^(I|~U))+k[12]+1700485571&4294967295,R=I+(x<<6&4294967295|x>>>26),x=U+(I^(R|~O))+k[3]+2399980690&4294967295,U=R+(x<<10&4294967295|x>>>22),x=O+(R^(U|~I))+k[10]+4293915773&4294967295,O=U+(x<<15&4294967295|x>>>17),x=I+(U^(O|~R))+k[1]+2240044497&4294967295,I=O+(x<<21&4294967295|x>>>11),x=R+(O^(I|~U))+k[8]+1873313359&4294967295,R=I+(x<<6&4294967295|x>>>26),x=U+(I^(R|~O))+k[15]+4264355552&4294967295,U=R+(x<<10&4294967295|x>>>22),x=O+(R^(U|~I))+k[6]+2734768916&4294967295,O=U+(x<<15&4294967295|x>>>17),x=I+(U^(O|~R))+k[13]+1309151649&4294967295,I=O+(x<<21&4294967295|x>>>11),x=R+(O^(I|~U))+k[4]+4149444226&4294967295,R=I+(x<<6&4294967295|x>>>26),x=U+(I^(R|~O))+k[11]+3174756917&4294967295,U=R+(x<<10&4294967295|x>>>22),x=O+(R^(U|~I))+k[2]+718787259&4294967295,O=U+(x<<15&4294967295|x>>>17),x=I+(U^(O|~R))+k[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+U&4294967295}s.prototype.v=function(M,R){R===void 0&&(R=M.length);const I=R-this.blockSize,k=this.C;let O=this.h,U=0;for(;U<R;){if(O==0)for(;U<=I;)o(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<R;)if(k[O++]=M.charCodeAt(U++),O==this.blockSize){o(this,k),O=0;break}}else for(;U<R;)if(k[O++]=M[U++],O==this.blockSize){o(this,k),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;R=this.o*8;for(var I=M.length-8;I<M.length;++I)M[I]=R&255,R/=256;for(this.v(M),M=Array(16),R=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)M[R++]=this.g[I]>>>k&255;return M};function u(M,R){var I=m;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=R(M)}function h(M,R){this.h=R;const I=[];let k=!0;for(let O=M.length-1;O>=0;O--){const U=M[O]|0;k&&U==R||(I[O]=U,k=!1)}this.g=I}var m={};function p(M){return-128<=M&&M<128?u(M,function(R){return new h([R|0],R<0?-1:0)}):new h([M|0],M<0?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return b;if(M<0)return B(g(-M));const R=[];let I=1;for(let k=0;M>=I;k++)R[k]=M/I|0,I*=4294967296;return new h(R,0)}function _(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return B(_(M.substring(1),R));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let k=b;for(let U=0;U<M.length;U+=8){var O=Math.min(8,M.length-U);const x=parseInt(M.substring(U,U+O),R);O<8?(O=g(Math.pow(R,O)),k=k.j(O).add(g(x))):(k=k.j(I),k=k.add(g(x)))}return k}var b=p(0),S=p(1),N=p(16777216);i=h.prototype,i.m=function(){if(Y(this))return-B(this).m();let M=0,R=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);M+=(k>=0?k:4294967296+k)*R,R*=4294967296}return M},i.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(Q(this))return"0";if(Y(this))return"-"+B(this).toString(M);const R=g(Math.pow(M,6));var I=this;let k="";for(;;){const O=_e(I,R).g;I=ne(I,O.j(R));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(M);if(I=O,Q(I))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},i.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function Q(M){if(M.h!=0)return!1;for(let R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function Y(M){return M.h==-1}i.l=function(M){return M=ne(this,M),Y(M)?-1:Q(M)?0:1};function B(M){const R=M.g.length,I=[];for(let k=0;k<R;k++)I[k]=~M.g[k];return new h(I,~M.h).add(S)}i.abs=function(){return Y(this)?B(this):this},i.add=function(M){const R=Math.max(this.g.length,M.g.length),I=[];let k=0;for(let O=0;O<=R;O++){let U=k+(this.i(O)&65535)+(M.i(O)&65535),x=(U>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);k=x>>>16,U&=65535,x&=65535,I[O]=x<<16|U}return new h(I,I[I.length-1]&-2147483648?-1:0)};function ne(M,R){return M.add(B(R))}i.j=function(M){if(Q(this)||Q(M))return b;if(Y(this))return Y(M)?B(this).j(B(M)):B(B(this).j(M));if(Y(M))return B(this.j(B(M)));if(this.l(N)<0&&M.l(N)<0)return g(this.m()*M.m());const R=this.g.length+M.g.length,I=[];for(var k=0;k<2*R;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<M.g.length;O++){const U=this.i(k)>>>16,x=this.i(k)&65535,lt=M.i(O)>>>16,nt=M.i(O)&65535;I[2*k+2*O]+=x*nt,X(I,2*k+2*O),I[2*k+2*O+1]+=U*nt,X(I,2*k+2*O+1),I[2*k+2*O+1]+=x*lt,X(I,2*k+2*O+1),I[2*k+2*O+2]+=U*lt,X(I,2*k+2*O+2)}for(M=0;M<R;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=R;M<2*R;M++)I[M]=0;return new h(I,0)};function X(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function re(M,R){this.g=M,this.h=R}function _e(M,R){if(Q(R))throw Error("division by zero");if(Q(M))return new re(b,b);if(Y(M))return R=_e(B(M),R),new re(B(R.g),B(R.h));if(Y(R))return R=_e(M,B(R)),new re(B(R.g),R.h);if(M.g.length>30){if(Y(M)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var I=S,k=R;k.l(M)<=0;)I=he(I),k=he(k);var O=xe(I,1),U=xe(k,1);for(k=xe(k,2),I=xe(I,2);!Q(k);){var x=U.add(k);x.l(M)<=0&&(O=O.add(I),U=x),k=xe(k,1),I=xe(I,1)}return R=ne(M,O.j(R)),new re(O,R)}for(O=b;M.l(R)>=0;){for(I=Math.max(1,Math.floor(M.m()/R.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=g(I),x=U.j(R);Y(x)||x.l(M)>0;)I-=k,U=g(I),x=U.j(R);Q(U)&&(U=S),O=O.add(U),M=ne(M,x)}return new re(O,M)}i.B=function(M){return _e(this,M).h},i.and=function(M){const R=Math.max(this.g.length,M.g.length),I=[];for(let k=0;k<R;k++)I[k]=this.i(k)&M.i(k);return new h(I,this.h&M.h)},i.or=function(M){const R=Math.max(this.g.length,M.g.length),I=[];for(let k=0;k<R;k++)I[k]=this.i(k)|M.i(k);return new h(I,this.h|M.h)},i.xor=function(M){const R=Math.max(this.g.length,M.g.length),I=[];for(let k=0;k<R;k++)I[k]=this.i(k)^M.i(k);return new h(I,this.h^M.h)};function he(M){const R=M.g.length+1,I=[];for(let k=0;k<R;k++)I[k]=M.i(k)<<1|M.i(k-1)>>>31;return new h(I,M.h)}function xe(M,R){const I=R>>5;R%=32;const k=M.g.length-I,O=[];for(let U=0;U<k;U++)O[U]=R>0?M.i(U+I)>>>R|M.i(U+I+1)<<32-R:M.i(U+I);return new h(O,M.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,UT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,ss=h}).apply(typeof C0<"u"?C0:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jT,Ql,zT,dh,$m,BT,qT,HT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break e;v=v[z]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function _(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,z,G){for(var ie=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ie[Se-2]=arguments[Se];return y.prototype[z].apply(A,ie)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function N(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function Q(c,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const G=z.length||0;c.length=v+G;for(let ie=0;ie<G;ie++)c[v+ie]=z[ie]}else c.push(z)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(c){h.setTimeout(()=>{throw c},0)}function ne(){var c=M;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class X{constructor(){this.h=this.g=null}add(y,v){const A=re.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new Y(()=>new _e,c=>c.reset());class _e{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let he,xe=!1,M=new X,R=()=>{const c=Promise.resolve(void 0);he=()=>{c.then(I)}};function I(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){B(v)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}xe=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function lt(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(lt,O),lt.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var nt="closure_listenable_"+(Math.random()*1e6|0),K=0;function oe(c,y,v,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=z,this.key=++K,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function D(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function te(c){const y={};for(const v in c)y[v]=c[v];return y}const le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,y){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let G=0;G<le.length;G++)v=le[G],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function de(c){this.src=c,this.g={},this.h=0}de.prototype.add=function(c,y,v,A,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const ie=Te(c,y,A,z);return ie>-1?(y=c[ie],v||(y.fa=!1)):(y=new oe(y,this.src,G,!!A,z),y.fa=v,c.push(y)),y};function Oe(c,y){const v=y.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,y,void 0),G;(G=z>=0)&&Array.prototype.splice.call(A,z,1),G&&(pe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Te(c,y,v,A){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==A)return z}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ge={};function zn(c,y,v,A,z){if(Array.isArray(y)){for(let G=0;G<y.length;G++)zn(c,y[G],v,A,z);return null}return v=Vu(v),c&&c[nt]?c.J(y,v,m(A)?!!A.capture:!1,z):Po(c,y,v,!1,A,z)}function Po(c,y,v,A,z,G){if(!y)throw Error("Invalid event type");const ie=m(z)?!!z.capture:!!z;let Se=ko(c);if(Se||(c[Lt]=Se=new de(c)),v=Se.add(y,v,A,ie,G),v.proxy)return v;if(A=ga(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)U||(z=ie),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(_a(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ga(){function c(v){return y.call(c.src,c.listener,v)}const y=yf;return c}function ya(c,y,v,A,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)ya(c,y[G],v,A,z);else A=m(A)?!!A.capture:!!A,v=Vu(v),c&&c[nt]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=Te(y,v,A,z),v>-1&&(pe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=ko(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Te(y,v,A,z)),(v=c>-1?y[c]:null)&&_s(v))}function _s(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[nt])Oe(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(_a(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=ko(y))?(Oe(v,c),v.h==0&&(v.src=null,y[Lt]=null)):pe(c)}}}function _a(c){return c in Ge?Ge[c]:Ge[c]="on"+c}function yf(c,y){if(c.da)c=!0;else{y=new lt(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&_s(c),c=v.call(A,y)}return c}function ko(c){return c=c[Lt],c instanceof de?c:null}var ln="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vu(c){return typeof c=="function"?c:(c[ln]||(c[ln]=function(y){return c.handleEvent(y)}),c[ln])}function wt(){k.call(this),this.i=new de(this),this.M=this,this.G=null}b(wt,k),wt.prototype[nt]=!0,wt.prototype.removeEventListener=function(c,y,v,A){ya(this,c,y,v,A)};function Dt(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var z=y;y=new O(A,c),se(y,z)}z=!0;let G,ie;if(v)for(ie=v.length-1;ie>=0;ie--)G=y.g=v[ie],z=Rr(G,A,!0,y)&&z;if(G=y.g=c,z=Rr(G,A,!0,y)&&z,z=Rr(G,A,!1,y)&&z,v)for(ie=0;ie<v.length;ie++)G=y.g=v[ie],z=Rr(G,A,!1,y)&&z}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)pe(v[A]);delete c.g[y],c.h--}}this.G=null},wt.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},wt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Rr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let G=0;G<y.length;++G){const ie=y[G];if(ie&&!ie.da&&ie.capture==v){const Se=ie.listener,et=ie.ha||ie.src;ie.fa&&Oe(c.i,ie),z=Se.call(et,A)!==!1&&z}}return z&&!A.defaultPrevented}function _f(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Lo(c){c.g=_f(()=>{c.g=null,c.i&&(c.i=!1,Lo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class vf extends k{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Lo(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){k.call(this),this.h=c,this.g={}}b(vs,k);var di=[];function Gt(c){Ue(c.g,function(y,v){this.g.hasOwnProperty(v)&&_s(y)},c),c.g={}}vs.prototype.N=function(){vs.Z.N.call(this),Gt(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=h.JSON.stringify,en=h.JSON.parse,Ef=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Pu(){}function ku(){}var rr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mi(){O.call(this,"d")}b(mi,O);function Bn(){O.call(this,"c")}b(Bn,O);var In={},pi=null;function va(){return pi=pi||new wt}In.Ia="serverreachability";function Uo(c){O.call(this,In.Ia,c)}b(Uo,O);function gi(c){const y=va();Dt(y,new Uo(y))}In.STAT_EVENT="statevent";function Ea(c,y){O.call(this,In.STAT_EVENT,c),this.stat=y}b(Ea,O);function ft(c){const y=va();Dt(y,new Ea(y,c))}In.Ja="timingevent";function Lu(c,y){O.call(this,In.Ja,c),this.size=y}b(Lu,O);function yi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function _i(){this.g=!0}_i.prototype.ua=function(){this.g=!1};function jo(c,y,v,A,z,G){c.info(function(){if(c.g)if(G){var ie="",Se=G.split("&");for(let qe=0;qe<Se.length;qe++){var et=Se[qe].split("=");if(et.length>1){const pt=et[0];et=et[1];const gn=pt.split("_");ie=gn.length>=2&&gn[1]=="type"?ie+(pt+"="+et+"&"):ie+(pt+"=redacted&")}}}else ie=null;else ie=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+v+`
`+ie})}function zo(c,y,v,A,z,G,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+v+`
`+G+" "+ie})}function Ir(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ir(c,v)+(A?" "+A:"")})}function Tf(c,y){c.info(function(){return"TIMEOUT: "+y})}_i.prototype.info=function(){};function ir(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ie=1;ie<A.length;ie++)A[ie]=""}}}}return Rn(G)}catch{return y}}var dt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ut={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cr;function Es(){}b(Es,Pu),Es.prototype.g=function(){return new XMLHttpRequest},Cr=new Es;function Ts(c){return encodeURIComponent(String(c))}function bf(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function qn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vi}function vi(){this.i=null,this.g="",this.h=!1}var Ta={},sr={};function ar(c,y,v){c.M=1,c.A=Nr(st(y)),c.u=v,c.R=!0,Ei(c,null)}function Ei(c,y){c.F=Date.now(),bs(c),c.B=st(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Bu(v.i,"t",A),c.C=0,v=c.j.L,c.h=new vi,c.g=Da(c.j,v?y:null,!c.u),c.P>0&&(c.O=new vf(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(di[0]=z.toString()),z=di);for(let G=0;G<z.length;G++){const ie=zn(v,z[G],A||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.J?te(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),gi(),jo(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Qt(c)==3?y.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Qt(this.g),et=this.g.ya(),qe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Ms(this.g)))){this.K||Se!=4||et==7||(et==8||qe<=0?gi(3):gi(2)),lr(this);var y=this.g.ca();this.X=y;var v=Ti(this);if(this.o=y==200,zo(this.i,this.v,this.B,this.l,this.S,Se,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var G=A;break t}}G=null}if(c=G)Ir(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ba(this,c);else{this.o=!1,this.m=3,ft(12),ur(this),As(this);break e}}if(this.R){c=!0;let pt;for(;!this.K&&this.C<v.length;)if(pt=Uu(this,v),pt==sr){Se==4&&(this.m=4,ft(14),c=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==Ta){this.m=4,ft(15),Ir(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Ir(this.i,this.l,pt,null),ba(this,pt);if(mt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,ft(16),c=!1),this.o=this.o&&c,!c)Ir(this.i,this.l,v,"[Invalid Chunked Response]"),ur(this),As(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xo(ie),ie.P=!0,ft(11))}}else Ir(this.i,this.l,v,null),ba(this,v);Se==4&&ur(this),this.o&&!this.K&&(Se==4?Wo(this.j,this):(this.o=!1,bs(this)))}else Vs(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),ur(this),As(this)}}}catch{}finally{}};function Ti(c){if(!mt(c))return c.g.la();const y=Ms(c.g);if(y==="")return"";let v="";const A=y.length,z=Qt(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ur(c),As(c),"";c.h.i=new h.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(z&&G==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function mt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Uu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?sr:(v=Number(y.substring(v,A)),isNaN(v)?Ta:(A+=1,A+v>y.length?sr:(y=y.slice(A,A+v),c.C=A+v,y)))}qn.prototype.cancel=function(){this.K=!0,ur(this)};function bs(c){c.T=Date.now()+c.H,or(c,c.H)}function or(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=yi(g(c.aa,c),y)}function lr(c){c.D&&(h.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Tf(this.i,this.B),this.M!=2&&(gi(),ft(17)),ur(this),this.m=2,As(this)):or(this,this.T-c)};function As(c){c.j.I==0||c.K||Wo(c.j,c)}function ur(c){lr(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Gt(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function ba(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Rs(v.h,c))){if(!c.L&&Rs(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Na(v),cr(v);else break e;$o(v),ft(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(g(v.Va,v),6e3));Cn(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mr(v,11)}else if((c.L||v.g==c)&&Na(v),!x(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let qe=z[y];const pt=qe[0];if(!(pt<=v.K))if(v.K=pt,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const gn=qe[3];gn!=null&&(v.ka=gn,v.j.info("VER="+v.ka));const hr=qe[4];hr!=null&&(v.za=hr,v.j.info("SVER="+v.za));const Gn=qe[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(A=1.5*Gn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qn=c.g;if(Qn){const Yn=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var G=A.h;G.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Aa(G,G.h),G.h=null))}if(A.G){const Jo=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(A.wa=Jo,Qe(A.J,A.G,Jo))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ie=c;if(A.na=Xu(A,A.L?A.ba:null,A.W),ie.L){xr(A.h,ie);var Se=ie,et=A.O;et&&(Se.H=et),Se.D&&(lr(Se),bs(Se)),A.g=ie}else Qu(A);v.i.length>0&&Us(v)}else qe[0]!="stop"&&qe[0]!="close"||Mr(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Mr(v,7):ks(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}gi(4)}catch{}}var Af=class{constructor(c,y){this.g=c,this.map=y}};function Ss(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ws(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Cn(c){return c.h?1:c.g?c.g.size:0}function Rs(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Aa(c,y){c.g?c.g.add(y):c.h=y}function xr(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ss.prototype.cancel=function(){if(this.i=Sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Sa(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return N(c.i)}var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sf(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let z,G=null;A>=0?(z=c[v].substring(0,A),G=c[v].substring(A+1)):z=c[v],y(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Hn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Hn?(this.l=c.l,bi(this,c.j),this.o=c.o,this.g=c.g,Is(this,c.u),this.h=c.h,Ai(this,qu(c.i)),this.m=c.m):c&&(y=String(c).match(wa))?(this.l=!1,bi(this,y[1]||"",!0),this.o=Cs(y[2]||""),this.g=Cs(y[3]||"",!0),Is(this,y[4]),this.h=Cs(y[5]||"",!0),Ai(this,y[6]||"",!0),this.m=Cs(y[7]||"")):(this.l=!1,this.i=new xn(null,this.l))}Hn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ot(y,qo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ot(y,qo,!0),"@"),c.push(Ts(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ot(v,v.charAt(0)=="/"?Si:Ho,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ot(v,zu)),c.join("")},Hn.prototype.resolve=function(c){const y=st(this);let v=!!c.j;v?bi(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)Is(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let ie=0;ie<z.length;){const Se=z[ie++];Se=="."?A&&ie==z.length&&G.push(""):Se==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&ie==z.length&&G.push("")):(G.push(Se),A=!0)}A=G.join("/")}else A=z}return v?y.h=A:v=c.i.toString()!=="",v?Ai(y,qu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function st(c){return new Hn(c)}function bi(c,y,v){c.j=v?Cs(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Is(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Ai(c,y,v){y instanceof xn?(c.i=y,Qo(c.i,c.l)):(v||(y=Ot(y,ju)),c.i=new xn(y,c.l))}function Qe(c,y,v){c.i.set(y,v)}function Nr(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Cs(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ot(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Bo),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Bo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qo=/[#\/\?@]/g,Ho=/[#\?:]/g,Si=/[#\?]/g,ju=/[#\?@]/g,zu=/#/g;function xn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dr(c){c.g||(c.g=new Map,c.h=0,c.i&&Sf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=xn.prototype,i.add=function(c,y){Dr(this),this.i=null,c=Fn(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Fo(c,y){Dr(c),y=Fn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Go(c,y){return Dr(c),y=Fn(c,y),c.g.has(y)}i.forEach=function(c,y){Dr(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(y,z,A,this)},this)},this)};function Ra(c,y){Dr(c);let v=[];if(typeof y=="string")Go(c,y)&&(v=v.concat(c.g.get(Fn(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return Dr(this),this.i=null,c=Fn(this,c),Go(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Ra(this,c),c.length>0?String(c[0]):y):y};function Bu(c,y,v){Fo(c,y),v.length>0&&(c.i=null,c.g.set(Fn(c,y),N(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const z=Ts(v);v=Ra(this,v);for(let G=0;G<v.length;G++){let ie=z;v[G]!==""&&(ie+="="+Ts(v[G])),c.push(ie)}}return this.i=c.join("&")};function qu(c){const y=new xn;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Fn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Qo(c,y){y&&!c.j&&(Dr(c),c.i=null,c.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(Fo(this,A),Bu(this,z,v))},c)),c.j=y}function Yo(c,y){const v=new _i;if(h.Image){const A=new Image;A.onload=_(tn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=_(tn,v,"TestLoadImage: error",!1,y,A),A.onabort=_(tn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(tn,v,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function wi(c,y){const v=new _i,A=new AbortController,z=setTimeout(()=>{A.abort(),tn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?tn(v,"TestPingServer: ok",!0,y):tn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),tn(v,"TestPingServer: error",!1,y)})}function tn(c,y,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Hu(){this.g=new Ef}function xs(c){this.i=c.Sb||null,this.h=c.ab||!1}b(xs,Pu),xs.prototype.g=function(){return new Ns(this.i,this.h)};function Ns(c,y){wt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ns,wt),i=Ns.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Or(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nn(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ri(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ri(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?nn(this):Or(this),this.readyState==3&&Ri(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,nn(this))},i.Na=function(c){this.g&&(this.response=c,nn(this))},i.ga=function(){this.g&&nn(this)};function nn(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Or(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Or(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ii(c){let y="";return Ue(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Nn(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Ii(v),typeof c=="string"?v!=null&&Ts(v):Qe(c,y,v))}function We(c){wt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(We,wt);var Ia=/^https?$/i,Fu=["POST","PUT"];i=We.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cr.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Ds(this,G);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())v.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Fu,y,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of v)this.g.setRequestHeader(G,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Ds(this,G)}};function Ds(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Os(c),Rt(c)}function Os(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Dt(this,"complete"),Dt(this,"abort"),Rt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rt(this,!0)),We.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ko(this):this.Xa())},i.Xa=function(){Ko(this)};function Ko(c){if(c.h&&typeof u<"u"){if(c.v&&Qt(c)==4)setTimeout(c.Ca.bind(c),0);else if(Dt(c,"readystatechange"),Qt(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=G===0){let ie=String(c.D).match(wa)[1]||null;!ie&&h.self&&h.self.location&&(ie=h.self.location.protocol.slice(0,-1)),A=!Ia.test(ie?ie.toLowerCase():"")}v=A}if(v)Dt(c,"complete"),Dt(c,"success");else{c.o=6;try{var z=Qt(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Os(c)}}finally{Rt(c)}}}}function Rt(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Dt(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Qt(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Qt(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),en(y)}};function Ms(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vs(c){const y={};c=(c.g&&Qt(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(x(c[A]))continue;var v=bf(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[z]||[];y[z]=G,G.push(v)}D(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ps(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ca(c){this.za=0,this.i=[],this.j=new _i,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ps("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ps("baseRetryDelayMs",5e3,c),this.Za=Ps("retryDelaySeedMs",1e4,c),this.Ta=Ps("forwardChannelMaxRetries",2,c),this.va=Ps("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ss(c&&c.concurrentRequestLimit),this.Ba=new Hu,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ca.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,A){ft(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Xu(this,null,this.W),Us(this)};function ks(c){if(Ls(c),c.I==3){var y=c.V++,v=st(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",y),Qe(v,"TYPE","terminate"),js(c,v),y=new qn(c,c.j,y),y.M=2,y.A=Nr(st(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Da(y.j,null),y.g.ea(y.A)),y.F=Date.now(),bs(y)}$u(c)}function cr(c){c.g&&(Xo(c),c.g.cancel(),c.g=null)}function Ls(c){cr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Na(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Us(c){if(!ws(c.h)&&!c.m){c.m=!0;var y=c.Ea;he||R(),xe||(he(),xe=!0),M.add(y,c),c.D=0}}function wf(c,y){return Cn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=yi(g(c.Ea,c,y),Ku(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new qn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=te(G),se(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=xa(this,z,y),v=st(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),js(this,v),G&&(this.R?y="headers="+Ts(Ii(G))+"&"+y:this.u&&Nn(v,this.u,G)),Aa(this.h,z),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",y),Qe(v,"SID","null"),z.U=!0,ar(z,v,null)):ar(z,v,y),this.I=2}}else this.I==3&&(c?Gu(this,c):this.i.length==0||ws(this.h)||Gu(this))};function Gu(c,y){var v;y?v=y.l:v=c.V++;const A=st(c.J);Qe(A,"SID",c.M),Qe(A,"RID",v),Qe(A,"AID",c.K),js(c,A),c.u&&c.o&&Nn(A,c.u,c.o),v=new qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=xa(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Aa(c.h,v),ar(v,A,y)}function js(c,y){c.H&&Ue(c.H,function(v,A){Qe(y,A,v)}),c.l&&Ue({},function(v,A){Qe(y,A,v)})}function xa(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let Se=-1;for(;;){const et=["count="+v];Se==-1?v>0?(Se=z[0].g,et.push("ofs="+Se)):Se=0:et.push("ofs="+Se);let qe=!0;for(let pt=0;pt<v;pt++){var G=z[pt].g;const gn=z[pt].map;if(G-=Se,G<0)Se=Math.max(0,z[pt].g-100),qe=!1;else try{G="req"+G+"_"||"";try{var ie=gn instanceof Map?gn:Object.entries(gn);for(const[hr,Gn]of ie){let Qn=Gn;m(Gn)&&(Qn=Rn(Gn)),et.push(G+hr+"="+encodeURIComponent(Qn))}}catch(hr){throw et.push(G+"type="+encodeURIComponent("_badmap")),hr}}catch{A&&A(gn)}}if(qe){ie=et.join("&");break e}}ie=void 0}return c=c.i.splice(0,v),y.G=c,ie}function Qu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;he||R(),xe||(he(),xe=!0),M.add(y,c),c.A=0}}function $o(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=yi(g(c.Da,c),Ku(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=yi(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),cr(this),Yu(this))};function Xo(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Yu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=st(c.na);Qe(y,"RID","rpc"),Qe(y,"SID",c.M),Qe(y,"AID",c.K),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(y,"TO",c.ia),Qe(y,"TYPE","xmlhttp"),js(c,y),c.u&&c.o&&Nn(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Nr(st(y)),v.u=null,v.R=!0,Ei(v,c)}i.Va=function(){this.C!=null&&(this.C=null,cr(this),$o(this),ft(19))};function Na(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Wo(c,y){var v=null;if(c.g==y){Na(c),Xo(c),c.g=null;var A=2}else if(Rs(c.h,y))v=y.G,xr(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;A=va(),Dt(A,new Lu(A,v)),Us(c)}else Qu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&wf(c,y)||A==2&&$o(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Mr(c,5);break;case 4:Mr(c,10);break;case 3:Mr(c,6);break;default:Mr(c,2)}}}function Ku(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Mr(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const z=!A;A=new Hn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||bi(A,"https"),Nr(A),z?Yo(A.toString(),v):wi(A.toString(),v)}else ft(2);c.I=0,c.l&&c.l.pa(y),$u(c),Ls(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function $u(c){if(c.I=0,c.ja=[],c.l){const y=Sa(c.h);(y.length!=0||c.i.length!=0)&&(Q(c.ja,y),Q(c.ja,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.oa()}}function Xu(c,y,v){var A=v instanceof Hn?st(v):new Hn(v);if(A.g!="")y&&(A.g=y+"."+A.g),Is(A,A.u);else{var z=h.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const G=new Hn(null);A&&bi(G,A),y&&(G.g=y),z&&Is(G,z),v&&(G.h=v),A=G}return v=c.G,y=c.wa,v&&y&&Qe(A,v,y),Qe(A,"VER",c.ka),js(c,A),A}function Da(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new We(new xs({ab:v})):new We(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}i=Wu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Oa(){}Oa.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){wt.call(this),this.g=new Ca(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!x(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ci(this)}b(rn,wt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){ks(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Rn(c),c=v);y.i.push(new Af(y.Ya++,c)),y.I==3&&Us(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,ks(this.g),delete this.g,rn.Z.N.call(this)};function Zo(c){mi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Zo,mi);function Zu(){Bn.call(this),this.status=1}b(Zu,Bn);function Ci(c){this.g=c}b(Ci,Wu),Ci.prototype.ra=function(){Dt(this.g,"a")},Ci.prototype.qa=function(c){Dt(this.g,new Zo(c))},Ci.prototype.pa=function(c){Dt(this.g,new Zu)},Ci.prototype.oa=function(){Dt(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,HT=function(){return new Oa},qT=function(){return va()},BT=In,$m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dt.NO_ERROR=0,dt.TIMEOUT=8,dt.HTTP_ERROR=6,dh=dt,Ut.COMPLETE="complete",zT=Ut,ku.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Ql=ku,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,jT=We}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const x0="@firebase/firestore",N0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Ap("@firebase/firestore");function oo(){return ca.logLevel}function ue(i,...e){if(ca.logLevel<=Me.DEBUG){const n=e.map(kp);ca.debug(`Firestore (${No}): ${i}`,...n)}}function ii(i,...e){if(ca.logLevel<=Me.ERROR){const n=e.map(kp);ca.error(`Firestore (${No}): ${i}`,...n)}}function _o(i,...e){if(ca.logLevel<=Me.WARN){const n=e.map(kp);ca.warn(`Firestore (${No}): ${i}`,...n)}}function kp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,FT(i,s,n)}function FT(i,e,n){let s=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ii(s),new Error(s)}function Be(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||FT(e,o,s)}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Xt.UNAUTHENTICATED)))}shutdown(){}}class B2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class q2{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ei,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ei)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string",31837,{l:s}),new GT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class H2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class F2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new H2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Xt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Be(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new D0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Q2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function Xm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Dm(o)===Dm(u)?Ve(o,u):Dm(o)?1:-1}return Ve(i.length,e.length)}const Y2=55296,K2=57343;function Dm(i){const e=i.charCodeAt(0);return e>=Y2&&e<=K2}function vo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="__name__";class yr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=yr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=yr.isNumericId(e),o=yr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?yr.extractNumericId(e).compare(yr.extractNumericId(n)):Xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class Je extends yr{construct(e,n,s){return new Je(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Je(n)}static emptyPath(){return new Je([])}}const $2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends yr{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return $2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O0}static keyField(){return new Ht([O0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ae(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ae(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ae(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ae(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Je.fromString(e))}static fromName(e){return new me(Je.fromString(e).popFirst(5))}static empty(){return new me(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(i,e,n){if(!n)throw new ae(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function X2(i,e,n,s){if(e===!0&&s===!0)throw new ae(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function M0(i){if(!me.isDocumentKey(i))throw new ae(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function V0(i){if(me.isDocumentKey(i))throw new ae(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function YT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function $h(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function an(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ae(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(i);throw new ae(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(i,e){const n={typeString:i};return e&&(n.value=e),n}function bu(i,e){if(!YT(i))throw new ae(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ae(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=-62135596800,k0=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*k0);return new tt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<P0)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:St("string",tt._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new tt(0,0))}static max(){return new Ae(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=-1;function W2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new tt(n+1,0):new tt(n,s));return new ls(o,me.empty(),e)}function Z2(i){return new ls(i.readTime,i.key,au)}class ls{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ls(Ae.min(),me.empty(),au)}static max(){return new ls(Ae.max(),me.empty(),au)}}function J2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==ex)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((_=>{h[g]=_,++m,m===u&&s(h)}),(_=>o(_)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function nx(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=-1;function Wh(i){return i==null}function Nh(i){return i===0&&1/i==-1/0}function rx(i){return typeof i=="number"&&Number.isInteger(i)&&!Nh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="";function ix(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=L0(e)),e=sx(i.get(n),e);return L0(e)}function sx(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case KT:n+="";break;default:n+=u}}return n}function L0(i){return i+KT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ms(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function $T(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j0(this.data.getIterator())}getIteratorFrom(e){return new j0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class j0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Nt(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new XT("Invalid base64 string: "+u):u}})(e);return new Ft(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const ax=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(i){if(Be(!!i,39018),typeof i=="string"){let e=0;const n=ax.exec(i);if(Be(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function cs(i){return typeof i=="string"?Ft.fromBase64String(i):Ft.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="server_timestamp",ZT="__type__",JT="__previous_value__",eb="__local_write_time__";function jp(i){return(i?.mapValue?.fields||{})[ZT]?.stringValue===WT}function Zh(i){const e=i.mapValue.fields[JT];return jp(e)?Zh(e):e}function ou(i){const e=us(i.mapValue.fields[eb].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,s,o,u,h,m,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Dh="(default)";class lu{constructor(e,n){this.projectId=e,this.database=n||Dh}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="__type__",lx="__max__",rh={mapValue:{}},nb="__vector__",Oh="value";function hs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?jp(i)?4:cx(i)?9007199254740991:ux(i)?10:11:Ee(28295,{value:i})}function Sr(i,e){if(i===e)return!0;const n=hs(i);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ou(i).isEqual(ou(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=us(o.timestampValue),m=us(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return cs(o.bytesValue).isEqual(cs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?Nh(h)===Nh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return vo(i.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(U0(h)!==U0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Sr(h[p],m[p])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function uu(i,e){return(i.values||[]).find((n=>Sr(n,e)))!==void 0}function Eo(i,e){if(i===e)return 0;const n=hs(i),s=hs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return z0(i.timestampValue,e.timestampValue);case 4:return z0(ou(i),ou(e));case 5:return Xm(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=cs(u),p=cs(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Ve(m[g],p[g]);if(_!==0)return _}return Ve(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(_t(u.latitude),_t(h.latitude));return m!==0?m:Ve(_t(u.longitude),_t(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return B0(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Oh]?.arrayValue,_=p[Oh]?.arrayValue,b=Ve(g?.values?.length||0,_?.values?.length||0);return b!==0?b:B0(g,_)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===rh.mapValue&&h===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(h===rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let b=0;b<p.length&&b<_.length;++b){const S=Xm(p[b],_[b]);if(S!==0)return S;const N=Eo(m[p[b]],g[_[b]]);if(N!==0)return N}return Ve(p.length,_.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function z0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=us(i),s=us(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function B0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Eo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function To(i){return Wm(i)}function Wm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=us(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return cs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return me.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Wm(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Wm(n.fields[h])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function mh(i){switch(hs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(i);return e?16+mh(e):16;case 5:return 2*i.stringValue.length;case 6:return cs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+mh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ms(s.fields,((u,h)=>{o+=u.length+mh(h)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function q0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Zm(i){return!!i&&"integerValue"in i}function zp(i){return!!i&&"arrayValue"in i}function H0(i){return!!i&&"nullValue"in i}function F0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ph(i){return!!i&&"mapValue"in i}function ux(i){return(i?.mapValue?.fields||{})[tb]?.stringValue===nb}function Zl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ms(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Zl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zl(i.arrayValue.values[n]);return e}return{...i}}function cx(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===lx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Zl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ms(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(Zl(this.value))}}function rb(i){const e=[];return ms(i.fields,((n,s)=>{const o=new Ht([n]);if(ph(s)){const u=rb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Ae.min(),Ae.min(),Ae.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Ae.min(),Ae.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Ae.min(),Ae.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function G0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=Eo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Q0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Sr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function hx(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{}class At extends ib{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new dx(e,n,s):n==="array-contains"?new gx(e,s):n==="in"?new yx(e,s):n==="not-in"?new _x(e,s):n==="array-contains-any"?new vx(e,s):new At(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new mx(e,s):new px(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends ib{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new er(e,n)}matches(e){return sb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sb(i){return i.op==="and"}function ab(i){return fx(i)&&sb(i)}function fx(i){for(const e of i.filters)if(e instanceof er)return!1;return!0}function Jm(i){if(i instanceof At)return i.field.canonicalString()+i.op.toString()+To(i.value);if(ab(i))return i.filters.map((e=>Jm(e))).join(",");{const e=i.filters.map((n=>Jm(n))).join(",");return`${i.op}(${e})`}}function ob(i,e){return i instanceof At?(function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&Sr(s.value,o.value)})(i,e):i instanceof er?(function(s,o){return o instanceof er&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&ob(h,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function lb(i){return i instanceof At?(function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`})(i):i instanceof er?(function(n){return n.op.toString()+" {"+n.getFilters().map(lb).join(" ,")+"}"})(i):"Filter"}class dx extends At{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class mx extends At{constructor(e,n){super(e,"in",n),this.keys=ub("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class px extends At{constructor(e,n){super(e,"not-in",n),this.keys=ub("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ub(i,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class gx extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zp(n)&&uu(n.arrayValue,this.value)}}class yx extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class _x extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uu(this.value.arrayValue,n)}}class vx extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>uu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function Y0(i,e=null,n=[],s=[],o=null,u=null,h=null){return new Ex(i,e,n,s,o,u,h)}function Bp(i){const e=we(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Jm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>To(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>To(s))).join(",")),e.Te=n}return e.Te}function qp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!hx(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ob(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Q0(i.startAt,e.startAt)&&Q0(i.endAt,e.endAt)}function ep(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Tx(i,e,n,s,o,u,h,m){return new Mo(i,e,n,s,o,u,h,m)}function Jh(i){return new Mo(i)}function K0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function cb(i){return i.collectionGroup!==null}function Jl(i){const e=we(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Nt(Ht.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new cu(u,s))})),n.has(Ht.keyField().canonicalString())||e.Ie.push(new cu(Ht.keyField(),s))}return e.Ie}function Er(i){const e=we(i);return e.Ee||(e.Ee=bx(e,Jl(i))),e.Ee}function bx(i,e){if(i.limitType==="F")return Y0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new cu(o.field,u)}));const n=i.endAt?new Mh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Mh(i.startAt.position,i.startAt.inclusive):null;return Y0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function tp(i,e){const n=i.filters.concat([e]);return new Mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Vh(i,e,n){return new Mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ef(i,e){return qp(Er(i),Er(e))&&i.limitType===e.limitType}function hb(i){return`${Bp(Er(i))}|lt:${i.limitType}`}function lo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>lb(o))).join(", ")}]`),Wh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>To(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>To(o))).join(",")),`Target(${s})`})(Er(i))}; limitType=${i.limitType})`}function tf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=G0(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Jl(s),o)||s.endAt&&!(function(h,m,p){const g=G0(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Jl(s),o))})(i,e)}function Ax(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function fb(i){return(e,n)=>{let s=!1;for(const o of Jl(i)){const u=Sx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Sx(i,e,n){const s=i.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Eo(p,g):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return $T(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new ot(me.comparator);function si(){return wx}const db=new ot(me.comparator);function Yl(...i){let e=db;for(const n of i)e=e.insert(n.key,n);return e}function mb(i){let e=db;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ra(){return eu()}function pb(){return eu()}function eu(){return new ma((i=>i.toString()),((i,e)=>i.isEqual(e)))}const Rx=new ot(me.comparator),Ix=new Nt(me.comparator);function Pe(...i){let e=Ix;for(const n of i)e=e.add(n);return e}const Cx=new Nt(Ve);function xx(){return Cx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function gb(i){return{integerValue:""+i}}function Nx(i,e){return rx(e)?gb(e):Hp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function Dx(i,e,n){return i instanceof hu?(function(o,u){const h={fields:{[ZT]:{stringValue:WT},[eb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&jp(u)&&(u=Zh(u)),u&&(h.fields[JT]=u),{mapValue:h}})(n,e):i instanceof fu?_b(i,e):i instanceof du?vb(i,e):(function(o,u){const h=yb(o,u),m=$0(h)+$0(o.Ae);return Zm(h)&&Zm(o.Ae)?gb(m):Hp(o.serializer,m)})(i,e)}function Ox(i,e,n){return i instanceof fu?_b(i,e):i instanceof du?vb(i,e):n}function yb(i,e){return i instanceof Ph?(function(s){return Zm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class hu extends nf{}class fu extends nf{constructor(e){super(),this.elements=e}}function _b(i,e){const n=Eb(e);for(const s of i.elements)n.some((o=>Sr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class du extends nf{constructor(e){super(),this.elements=e}}function vb(i,e){let n=Eb(e);for(const s of i.elements)n=n.filter((o=>!Sr(o,s)));return{arrayValue:{values:n}}}class Ph extends nf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $0(i){return _t(i.integerValue||i.doubleValue)}function Eb(i){return zp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n){this.field=e,this.transform=n}}function Vx(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof fu&&o instanceof fu||s instanceof du&&o instanceof du?vo(s.elements,o.elements,Sr):s instanceof Ph&&o instanceof Ph?Sr(s.Ae,o.Ae):s instanceof hu&&o instanceof hu})(i.transform,e.transform)}class Px{constructor(e,n){this.version=e,this.transformResults=n}}class on{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new on}static exists(e){return new on(void 0,e)}static updateTime(e){return new on(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class rf{}function Tb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new sf(i.key,on.none()):new Au(i.key,i.data,on.none());{const n=i.data,s=mn.empty();let o=new Nt(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ps(i.key,s,new wn(o.toArray()),on.none())}}function kx(i,e,n){i instanceof Au?(function(o,u,h){const m=o.value.clone(),p=W0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof ps?(function(o,u,h){if(!gh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=W0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(bb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function tu(i,e,n,s){return i instanceof Au?(function(u,h,m,p){if(!gh(u.precondition,h))return m;const g=u.value.clone(),_=Z0(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof ps?(function(u,h,m,p){if(!gh(u.precondition,h))return m;const g=Z0(u.fieldTransforms,p,h),_=h.data;return _.setAll(bb(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(u,h,m){return gh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function Lx(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=yb(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function X0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,((u,h)=>Vx(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Au extends rf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ps extends rf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function W0(i,e,n){const s=new Map;Be(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,Ox(h,m,n[o]))}return s}function Z0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,Dx(u,h,e))}return s}class sf extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ux extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&kx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=pb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=Tb(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,((n,s)=>X0(n,s)))&&vo(this.baseMutations,e.baseMutations,((n,s)=>X0(n,s)))}}class Fp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Be(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return Rx})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Fp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Le;function qx(i){switch(i){case W.OK:return Ee(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function Ab(i){if(i===void 0)return ii("GRPC error has no .code"),W.UNKNOWN;switch(i){case bt.OK:return W.OK;case bt.CANCELLED:return W.CANCELLED;case bt.UNKNOWN:return W.UNKNOWN;case bt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case bt.INTERNAL:return W.INTERNAL;case bt.UNAVAILABLE:return W.UNAVAILABLE;case bt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case bt.NOT_FOUND:return W.NOT_FOUND;case bt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case bt.ABORTED:return W.ABORTED;case bt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case bt.DATA_LOSS:return W.DATA_LOSS;default:return Ee(39323,{code:i})}}(Le=bt||(bt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new ss([4294967295,4294967295],0);function J0(i){const e=Hx().encode(i),n=new UT;return n.update(e),new Uint8Array(n.digest())}function eE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([n,s],0),new ss([o,u],0)]}class Gp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ss.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ss.fromNumber(s)));return o.compare(Fx)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=J0(e),[s,o]=eE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Gp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=J0(e),[s,o]=eE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new af(Ae.min(),o,new ot(Ve),si(),Pe())}}class Su{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Su(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Sb{constructor(e,n){this.targetId=e,this.Ce=n}}class wb{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class tE{constructor(){this.ve=0,this.Fe=nE(),this.Me=Ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Su(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=nE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Gx{constructor(e){this.Ge=e,this.ze=new Map,this.je=si(),this.Je=ih(),this.He=ih(),this.Ye=new ot(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ep(u))if(s===0){const h=new me(u.path);this.et(n,h,Zt.newNoDocument(h,Ae.min()))}else Be(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=cs(s).toUint8Array()}catch(p){if(p instanceof XT)return _o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Gp(h,o,u)}catch(p){return _o(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&ep(m.target)){const p=new me(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new af(e,n,this.Ye,this.je,s);return this.je=si(),this.Je=ih(),this.He=ih(),this.Ye=new ot(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new tE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ih(){return new ot(me.comparator)}function nE(){return new ot(me.comparator)}const Qx={asc:"ASCENDING",desc:"DESCENDING"},Yx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kx={and:"AND",or:"OR"};class $x{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function np(i,e){return i.useProto3Json||Wh(e)?e:{value:e}}function kh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Xx(i,e){return kh(i,e.toTimestamp())}function Tr(i){return Be(!!i,49232),Ae.fromTimestamp((function(n){const s=us(n);return new tt(s.seconds,s.nanos)})(i))}function Qp(i,e){return rp(i,e).canonicalString()}function rp(i,e){const n=(function(o){return new Je(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Ib(i){const e=Je.fromString(i);return Be(Ob(e),10190,{key:e.toString()}),e}function ip(i,e){return Qp(i.databaseId,e.path)}function Om(i,e){const n=Ib(e);if(n.get(1)!==i.databaseId.projectId)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new me(xb(n))}function Cb(i,e){return Qp(i.databaseId,e)}function Wx(i){const e=Ib(i);return e.length===4?Je.emptyPath():xb(e)}function sp(i){return new Je(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xb(i){return Be(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function rE(i,e,n){return{name:ip(i,e),fields:n.value.mapValue.fields}}function Zx(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(Be(_===void 0||typeof _=="string",58123),Ft.fromBase64String(_||"")):(Be(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Ft.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const _=g.code===void 0?W.UNKNOWN:Ab(g.code);return new ae(_,g.message||"")})(h);n=new wb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Om(i,s.document.name),u=Tr(s.document.updateTime),h=s.document.createTime?Tr(s.document.createTime):Ae.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,h,m),g=s.targetIds||[],_=s.removedTargetIds||[];n=new yh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Om(i,s.document),u=s.readTime?Tr(s.readTime):Ae.min(),h=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new yh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Om(i,s.document),u=s.removedTargetIds||[];n=new yh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new Bx(o,u),m=s.targetId;n=new Sb(m,h)}}return n}function Jx(i,e){let n;if(e instanceof Au)n={update:rE(i,e.key,e.value)};else if(e instanceof sf)n={delete:ip(i,e.key)};else if(e instanceof ps)n={update:rE(i,e.key,e.data),updateMask:lN(e.fieldMask)};else{if(!(e instanceof Ux))return Ee(16599,{Vt:e.type});n={verify:ip(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof hu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof fu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof du)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ph)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Xx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),n}function eN(i,e){return i&&i.length>0?(Be(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Tr(o.updateTime):Tr(u);return h.isEqual(Ae.min())&&(h=Tr(u)),new Px(h,o.transformResults||[])})(n,e)))):[]}function tN(i,e){return{documents:[Cb(i,e.path)]}}function nN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Cb(i,o);const u=(function(g){if(g.length!==0)return Db(er.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((_=>(function(S){return{field:uo(S.field),direction:sN(S.dir)}})(_)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=np(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function rN(i){let e=Wx(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Be(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(b){const S=Nb(b);return S instanceof er&&ab(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((S=>(function(Q){return new cu(co(Q.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let S;return S=typeof b=="object"?b.value:b,Wh(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(b){const S=!!b.before,N=b.values||[];return new Mh(N,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const S=!b.before,N=b.values||[];return new Mh(N,S)})(n.endAt)),Tx(e,o,h,u,m,"F",p,g)}function iN(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Nb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=co(n.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(n.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(n.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=co(n.unaryFilter.field);return At.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return At.create(co(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return er.create(n.compositeFilter.filters.map((s=>Nb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function sN(i){return Qx[i]}function aN(i){return Yx[i]}function oN(i){return Kx[i]}function uo(i){return{fieldPath:i.canonicalString()}}function co(i){return Ht.fromServerFormat(i.fieldPath)}function Db(i){return i instanceof At?(function(n){if(n.op==="=="){if(F0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(H0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(F0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(H0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:aN(n.op),value:n.value}}})(i):i instanceof er?(function(n){const s=n.getFilters().map((o=>Db(o)));return s.length===1?s[0]:{compositeFilter:{op:oN(n.op),filters:s}}})(i):Ee(54877,{filter:i})}function lN(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ob(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,s,o,u=Ae.min(),h=Ae.min(),m=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.yt=e}}function cN(i){const e=rN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Vh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.Cn=new fN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ls.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class fN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(Je.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mb=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(Mb,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="LruGarbageCollector",dN=1048576;function aE([i,e],[n,s]){const o=Ve(i,n);return o===0?Ve(e,s):o}class mN{constructor(e){this.Ir=e,this.buffer=new Nt(aE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();aE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(sE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oo(n)?ue(sE,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.Vr(3e5)}))}}class gN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Xh.ce);const s=new mN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(iE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),oo()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function yN(i,e){return new gN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.changes=new ma((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&tu(s.mutation,o,wn.empty(),tt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=ra();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Yl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ra();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=si();const h=eu(),m=(function(){return eu()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ps)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),tu(_.mutation,g,_.mutation.getFieldMask(),tt.now())):h.set(g.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,_)=>h.set(g,_))),n.forEach(((g,_)=>m.set(g,new vN(_,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=eu();let o=new ot(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||wn.empty();_=m.applyToLocalView(g,_),s.set(p,_);const b=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,b=pb();_.forEach((S=>{if(!u.has(S)){const N=Tb(n.get(S),s.get(S));N!==null&&b.set(S,N),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ee.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(ra());let m=au,p=u;return h.next((g=>ee.forEach(g,((_,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{p=p.insert(_,S)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((_=>({batchId:m,changes:mb(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Yl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const g=(function(b,S){return new Mo(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((b,S)=>{h=h.insert(b,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,Zt.newInvalidDocument(_)))}));let m=Yl();return h.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&tu(_.mutation,g,wn.empty(),tt.now()),tf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Tr(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:cN(o.bundledQuery),readTime:Tr(o.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.overlays=new ot(me.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ra();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=ra(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot(((g,_)=>g-_));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=ra(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=ra(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new zx(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this.Qr=new Nt(kt.$r),this.Ur=new Nt(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new kt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new Je([])),s=new kt(n,e),o=new kt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new Je([])),s=new kt(n,e),o=new kt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new kt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(kt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new jx(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Up:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Ve);return n.forEach((o=>{const u=new kt(o,0),h=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new kt(new me(u),0);let m=new Nt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Be(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new kt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.ri=e,this.docs=(function(){return new ot(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=si();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=si();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||J2(Z2(_),s)<=0||(o.has(_.key)||tf(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new RN(this)}getSize(e){return ee.resolve(this.size)}}class RN extends _N{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.persistence=e,this.si=new ma((n=>Bp(n)),qp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Yp,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Xh(0),this.li=!1,this.li=!0,this.hi=new AN,this.referenceDelegate=e(this),this.Pi=new IN(this),this.indexManager=new hN,this.remoteDocumentCache=(function(o){return new wN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new uN(n),this.Ii=new TN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new SN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new CN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class CN extends tx{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Ri=new Yp,this.Vi=null}static mi(e){return new Kp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.pi=new ma((s=>ix(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=yN(this,n)}static mi(e,n){return new Lh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new $p(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tR()?8:nx(Jt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new xN;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(oo()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(oo()<=Me.DEBUG&&ue("QueryEngine","Query:",lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(oo()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):ee.resolve())}ys(e,n){if(K0(n))return ee.resolve(null);let s=Er(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Vh(n,null,"F"),s=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,Vh(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return K0(n)||o.isEqual(Ae.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ee.resolve(null):(oo()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.vs(e,h,n,W2(o,au)).next((m=>m)))}))}Ds(e,n){let s=new Nt(fb(e));return n.forEach(((o,u)=>{tf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return oo()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",lo(n)),this.ps.getDocumentsMatchingQuery(e,n,ls.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="LocalStore",DN=3e8;class ON{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ot(Ve),this.xs=new ma((u=>Bp(u)),qp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function MN(i,e,n,s){return new ON(i,e,n,s)}async function Pb(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function VN(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const b=g.batch,S=b.keys();let N=ee.resolve();return S.forEach((Q=>{N=N.next((()=>_.getEntry(p,Q))).next((Y=>{const B=g.docVersions.get(Q);Be(B!==null,48541),Y.version.compareTo(B)<0&&(b.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),_.addEntry(Y)))}))})),N.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function kb(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function PN(i,e){const n=we(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((_,b)=>{const S=o.get(b);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,b))));let N=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(Ft.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,s)),o=o.insert(b,N),(function(Y,B,ne){return Y.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=DN?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(S,N,_)&&m.push(n.Pi.updateTargetData(u,N))}));let p=si(),g=Pe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(kN(u,h,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(Ae.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(_)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function kN(i,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=si();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ue(Xp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function LN(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Up),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function UN(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ts(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function ap(i,e,n){const s=we(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Oo(h))throw h;ue(Xp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function oE(i,e,n){const s=we(i);let o=Ae.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,_){const b=we(p),S=b.xs.get(_);return S!==void 0?ee.resolve(b.Ms.get(S)):b.Pi.getTargetData(g,_)})(s,h,Er(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Ae.min(),n?u:Pe()))).next((m=>(jN(s,Ax(e),m),{documents:m,Qs:u})))))}function jN(i,e,n){let s=i.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class lE{constructor(){this.activeTargetIds=xx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zN{constructor(){this.Mo=new lE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="ConnectivityMonitor";class cE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(uE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(uE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh=null;function op(){return sh===null?sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():sh++,"0x"+sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="RestConnection",qN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=op(),m=this.zo(e,n.toUriEncodedString());ue(Mm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=Io(g);return this.Jo(e,m,p,s,_).then((b=>(ue(Mm,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw _o(Mm,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=qN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class GN extends HN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=op();return new Promise(((m,p)=>{const g=new jT;g.setWithCredentials(!0),g.listenOnce(zT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case dh.NO_ERROR:const b=g.getResponseJson();ue($t,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case dh.TIMEOUT:ue($t,`RPC '${e}' ${h} timed out`),p(new ae(W.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const S=g.getStatus();if(ue($t,`RPC '${e}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const Q=N?.error;if(Q&&Q.status&&Q.message){const Y=(function(ne){const X=ne.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(X)>=0?X:W.UNKNOWN})(Q.status);p(new ae(Y,Q.message))}else p(new ae(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ae(W.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue($t,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(o);ue($t,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=op(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=HT(),m=qT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");ue($t,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=h.createWebChannel(_,p);this.I_(b);let S=!1,N=!1;const Q=new FN({Yo:B=>{N?ue($t,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(S||(ue($t,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),ue($t,`RPC '${e}' stream ${o} sending:`,B),b.send(B))},Zo:()=>b.close()}),Y=(B,ne,X)=>{B.listen(ne,(re=>{try{X(re)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return Y(b,Ql.EventType.OPEN,(()=>{N||(ue($t,`RPC '${e}' stream ${o} transport opened.`),Q.o_())})),Y(b,Ql.EventType.CLOSE,(()=>{N||(N=!0,ue($t,`RPC '${e}' stream ${o} transport closed`),Q.a_(),this.E_(b))})),Y(b,Ql.EventType.ERROR,(B=>{N||(N=!0,_o($t,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),Q.a_(new ae(W.UNAVAILABLE,"The operation could not be completed")))})),Y(b,Ql.EventType.MESSAGE,(B=>{if(!N){const ne=B.data[0];Be(!!ne,16349);const X=ne,re=X?.error||X[0]?.error;if(re){ue($t,`RPC '${e}' stream ${o} received error:`,re);const _e=re.status;let he=(function(R){const I=bt[R];if(I!==void 0)return Ab(I)})(_e),xe=re.message;he===void 0&&(he=W.INTERNAL,xe="Unknown error status: "+_e+" with message "+re.message),N=!0,Q.a_(new ae(he,xe)),b.close()}else ue($t,`RPC '${e}' stream ${o} received:`,ne),Q.u_(ne)}})),Y(m,BT.STAT_EVENT,(B=>{B.stat===$m.PROXY?ue($t,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===$m.NOPROXY&&ue($t,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(i){return new $x(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="PersistentStream";class Ub{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Lb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(ii(n.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ae(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(hE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(hE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QN extends Ub{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Zx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Tr(h.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=sp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=ep(p)?{documents:tN(u,p)}:{query:nN(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Rb(u,h.resumeToken);const g=np(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ae.min())>0){m.readTime=kh(u,h.snapshotVersion.toTimestamp());const g=np(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=iN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.q_(n)}}class YN extends Ub{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=eN(e.writeResults,e.commitTime),s=Tr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=sp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Jx(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{}class $N extends KN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,rp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae(W.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,rp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ae(W.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ii(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class WN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{pa(this)&&(ue(ha,"Restarting streams for network reachability change."),await(async function(p){const g=we(p);g.Ea.add(4),await wu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await lf(g)})(this))}))})),this.Ra=new XN(s,o)}}async function lf(i){if(pa(i))for(const e of i.da)await e(!0)}async function wu(i){for(const e of i.da)await e(!1)}function jb(i,e){const n=we(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eg(n)?Jp(n):Vo(n).O_()&&Zp(n,e))}function Wp(i,e){const n=we(i),s=Vo(n);n.Ia.delete(e),s.O_()&&zb(n,e),n.Ia.size===0&&(s.O_()?s.L_():pa(n)&&n.Ra.set("Unknown"))}function Zp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(i).Y_(e)}function zb(i,e){i.Va.Ue(e),Vo(i).Z_(e)}function Jp(i){i.Va=new Gx({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Vo(i).start(),i.Ra.ua()}function eg(i){return pa(i)&&!Vo(i).x_()&&i.Ia.size>0}function pa(i){return we(i).Ea.size===0}function Bb(i){i.Va=void 0}async function ZN(i){i.Ra.set("Online")}async function JN(i){i.Ia.forEach(((e,n)=>{Zp(i,e)}))}async function eD(i,e){Bb(i),eg(i)?(i.Ra.ha(e),Jp(i)):i.Ra.set("Unknown")}async function tD(i,e,n){if(i.Ra.set("Online"),e instanceof wb&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ue(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Uh(i,s)}else if(e instanceof yh?i.Va.Ze(e):e instanceof Sb?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await kb(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Ft.EMPTY_BYTE_STRING,_.snapshotVersion)),zb(u,p);const b=new ts(_.target,p,g,_.sequenceNumber);Zp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ue(ha,"Failed to raise snapshot:",s),await Uh(i,s)}}async function Uh(i,e,n){if(!Oo(e))throw e;i.Ea.add(1),await wu(i),i.Ra.set("Offline"),n||(n=()=>kb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(ha,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await lf(i)}))}function qb(i,e){return e().catch((n=>Uh(i,n,e)))}async function uf(i){const e=we(i),n=fs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Up;for(;nD(e);)try{const o=await LN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,rD(e,o)}catch(o){await Uh(e,o)}Hb(e)&&Fb(e)}function nD(i){return pa(i)&&i.Ta.length<10}function rD(i,e){i.Ta.push(e);const n=fs(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Hb(i){return pa(i)&&!fs(i).x_()&&i.Ta.length>0}function Fb(i){fs(i).start()}async function iD(i){fs(i).ra()}async function sD(i){const e=fs(i);for(const n of i.Ta)e.ea(n.mutations)}async function aD(i,e,n){const s=i.Ta.shift(),o=Fp.from(s,e,n);await qb(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await uf(i)}async function oD(i,e){e&&fs(i).X_&&await(async function(s,o){if((function(h){return qx(h)&&h!==W.ABORTED})(o.code)){const u=s.Ta.shift();fs(s).B_(),await qb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await uf(s)}})(i,e),Hb(i)&&Fb(i)}async function fE(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),ue(ha,"RemoteStore received new credentials");const s=pa(n);n.Ea.add(3),await wu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lf(n)}async function lD(i,e){const n=we(i);e?(n.Ea.delete(2),await lf(n)):e||(n.Ea.add(2),await wu(n),n.Ra.set("Unknown"))}function Vo(i){return i.ma||(i.ma=(function(n,s,o){const u=we(n);return u.sa(),new QN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:ZN.bind(null,i),t_:JN.bind(null,i),r_:eD.bind(null,i),H_:tD.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),eg(i)?Jp(i):i.Ra.set("Unknown")):(await i.ma.stop(),Bb(i))}))),i.ma}function fs(i){return i.fa||(i.fa=(function(n,s,o){const u=we(n);return u.sa(),new YN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:iD.bind(null,i),r_:oD.bind(null,i),ta:sD.bind(null,i),na:aD.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await uf(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(ha,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new tg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(i,e){if(ii("AsyncQueue",`${e}: ${i}`),Oo(i))return new ae(W.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Yl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.ga=new ot(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ao{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Ao(e,n,po.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class cD{constructor(){this.queries=mE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=mE(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ae(W.ABORTED,"Firestore shutting down"))}}function mE(){return new ma((i=>hb(i)),ef)}async function rg(i,e){const n=we(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new uD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=ng(h,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&sg(n)}async function ig(i,e){const n=we(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function hD(i,e){const n=we(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&sg(n)}function fD(i,e,n){const s=we(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function sg(i){i.Ca.forEach((e=>{e.next()}))}var lp,pE;(pE=lp||(lp={})).Ma="default",pE.Cache="cache";class ag{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.key=e}}class Qb{constructor(e){this.key=e}}class dD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=fb(e),this.tu=new po(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new dE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,b)=>{const S=o.get(_),N=tf(this.query,b)?b:null,Q=!!S&&this.mutatedKeys.has(S.key),Y=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let B=!1;S&&N?S.data.isEqual(N.data)?Q!==Y&&(s.track({type:3,doc:N}),B=!0):this.su(S,N)||(s.track({type:2,doc:N}),B=!0,(p&&this.eu(N,p)>0||g&&this.eu(N,g)<0)&&(m=!0)):!S&&N?(s.track({type:0,doc:N}),B=!0):S&&!N&&(s.track({type:1,doc:S}),B=!0,(p||g)&&(m=!0)),B&&(N?(h=h.add(N),u=Y?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,b)=>(function(N,Q){const Y=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:B})}};return Y(N)-Y(Q)})(_.type,b.type)||this.eu(_.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Ao(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Qb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Gb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class mD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class pD{constructor(e){this.key=e,this.hu=!1}}class gD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ma((m=>hb(m)),ef),this.Iu=new Map,this.Eu=new Set,this.du=new ot(me.comparator),this.Au=new Map,this.Ru=new Yp,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yD(i,e,n=!0){const s=Zb(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Yb(s,e,n,!0),o}async function _D(i,e){const n=Zb(i);await Yb(n,e,!0,!1)}async function Yb(i,e,n,s){const o=await UN(i.localStore,Er(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await vD(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&jb(i.remoteStore,o),m}async function vD(i,e,n,s,o){i.pu=(b,S,N)=>(async function(Y,B,ne,X){let re=B.view.ru(ne);re.Cs&&(re=await oE(Y.localStore,B.query,!1).then((({documents:M})=>B.view.ru(M,re))));const _e=X&&X.targetChanges.get(B.targetId),he=X&&X.targetMismatches.get(B.targetId)!=null,xe=B.view.applyChanges(re,Y.isPrimaryClient,_e,he);return yE(Y,B.targetId,xe.au),xe.snapshot})(i,b,S,N);const u=await oE(i.localStore,e,!0),h=new dD(e,u.Qs),m=h.ru(u.documents),p=Su.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);yE(i,n,g.au);const _=new mD(e,n,h);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function ED(i,e,n){const s=we(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!ef(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ap(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Wp(s.remoteStore,o.targetId),up(s,o.targetId)})).catch(Do)):(up(s,o.targetId),await ap(s.localStore,o.targetId,!0))}async function TD(i,e){const n=we(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Wp(n.remoteStore,s.targetId))}async function bD(i,e,n){const s=xD(i);try{const o=await(function(h,m){const p=we(h),g=tt.now(),_=m.reduce(((N,Q)=>N.add(Q.key)),Pe());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let Q=si(),Y=Pe();return p.Ns.getEntries(N,_).next((B=>{Q=B,Q.forEach(((ne,X)=>{X.isValidDocument()||(Y=Y.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(N,Q))).next((B=>{b=B;const ne=[];for(const X of m){const re=Lx(X,b.get(X.key).overlayedDocument);re!=null&&ne.push(new ps(X.key,re,rb(re.value.mapValue),on.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,ne,m)})).next((B=>{S=B;const ne=B.applyToLocalDocumentSet(b,Y);return p.documentOverlayCache.saveOverlays(N,B.batchId,ne)}))})).then((()=>({batchId:S.batchId,changes:mb(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ot(Ve)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Ru(s,o.changes),await uf(s.remoteStore)}catch(o){const u=ng(o,"Failed to persist write");n.reject(u)}}async function Kb(i,e){const n=we(i);try{const s=await PN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Be(h.hu,14607):o.removedDocuments.size>0&&(Be(h.hu,42227),h.hu=!1))})),await Ru(n,s,e)}catch(s){await Do(s)}}function gE(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=we(h);p.onlineState=m;let g=!1;p.queries.forEach(((_,b)=>{for(const S of b.Sa)S.va(m)&&(g=!0)})),g&&sg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function AD(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ot(me.comparator);h=h.insert(u,Zt.newNoDocument(u,Ae.min()));const m=Pe().add(u),p=new af(Ae.min(),new Map,new ot(Ve),h,m);await Kb(s,p),s.du=s.du.remove(u),s.Au.delete(e),lg(s)}else await ap(s.localStore,e,!1).then((()=>up(s,e,n))).catch(Do)}async function SD(i,e){const n=we(i),s=e.batch.batchId;try{const o=await VN(n.localStore,e);Xb(n,s,null),$b(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ru(n,o)}catch(o){await Do(o)}}async function wD(i,e,n){const s=we(i);try{const o=await(function(h,m){const p=we(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Be(b!==null,37113),_=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);Xb(s,e,n),$b(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ru(s,o)}catch(o){await Do(o)}}function $b(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Xb(i,e,n){const s=we(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function up(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Wb(i,s)}))}function Wb(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Wp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),lg(i))}function yE(i,e,n){for(const s of n)s instanceof Gb?(i.Ru.addReference(s.key,e),RD(i,s)):s instanceof Qb?(ue(og,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Wb(i,s.key)):Ee(19791,{wu:s})}function RD(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ue(og,"New document in limbo: "+n),i.Eu.add(s),lg(i))}function lg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new me(Je.fromString(e)),s=i.fu.next();i.Au.set(s,new pD(n)),i.du=i.du.insert(n,s),jb(i.remoteStore,new ts(Er(Jh(n.path)),s,"TargetPurposeLimboResolution",Xh.ce))}}async function Ru(i,e,n){const s=we(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=$p.As(p.targetId,g);u.push(_)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const _=we(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ee.forEach(g,(S=>ee.forEach(S.Es,(N=>_.persistence.referenceDelegate.addReference(b,S.targetId,N))).next((()=>ee.forEach(S.ds,(N=>_.persistence.referenceDelegate.removeReference(b,S.targetId,N)))))))))}catch(b){if(!Oo(b))throw b;ue(Xp,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const N=_.Ms.get(S),Q=N.snapshotVersion,Y=N.withLastLimboFreeSnapshotVersion(Q);_.Ms=_.Ms.insert(S,Y)}}})(s.localStore,u))}async function ID(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){ue(og,"User change. New user:",e.toKey());const s=await Pb(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ae(W.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ru(n,s.Ls)}}function CD(i,e){const n=we(i),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Zb(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AD.bind(null,e),e.Pu.H_=hD.bind(null,e.eventManager),e.Pu.yu=fD.bind(null,e.eventManager),e}function xD(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wD.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return MN(this.persistence,new NN,e.initialUser,this.serializer)}Cu(e){return new Vb(Kp.mi,this.serializer)}Du(e){return new zN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class ND extends jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Be(this.persistence.referenceDelegate instanceof Lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new pN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Vb((s=>Lh.mi(s,n)),this.serializer)}}class cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ID.bind(null,this.syncEngine),await lD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cD})()}createDatastore(e){const n=of(e.databaseInfo.databaseId),s=(function(u){return new GN(u)})(e.databaseInfo);return(function(u,h,m,p){return new $N(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new WN(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>gE(this.syncEngine,n,0)),(function(){return cE.v()?new cE:new BN})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,_){const b=new gD(o,u,h,m,p,g);return _&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ue(ha,"RemoteStore shutting down."),s.Ea.add(5),await wu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="FirestoreClient";class DD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=Lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ue(ds,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ue(ds,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ng(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Pm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(ds,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Pb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function _E(i,e){i.asyncQueue.verifyOperationInProgress();const n=await OD(i);ue(ds,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>fE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>fE(e.remoteStore,o))),i._onlineComponents=e}async function OD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(ds,"Using user provided OfflineComponentProvider");try{await Pm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Pm(i,new jh)}}else ue(ds,"Using default OfflineComponentProvider"),await Pm(i,new ND(void 0));return i._offlineComponents}async function Jb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(ds,"Using user provided OnlineComponentProvider"),await _E(i,i._uninitializedComponentsProvider._online)):(ue(ds,"Using default OnlineComponentProvider"),await _E(i,new cp))),i._onlineComponents}function MD(i){return Jb(i).then((e=>e.syncEngine))}async function zh(i){const e=await Jb(i),n=e.eventManager;return n.onListen=yD.bind(null,e.syncEngine),n.onUnlisten=ED.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_D.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TD.bind(null,e.syncEngine),n}function VD(i,e,n={}){const s=new ei;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const _=new ug({next:S=>{_.Nu(),h.enqueueAndForget((()=>ig(u,b)));const N=S.docs.has(m);!N&&S.fromCache?g.reject(new ae(W.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&p&&p.source==="server"?g.reject(new ae(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new ag(Jh(m.path),_,{includeMetadataChanges:!0,qa:!0});return rg(u,b)})(await zh(i),i.asyncQueue,e,n,s))),s.promise}function PD(i,e,n={}){const s=new ei;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const _=new ug({next:S=>{_.Nu(),h.enqueueAndForget((()=>ig(u,b))),S.fromCache&&p.source==="server"?g.reject(new ae(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new ag(m,_,{includeMetadataChanges:!0,qa:!0});return rg(u,b)})(await zh(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firestore.googleapis.com",EE=!0;class TE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tA,this.ssl=EE}else this.host=e.host,this.ssl=e.ssl??EE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dN)throw new ae(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new z2;switch(s.type){case"firstParty":return new F2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=vE.get(n);s&&(ue("ComponentProvider","Removing Datastore"),vE.delete(n),s.terminate())})(this),Promise.resolve()}}function kD(i,e,n,s={}){i=an(i,cf);const o=Io(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(WE(`https://${m}`),ZE("Firestore",!0)),u.host!==tA&&u.host!==m&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!aa(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=Xt.MOCK_USER;else{g=Q1(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ae(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Xt(b)}i._authCredentials=new B2(new GT(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class ht{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(bu(n,ht._jsonSchema))return new ht(e,s||null,new me(Je.fromString(n.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:St("string",ht._jsonSchemaVersion),referencePath:St("string")};class as extends fi{constructor(e,n,s){super(e,n,Jh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new me(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function fa(i,e,...n){if(i=vt(i),QT("collection","path",e),i instanceof cf){const s=Je.fromString(e,...n);return V0(s),new as(i,null,s)}{if(!(i instanceof ht||i instanceof as))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Je.fromString(e,...n));return V0(s),new as(i.firestore,null,s)}}function os(i,e,...n){if(i=vt(i),arguments.length===1&&(e=Lp.newId()),QT("doc","path",e),i instanceof cf){const s=Je.fromString(e,...n);return M0(s),new ht(i,null,new me(s))}{if(!(i instanceof ht||i instanceof as))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Je.fromString(e,...n));return M0(s),new ht(i.firestore,i instanceof as?i.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="AsyncQueue";class AE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Lb(this,"async_queue_retry"),this._c=()=>{const s=Vm();s&&ue(bE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ei;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Oo(e))throw e;ue(bE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ii("INTERNAL UNHANDLED ERROR: ",SE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=tg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:SE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function SE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class wr extends cf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new AE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AE(e),this._firestoreClient=void 0,await e}}}function LD(i,e){const n=typeof i=="object"?i:nT(),s=typeof i=="string"?i:Dh,o=wp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=F1("firestore");u&&kD(o,...u)}return o}function Iu(i){if(i._terminated)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||UD(i),i._firestoreClient}function UD(i){const e=i._freezeSettings(),n=(function(o,u,h,m){return new ox(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,eA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new DD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Ft.fromBase64String(e))}catch(n){throw new ae(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:St("string",Un._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:br._jsonSchemaVersion}}static fromJSON(e){if(bu(e,br._jsonSchema))return new br(e.latitude,e.longitude)}}br._jsonSchemaVersion="firestore/geoPoint/1.0",br._jsonSchema={type:St("string",br._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,Ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ar(e.vectorValues);throw new ae(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ar._jsonSchemaVersion="firestore/vectorValue/1.0",Ar._jsonSchema={type:St("string",Ar._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=/^__.*__$/;class zD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class nA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ps(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class cg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(rA(this.Ac)&&jD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||of(e)}Cc(e,n,s,o=!1){return new cg({Ac:e,methodName:n,Dc:s,path:Ht.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xu(i){const e=i._freezeSettings(),n=of(i._databaseId);return new BD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function hg(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);dg("Data must be an object, but it was:",h,s);const m=aA(s,h);let p,g;if(u.merge)p=new wn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const b of u.mergeFields){const S=hp(e,b,n);if(!h.contains(S))throw new ae(W.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);lA(_,S)||_.push(S)}p=new wn(_),g=h.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=h.fieldTransforms;return new zD(new mn(m),p,g)}class ff extends hf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ff}}class fg extends hf{_toFieldTransform(e){return new Mx(e.path,new hu)}isEqual(e){return e instanceof fg}}function iA(i,e,n,s){const o=i.Cc(1,e,n);dg("Data must be an object, but it was:",o,s);const u=[],h=mn.empty();ms(s,((p,g)=>{const _=mg(e,p,n);g=vt(g);const b=o.yc(_);if(g instanceof ff)u.push(_);else{const S=Nu(g,b);S!=null&&(u.push(_),h.set(_,S))}}));const m=new wn(u);return new nA(h,m,o.fieldTransforms)}function sA(i,e,n,s,o,u){const h=i.Cc(1,e,n),m=[hp(e,s,n)],p=[o];if(u.length%2!=0)throw new ae(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(hp(e,u[S])),p.push(u[S+1]);const g=[],_=mn.empty();for(let S=m.length-1;S>=0;--S)if(!lA(g,m[S])){const N=m[S];let Q=p[S];Q=vt(Q);const Y=h.yc(N);if(Q instanceof ff)g.push(N);else{const B=Nu(Q,Y);B!=null&&(g.push(N),_.set(N,B))}}const b=new wn(g);return new nA(_,b,h.fieldTransforms)}function qD(i,e,n,s=!1){return Nu(n,i.Cc(s?4:3,e))}function Nu(i,e){if(oA(i=vt(i)))return dg("Unsupported field value:",e,i),aA(i,e);if(i instanceof hf)return(function(s,o){if(!rA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Nu(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Nx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=tt.fromDate(s);return{timestampValue:kh(o.serializer,u)}}if(s instanceof tt){const u=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kh(o.serializer,u)}}if(s instanceof br)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:Rb(o.serializer,s._byteString)};if(s instanceof ht){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ar)return(function(h,m){return{mapValue:{fields:{[tb]:{stringValue:nb},[Oh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Hp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${$h(s)}`)})(i,e)}function aA(i,e){const n={};return $T(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(i,((s,o)=>{const u=Nu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function oA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof tt||i instanceof br||i instanceof Un||i instanceof ht||i instanceof hf||i instanceof Ar)}function dg(i,e,n){if(!oA(n)||!YT(n)){const s=$h(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function hp(i,e,n){if((e=vt(e))instanceof Cu)return e._internalPath;if(typeof e=="string")return mg(i,e);throw Bh("Field path arguments must be of type string or ",i,!1,void 0,n)}const HD=new RegExp("[~\\*/\\[\\]]");function mg(i,e,n){if(e.search(HD)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Cu(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Bh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ae(W.INVALID_ARGUMENT,m+i+p)}function lA(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(df("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FD extends uA{data(){return super.data()}}function df(i,e){return typeof e=="string"?mg(i,e):e instanceof Cu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ae(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pg{}class gg extends pg{}function yg(i,e,...n){let s=[];e instanceof pg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof _g)).length,m=u.filter((p=>p instanceof mf)).length;if(h>1||h>0&&m>0)throw new ae(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class mf extends gg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new mf(e,n,s)}_apply(e){const n=this._parse(e);return hA(e._query,n),new fi(e.firestore,e.converter,tp(e._query,n))}_parse(e){const n=xu(e.firestore);return(function(u,h,m,p,g,_,b){let S;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ae(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){IE(b,_);const Q=[];for(const Y of b)Q.push(RE(p,u,Y));S={arrayValue:{values:Q}}}else S=RE(p,u,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||IE(b,_),S=qD(m,h,b,_==="in"||_==="not-in");return At.create(g,_,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function km(i,e,n){const s=e,o=df("where",i);return mf._create(o,s,n)}class _g extends pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _g(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)hA(h,p),h=tp(h,p)})(e._query,n),new fi(e.firestore,e.converter,tp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vg extends gg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new vg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new ae(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cu(u,h)})(e._query,this._field,this._direction);return new fi(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Mo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function GD(i,e="asc"){const n=e,s=df("orderBy",i);return vg._create(s,n)}class Eg extends gg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Eg(e,n,s)}_apply(e){return new fi(e.firestore,e.converter,Vh(e._query,this._limit,this._limitType))}}function QD(i){return Eg._create("limit",i,"F")}function RE(i,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new ae(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cb(e)&&n.indexOf("/")!==-1)throw new ae(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Je.fromString(n));if(!me.isDocumentKey(s))throw new ae(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return q0(i,new me(s))}if(n instanceof ht)return q0(i,n._key);throw new ae(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function IE(i,e){if(!Array.isArray(i)||i.length===0)throw new ae(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hA(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ae(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YD{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ms(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Oh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new Ar(n)}convertGeoPoint(e){return new br(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Zh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=us(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Je.fromString(e);Be(Ob(s),9688,{name:e});const o=new lu(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||ii(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class $l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends uA{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(df("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:St("string",ia._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class _h extends ia{data(e={}){return super.data(e)}}class sa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new _h(this._firestore,this._userDataWriter,s.key,s,new $l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new _h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new _h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:KD(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(i){i=an(i,ht);const e=an(i.firestore,wr);return VD(Iu(e),i._key).then((n=>pA(e,i,n)))}sa._jsonSchemaVersion="firestore/querySnapshot/1.0",sa._jsonSchema={type:St("string",sa._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class bg extends YD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function Ag(i){i=an(i,fi);const e=an(i.firestore,wr),n=Iu(e),s=new bg(e);return cA(i._query),PD(n,i._query).then((o=>new sa(e,s,i,o)))}function Lm(i,e,n){i=an(i,ht);const s=an(i.firestore,wr),o=Tg(i.converter,e,n);return Du(s,[hg(xu(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,on.none())])}function $D(i,e,n,...s){i=an(i,ht);const o=an(i.firestore,wr),u=xu(o);let h;return h=typeof(e=vt(e))=="string"||e instanceof Cu?sA(u,"updateDoc",i._key,e,n,s):iA(u,"updateDoc",i._key,e),Du(o,[h.toMutation(i._key,on.exists(!0))])}function fp(i){return Du(an(i.firestore,wr),[new sf(i._key,on.none())])}function dA(i,e){const n=an(i.firestore,wr),s=os(i),o=Tg(i.converter,e);return Du(n,[hg(xu(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,on.exists(!1))]).then((()=>s))}function mA(i,...e){i=vt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||wE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(i instanceof ht)h=an(i.firestore,wr),m=Jh(i._key.path),u={next:p=>{e[s]&&e[s](pA(h,i,p))},error:e[s+1],complete:e[s+2]};else{const p=an(i,fi);h=an(p.firestore,wr),m=p._query;const g=new bg(h);u={next:_=>{e[s]&&e[s](new sa(h,g,p,_))},error:e[s+1],complete:e[s+2]},cA(i._query)}return(function(g,_,b,S){const N=new ug(S),Q=new ag(_,N,b);return g.asyncQueue.enqueueAndForget((async()=>rg(await zh(g),Q))),()=>{N.Nu(),g.asyncQueue.enqueueAndForget((async()=>ig(await zh(g),Q)))}})(Iu(h),m,o,u)}function Du(i,e){return(function(s,o){const u=new ei;return s.asyncQueue.enqueueAndForget((async()=>bD(await MD(s),o,u))),u.promise})(Iu(i),e)}function pA(i,e,n){const s=n.docs.get(e._key),o=new bg(i);return new ia(i,o,e._key,s,new $l(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xu(e)}set(e,n,s){this._verifyNotCommitted();const o=Um(e,this._firestore),u=Tg(o.converter,n,s),h=hg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,on.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Um(e,this._firestore);let h;return h=typeof(n=vt(n))=="string"||n instanceof Cu?sA(this._dataReader,"WriteBatch.update",u._key,n,s,o):iA(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,on.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Um(e,this._firestore);return this._mutations=this._mutations.concat(new sf(n._key,on.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Um(i,e){if((i=vt(i)).firestore!==e)throw new ae(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function WD(){return new fg("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(i){return Iu(i=an(i,wr)),new XD(i,(e=>Du(i,e)))}(function(e,n=!0){(function(o){No=o})(Co),yo(new oa("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new wr(new q2(s.getProvider("auth-internal")),new G2(h,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ae(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(g.options.projectId,_)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),is(x0,N0,e),is(x0,N0,"esm2020")})();const JD={apiKey:"AIzaSyB832ZBlGV1vDq8-ALyyRjSFZLL7LQudcw",authDomain:"shopsphere-ecommerce-a2805.firebaseapp.com",projectId:"shopsphere-ecommerce-a2805",storageBucket:"shopsphere-ecommerce-a2805.firebasestorage.app",messagingSenderId:"427308484383",appId:"1:427308484383:web:92a4f18a40e76ad253522a"},gA=tT(JD),pn=LD(gA),go=k2(gA),yA=P.createContext();function gs(){return P.useContext(yA)}function eO({children:i}){const[e,n]=P.useState(null),[s,o]=P.useState(!0);P.useEffect(()=>SC(go,g=>{n(g),o(!1)}),[]);function u(p,g){return EC(go,p,g)}function h(p,g){return TC(go,p,g)}const m={currentUser:e,signup:u,login:h};return w.jsx(yA.Provider,{value:m,children:!s&&i})}let tO={data:""},nO=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||tO,rO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,iO=/\/\*[^]*?\*\/|  +/g,CE=/\n+/g,es=(i,e)=>{let n="",s="",o="";for(let u in i){let h=i[u];u[0]=="@"?u[1]=="i"?n=u+" "+h+";":s+=u[1]=="f"?es(h,u):u+"{"+es(h,u[1]=="k"?"":e)+"}":typeof h=="object"?s+=es(h,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):h!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=es.p?es.p(u,h):u+":"+h+";")}return n+(e&&o?e+"{"+o+"}":o)+s},Yr={},_A=i=>{if(typeof i=="object"){let e="";for(let n in i)e+=n+_A(i[n]);return e}return i},sO=(i,e,n,s,o)=>{let u=_A(i),h=Yr[u]||(Yr[u]=(p=>{let g=0,_=11;for(;g<p.length;)_=101*_+p.charCodeAt(g++)>>>0;return"go"+_})(u));if(!Yr[h]){let p=u!==i?i:(g=>{let _,b,S=[{}];for(;_=rO.exec(g.replace(iO,""));)_[4]?S.shift():_[3]?(b=_[3].replace(CE," ").trim(),S.unshift(S[0][b]=S[0][b]||{})):S[0][_[1]]=_[2].replace(CE," ").trim();return S[0]})(i);Yr[h]=es(o?{["@keyframes "+h]:p}:p,n?"":"."+h)}let m=n&&Yr.g?Yr.g:null;return n&&(Yr.g=Yr[h]),((p,g,_,b)=>{b?g.data=g.data.replace(b,p):g.data.indexOf(p)===-1&&(g.data=_?p+g.data:g.data+p)})(Yr[h],e,s,m),h},aO=(i,e,n)=>i.reduce((s,o,u)=>{let h=e[u];if(h&&h.call){let m=h(n),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;h=p?"."+p:m&&typeof m=="object"?m.props?"":es(m,""):m===!1?"":m}return s+o+(h??"")},"");function pf(i){let e=this||{},n=i.call?i(e.p):i;return sO(n.unshift?n.raw?aO(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,nO(e.target),e.g,e.o,e.k)}let vA,dp,mp;pf.bind({g:1});let ai=pf.bind({k:1});function oO(i,e,n,s){es.p=e,vA=i,dp=n,mp=s}function ys(i,e){let n=this||{};return function(){let s=arguments;function o(u,h){let m=Object.assign({},u),p=m.className||o.className;n.p=Object.assign({theme:dp&&dp()},m),n.o=/ *go\d+/.test(p),m.className=pf.apply(n,s)+(p?" "+p:"");let g=i;return i[0]&&(g=m.as||i,delete m.as),mp&&g[0]&&mp(m),vA(g,m)}return o}}var lO=i=>typeof i=="function",qh=(i,e)=>lO(i)?i(e):i,uO=(()=>{let i=0;return()=>(++i).toString()})(),EA=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),cO=20,Sg="default",TA=(i,e)=>{let{toastLimit:n}=i.settings;switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,n)};case 1:return{...i,toasts:i.toasts.map(h=>h.id===e.toast.id?{...h,...e.toast}:h)};case 2:let{toast:s}=e;return TA(i,{type:i.toasts.find(h=>h.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...i,toasts:i.toasts.map(h=>h.id===o||o===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(h=>h.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let u=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+u}))}}},vh=[],bA={toasts:[],pausedAt:void 0,settings:{toastLimit:cO}},_r={},AA=(i,e=Sg)=>{_r[e]=TA(_r[e]||bA,i),vh.forEach(([n,s])=>{n===e&&s(_r[e])})},SA=i=>Object.keys(_r).forEach(e=>AA(i,e)),hO=i=>Object.keys(_r).find(e=>_r[e].toasts.some(n=>n.id===i)),gf=(i=Sg)=>e=>{AA(e,i)},fO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dO=(i={},e=Sg)=>{let[n,s]=P.useState(_r[e]||bA),o=P.useRef(_r[e]);P.useEffect(()=>(o.current!==_r[e]&&s(_r[e]),vh.push([e,s]),()=>{let h=vh.findIndex(([m])=>m===e);h>-1&&vh.splice(h,1)}),[e]);let u=n.toasts.map(h=>{var m,p,g;return{...i,...i[h.type],...h,removeDelay:h.removeDelay||((m=i[h.type])==null?void 0:m.removeDelay)||i?.removeDelay,duration:h.duration||((p=i[h.type])==null?void 0:p.duration)||i?.duration||fO[h.type],style:{...i.style,...(g=i[h.type])==null?void 0:g.style,...h.style}}});return{...n,toasts:u}},mO=(i,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...n,id:n?.id||uO()}),Ou=i=>(e,n)=>{let s=mO(e,i,n);return gf(s.toasterId||hO(s.id))({type:2,toast:s}),s.id},xt=(i,e)=>Ou("blank")(i,e);xt.error=Ou("error");xt.success=Ou("success");xt.loading=Ou("loading");xt.custom=Ou("custom");xt.dismiss=(i,e)=>{let n={type:3,toastId:i};e?gf(e)(n):SA(n)};xt.dismissAll=i=>xt.dismiss(void 0,i);xt.remove=(i,e)=>{let n={type:4,toastId:i};e?gf(e)(n):SA(n)};xt.removeAll=i=>xt.remove(void 0,i);xt.promise=(i,e,n)=>{let s=xt.loading(e.loading,{...n,...n?.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=e.success?qh(e.success,o):void 0;return u?xt.success(u,{id:s,...n,...n?.success}):xt.dismiss(s),o}).catch(o=>{let u=e.error?qh(e.error,o):void 0;u?xt.error(u,{id:s,...n,...n?.error}):xt.dismiss(s)}),i};var pO=1e3,gO=(i,e="default")=>{let{toasts:n,pausedAt:s}=dO(i,e),o=P.useRef(new Map).current,u=P.useCallback((b,S=pO)=>{if(o.has(b))return;let N=setTimeout(()=>{o.delete(b),h({type:4,toastId:b})},S);o.set(b,N)},[]);P.useEffect(()=>{if(s)return;let b=Date.now(),S=n.map(N=>{if(N.duration===1/0)return;let Q=(N.duration||0)+N.pauseDuration-(b-N.createdAt);if(Q<0){N.visible&&xt.dismiss(N.id);return}return setTimeout(()=>xt.dismiss(N.id,e),Q)});return()=>{S.forEach(N=>N&&clearTimeout(N))}},[n,s,e]);let h=P.useCallback(gf(e),[e]),m=P.useCallback(()=>{h({type:5,time:Date.now()})},[h]),p=P.useCallback((b,S)=>{h({type:1,toast:{id:b,height:S}})},[h]),g=P.useCallback(()=>{s&&h({type:6,time:Date.now()})},[s,h]),_=P.useCallback((b,S)=>{let{reverseOrder:N=!1,gutter:Q=8,defaultPosition:Y}=S||{},B=n.filter(re=>(re.position||Y)===(b.position||Y)&&re.height),ne=B.findIndex(re=>re.id===b.id),X=B.filter((re,_e)=>_e<ne&&re.visible).length;return B.filter(re=>re.visible).slice(...N?[X+1]:[0,X]).reduce((re,_e)=>re+(_e.height||0)+Q,0)},[n]);return P.useEffect(()=>{n.forEach(b=>{if(b.dismissed)u(b.id,b.removeDelay);else{let S=o.get(b.id);S&&(clearTimeout(S),o.delete(b.id))}})},[n,u]),{toasts:n,handlers:{updateHeight:p,startPause:m,endPause:g,calculateOffset:_}}},yO=ai`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,_O=ai`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vO=ai`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,EO=ys("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${_O} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${vO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,TO=ai`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,bO=ys("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${TO} 1s linear infinite;
`,AO=ai`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,SO=ai`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,wO=ys("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${AO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${SO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,RO=ys("div")`
  position: absolute;
`,IO=ys("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,CO=ai`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xO=ys("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${CO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,NO=({toast:i})=>{let{icon:e,type:n,iconTheme:s}=i;return e!==void 0?typeof e=="string"?P.createElement(xO,null,e):e:n==="blank"?null:P.createElement(IO,null,P.createElement(bO,{...s}),n!=="loading"&&P.createElement(RO,null,n==="error"?P.createElement(EO,{...s}):P.createElement(wO,{...s})))},DO=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,OO=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,MO="0%{opacity:0;} 100%{opacity:1;}",VO="0%{opacity:1;} 100%{opacity:0;}",PO=ys("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,kO=ys("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,LO=(i,e)=>{let n=i.includes("top")?1:-1,[s,o]=EA()?[MO,VO]:[DO(n),OO(n)];return{animation:e?`${ai(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ai(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},UO=P.memo(({toast:i,position:e,style:n,children:s})=>{let o=i.height?LO(i.position||e||"top-center",i.visible):{opacity:0},u=P.createElement(NO,{toast:i}),h=P.createElement(kO,{...i.ariaProps},qh(i.message,i));return P.createElement(PO,{className:i.className,style:{...o,...n,...i.style}},typeof s=="function"?s({icon:u,message:h}):P.createElement(P.Fragment,null,u,h))});oO(P.createElement);var jO=({id:i,className:e,style:n,onHeightUpdate:s,children:o})=>{let u=P.useCallback(h=>{if(h){let m=()=>{let p=h.getBoundingClientRect().height;s(i,p)};m(),new MutationObserver(m).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return P.createElement("div",{ref:u,className:e,style:n},o)},zO=(i,e)=>{let n=i.includes("top"),s=n?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:EA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},BO=pf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ah=16,qO=({reverseOrder:i,position:e="top-center",toastOptions:n,gutter:s,children:o,toasterId:u,containerStyle:h,containerClassName:m})=>{let{toasts:p,handlers:g}=gO(n,u);return P.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:ah,left:ah,right:ah,bottom:ah,pointerEvents:"none",...h},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(_=>{let b=_.position||e,S=g.calculateOffset(_,{reverseOrder:i,gutter:s,defaultPosition:e}),N=zO(b,S);return P.createElement(jO,{id:_.id,key:_.id,onHeightUpdate:g.updateHeight,className:_.visible?BO:"",style:N},_.type==="custom"?qh(_.message,_):o?o(_):P.createElement(UO,{toast:_,position:b}))}))},Wt=xt;const wA=P.createContext();function Mu(){return P.useContext(wA)}function HO({children:i}){const[e,n]=P.useState([]),[s,o]=P.useState(!1),{currentUser:u}=gs();P.useEffect(()=>{if(u){const _=fa(pn,"users",u.uid,"cart"),b=mA(_,S=>{const N=S.docs.map(Q=>({id:Q.id,...Q.data()}));n(N)});return()=>b()}else n([])},[u]);const g={cartItems:e,isCartOpen:s,setIsCartOpen:o,addToCart:async _=>{if(!u){Wt.error("Please log in to add items to your cart.");return}const b=os(pn,"users",u.uid,"cart",_.id),S=await fA(b);S.exists()?await Lm(b,{quantity:S.data().quantity+1},{merge:!0}):await Lm(b,{..._,quantity:1}),Wt.success(`${_.name} added to cart!`)},removeFromCart:async _=>{if(!u)return;const b=os(pn,"users",u.uid,"cart",_);await fp(b)},updateQuantity:async(_,b)=>{if(!u)return;const S=os(pn,"users",u.uid,"cart",_);b>0?await Lm(S,{quantity:b},{merge:!0}):await fp(S)}};return w.jsx(wA.Provider,{value:g,children:i})}const RA=P.createContext();function IA(){return P.useContext(RA)}function FO({children:i}){const[e,n]=P.useState(""),s={searchTerm:e,setSearchTerm:n};return w.jsx(RA.Provider,{value:s,children:i})}const CA="MOIxpm137YdUALB3aHxFiLUJ5C83",GO=()=>w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})});function QO(i,e=250){const[n,s]=P.useState(i);return P.useEffect(()=>{const o=setTimeout(()=>s(i),e);return()=>clearTimeout(o)},[i,e]),n}function YO(){const{currentUser:i}=gs(),{setIsCartOpen:e,cartItems:n}=Mu(),{searchTerm:s,setSearchTerm:o}=IA(),u=da(),[h,m]=P.useState(!1),[p,g]=P.useState(s??""),_=QO(p,250);P.useEffect(()=>{o(_)},[_,o]);const b=n.reduce((B,ne)=>B+ne.quantity,0),S=async()=>{m(!1);try{await wC(go),u("/")}catch(B){console.error("Failed to log out",B)}},N=oi(),Q=B=>{B.preventDefault(),N.pathname.endsWith("/products")||u("/products",{replace:!0})},Y=i&&i.uid===CA;return w.jsx("header",{className:"bg-white shadow-md sticky top-0 z-30 border-b border-gray-100",children:w.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[w.jsx(dn,{to:"/",className:"text-3xl font-extrabold text-primary-600 hover:text-primary-700 transition-colors",children:"ShopSphere"}),w.jsxs("nav",{className:"hidden md:flex gap-6 items-center flex-grow justify-center",children:[w.jsx(dn,{to:"/",className:"text-gray-600 hover:text-primary-600 font-medium transition-colors",children:"Home"}),w.jsx(dn,{to:"/products",className:"text-gray-600 hover:text-primary-600 font-medium transition-colors",children:"All Products"})]}),w.jsx("form",{onSubmit:Q,className:"hidden md:block w-1/4 max-w-sm ml-auto mr-4",children:w.jsx("input",{type:"search",placeholder:"Search for products",value:p,onChange:B=>g(B.target.value),autoCapitalize:"none",autoCorrect:"off",className:"w-full px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"})}),w.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[" ",i?w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>m(!h),className:"flex items-center text-gray-700 hover:text-primary-600 transition-colors py-2 px-3 rounded-full hover:bg-gray-50",children:[w.jsx("span",{className:"font-medium",children:i.email}),w.jsx("svg",{className:`w-4 h-4 ml-1 transform transition-transform ${h?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),h&&w.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg-light py-1 z-40 border border-gray-100",children:[w.jsx(dn,{to:"/profile",onClick:()=>m(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-primary-50 hover:text-primary-700 transition-colors",children:"My Profile"}),Y&&w.jsx(dn,{to:"/admin",onClick:()=>m(!1),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-primary-50 hover:text-primary-700 transition-colors",children:"Admin Dashboard"}),w.jsx("button",{onClick:S,className:"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-red-50 hover:text-red-700 transition-colors",children:"Logout"})]})]}):w.jsx(dn,{to:"/login",className:"bg-primary-600 text-white px-5 py-2 rounded-full hover:bg-primary-700 transition-colors font-medium shadow-md-light",children:"Login / Sign Up"}),w.jsxs("button",{onClick:()=>e(!0),className:"relative p-2 rounded-full hover:bg-gray-50 transition-colors",children:[w.jsx(GO,{}),b>0&&w.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center border-2 border-white",children:b})]})]})]})})}function KO(){const i=new Date().getFullYear();return w.jsx("footer",{className:"bg-gray-800 text-white py-6 mt-12",children:w.jsxs("div",{className:"container mx-auto px-4 text-center",children:[w.jsxs("p",{className:"text-sm",children:[" ",i," ShopSphere. All rights reserved."]}),w.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Built with React, Tailwind CSS, and Firebase."})]})})}function xE({children:i}){const{currentUser:e}=gs();return e?i:w.jsx(jE,{to:"/login"})}function xA({product:i}){const{addToCart:e}=Mu(),n=s=>{s.preventDefault(),s.stopPropagation(),e(i)};return w.jsxs("div",{className:"bg-white rounded-xl shadow-card overflow-hidden group transition-all duration-300 hover:shadow-lg-light transform hover:-translate-y-1",children:[w.jsxs(dn,{to:`/product/${i.id}`,className:"block",children:[w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:i.imageUrl,alt:i.name,className:"w-full h-56 object-cover transition-transform duration-300 group-hover:scale-105"}),w.jsx("div",{className:"absolute top-3 right-3 bg-white bg-opacity-90 text-gray-700 text-xs font-semibold px-3 py-1 rounded-full shadow-sm",children:i.category})]}),w.jsxs("div",{className:"p-5",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate mb-1",title:i.name,children:i.name}),w.jsxs("p",{className:"text-2xl font-bold text-primary-600 mt-2",children:["",i.price.toFixed(2)]})]})]}),w.jsx("div",{className:"p-5 pt-0",children:w.jsx("button",{onClick:n,className:"w-full bg-primary-600 text-white py-2.5 rounded-lg hover:bg-primary-700 transition-colors font-medium text-lg",children:"Add to Cart"})})]})}const $O=["All","Apparel","Electronics","Stationery","Home Goods"];function XO(){const[i,e]=P.useState([]),[n,s]=P.useState(!0),[o,u]=P.useState("All"),{searchTerm:h}=IA();return P.useEffect(()=>{(async()=>{s(!0);try{const p=fa(pn,"products");let g=[];o!=="All"&&g.push(km("category","==",o)),h&&(g.push(km("name",">=",h)),g.push(km("name","<=",h+"")));const _=yg(p,...g),S=(await Ag(_)).docs.map(N=>({id:N.id,...N.data()}));e(S)}catch(p){console.error("Error fetching products: ",p)}finally{s(!1)}})()},[o,h]),n?w.jsx("p",{className:"text-center text-xl text-gray-600 mt-8",children:"Loading products..."}):w.jsxs("div",{children:[w.jsx("h2",{className:"text-4xl font-bold text-center mb-10 text-gray-900",children:"All Products"}),w.jsx("div",{className:"flex justify-center gap-3 md:gap-4 mb-12 flex-wrap",children:$O.map(m=>w.jsx("button",{onClick:()=>u(m),className:`px-5 py-2 rounded-full font-semibold transition-all duration-200 ${o===m?"bg-primary-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-primary-50 hover:text-primary-700 shadow-sm"}`,children:m},m))}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:i.map(m=>w.jsx(xA,{product:m},m.id))})]})}const WO=()=>w.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 48 48",children:[" ",w.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039L38.802 9.122C34.553 5.166 29.693 3 24 3C12.43 3 3 12.43 3 24s9.43 21 21 21s21-9.43 21-21c0-1.341-.138-2.65-.389-3.917z"})," ",w.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691c-1.324 2.493-2.095 5.37-2.095 8.309c0 2.939.771 5.816 2.095 8.309L12.02 24l-5.714-9.309z"})," ",w.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238c-2.008 1.32-4.402 2.108-7.219 2.108c-5.22 0-9.643-3.336-11.284-7.932l-6.305 4.902C7.925 39.366 15.245 44 24 44z"})," ",w.jsx("path",{fill:"#1976D2",d:"M43.611 20.083L43.594 20H24v8h11.303a12.024 12.024 0 0 1-5.22 7.932l6.305 4.902C41.075 35.866 44 30.166 44 24c0-1.341-.138-2.65-.389-3.917z"})," "]});function ZO(){const[i,e]=P.useState(""),[n,s]=P.useState(""),[o,u]=P.useState(""),[h,m]=P.useState(!1),{login:p}=gs(),g=da(),_=async N=>{N.preventDefault(),m(!0);try{await p(i,n),Wt.success("Logged in successfully!"),g("/")}catch{u("Failed to log in. Please check your credentials."),Wt.error("Failed to log in.")}m(!1)},b=async()=>{const N=new $r;m(!0);try{await GC(go,N),Wt.success("Logged in successfully!"),g("/")}catch{Wt.error("Failed to sign in with Google.")}m(!1)},S=async()=>{if(!i)return Wt.error("Please enter your email address to reset your password.");try{await vC(go,i),Wt.success("Password reset email sent! Please check your inbox.")}catch{Wt.error("Failed to send password reset email.")}};return w.jsx("div",{className:"flex justify-center items-center py-12",children:w.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg-light w-full max-w-md border border-gray-100",children:[w.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:"Login to Your Account"}),o&&w.jsx("p",{className:"text-red-500 text-center mb-4",children:o}),w.jsxs("form",{onSubmit:_,className:"space-y-5",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:"Email"}),w.jsx("input",{type:"email",id:"email",value:i,onChange:N=>e(N.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:"block text-gray-700 font-medium mb-2",children:"Password"}),w.jsx("input",{type:"password",id:"password",value:n,onChange:N=>s(N.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),w.jsx("div",{className:"text-right",children:w.jsx("button",{type:"button",onClick:S,className:"text-sm text-primary-600 hover:underline",children:"Forgot Password?"})}),w.jsx("button",{type:"submit",disabled:h,className:"w-full bg-primary-600 text-white py-3 rounded-lg font-semibold text-lg hover:bg-primary-700 transition-colors disabled:bg-gray-400",children:h?"Logging In...":"Login"})]}),w.jsx("div",{className:"text-center my-4 text-gray-500",children:"OR"}),w.jsxs("button",{onClick:b,disabled:h,className:"w-full flex items-center justify-center bg-white border border-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-50 transition-colors disabled:bg-gray-200",children:[w.jsx(WO,{})," Sign In with Google"]}),w.jsx("div",{className:"text-center mt-6",children:w.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",w.jsx(dn,{to:"/signup",className:"text-primary-600 hover:text-primary-800 font-medium",children:"Sign Up"})]})})]})})}function JO(){const[i,e]=P.useState([]),[n,s]=P.useState(!0),[o,u]=P.useState({name:"",price:"",category:"",description:"",imageUrl:""}),[h,m]=P.useState(!1),[p,g]=P.useState(!1),_=fa(pn,"products"),b=async()=>{s(!0);const X=await Ag(_);e(X.docs.map(re=>({...re.data(),id:re.id}))),s(!1)};P.useEffect(()=>{b()},[]);const S=X=>{const{name:re,value:_e}=X.target;u({...o,[re]:_e})},N=async X=>{X.preventDefault();const re={...o,price:Number(o.price)};if(h){const _e=os(pn,"products",o.id);await $D(_e,re)}else await dA(_,re);B(),b()},Q=X=>{u(X),m(!0),g(!0)},Y=async X=>{if(window.confirm("Are you sure you want to delete this product?")){const re=os(pn,"products",X);await fp(re),b()}},B=()=>{u({name:"",price:"",category:"",description:"",imageUrl:""}),m(!1),g(!1)},ne=()=>{B(),g(!0)};return n?w.jsx("p",{className:"text-center text-xl",children:"Loading dashboard..."}):w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),w.jsx("button",{onClick:ne,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"+ Add New Product"})]}),p&&w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[w.jsx("h2",{className:"text-2xl font-bold mb-4",children:h?"Edit Product":"Add New Product"}),w.jsxs("form",{onSubmit:N,children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[w.jsx("input",{name:"name",value:o.name,onChange:S,placeholder:"Product Name",className:"p-2 border rounded",required:!0}),w.jsx("input",{name:"price",type:"number",value:o.price,onChange:S,placeholder:"Price",className:"p-2 border rounded",required:!0}),w.jsx("input",{name:"category",value:o.category,onChange:S,placeholder:"Category",className:"p-2 border rounded",required:!0}),w.jsx("input",{name:"imageUrl",value:o.imageUrl,onChange:S,placeholder:"Image URL",className:"p-2 border rounded",required:!0})]}),w.jsx("textarea",{name:"description",value:o.description,onChange:S,placeholder:"Description",className:"w-full p-2 border rounded mb-4",required:!0}),w.jsxs("div",{className:"flex justify-end gap-4",children:[w.jsx("button",{type:"button",onClick:B,className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"Cancel"}),w.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:h?"Update Product":"Save Product"})]})]})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[w.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Manage Products"}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full text-left",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"border-b",children:[w.jsx("th",{className:"p-2",children:"Name"}),w.jsx("th",{className:"p-2",children:"Price"}),w.jsx("th",{className:"p-2",children:"Category"}),w.jsx("th",{className:"p-2",children:"Actions"})]})}),w.jsx("tbody",{children:i.map(X=>w.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[w.jsx("td",{className:"p-2",children:X.name}),w.jsxs("td",{className:"p-2",children:["",X.price.toFixed(2)]}),w.jsx("td",{className:"p-2",children:X.category}),w.jsxs("td",{className:"p-2",children:[w.jsx("button",{onClick:()=>Q(X),className:"text-blue-600 hover:underline mr-4",children:"Edit"}),w.jsx("button",{onClick:()=>Y(X.id),className:"text-red-600 hover:underline",children:"Delete"})]})]},X.id))})]})})]})]})}function e4(){const{productId:i}=qw(),[e,n]=P.useState(null),[s,o]=P.useState(!0),[u,h]=P.useState(""),{addToCart:m}=Mu(),p=da();return P.useEffect(()=>{(async()=>{o(!0),h("");try{const _=os(pn,"products",i),b=await fA(_);b.exists()?n({id:b.id,...b.data()}):(h("Product not found."),Wt.error("Product not found!"),p("/products"))}catch(_){console.error("Error fetching product details: ",_),h("Failed to load product details."),Wt.error("Failed to load product details."),p("/products")}finally{o(!1)}})()},[i,p]),s?w.jsx("p",{className:"text-center text-xl text-gray-600 mt-8",children:"Loading product details..."}):u?w.jsx("p",{className:"text-center text-xl text-red-500 mt-8",children:u}):e?w.jsxs("div",{className:"bg-white rounded-xl shadow-lg-light p-8 md:p-12 max-w-4xl mx-auto flex flex-col md:flex-row gap-8 md:gap-12",children:[w.jsx("div",{className:"md:w-1/2 flex justify-center items-center",children:w.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full max-h-[400px] object-contain rounded-lg shadow-md"})}),w.jsxs("div",{className:"md:w-1/2 flex flex-col justify-between",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:e.name}),w.jsxs("p",{className:"text-primary-600 text-2xl font-bold mb-4",children:["",e.price.toFixed(2)]}),w.jsx("div",{className:"bg-primary-50 text-primary-700 text-sm font-semibold px-3 py-1 rounded-full inline-block mb-4",children:e.category}),w.jsx("p",{className:"text-gray-700 text-lg leading-relaxed mb-6",children:e.description})]}),w.jsx("button",{onClick:()=>m(e),className:"w-full bg-primary-600 text-white py-3 rounded-lg hover:bg-primary-700 transition-colors text-xl font-semibold shadow-md-light",children:"Add to Cart"})]})]}):null}const t4=()=>w.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})});function n4(){const{isCartOpen:i,setIsCartOpen:e,cartItems:n,removeFromCart:s,updateQuantity:o}=Mu(),u=n.reduce((h,m)=>h+m.price*m.quantity,0);return i?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40",onClick:()=>e(!1),children:w.jsxs("div",{className:"fixed top-0 right-0 h-full w-full max-w-sm bg-white shadow-2xl z-50 flex flex-col transition-transform duration-300 ease-out transform translate-x-0",onClick:h=>h.stopPropagation(),children:[w.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-100 bg-gray-50",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Your Cart"}),w.jsx("button",{onClick:()=>e(!1),className:"text-gray-500 hover:text-gray-800 text-3xl leading-none transition-colors",children:""})]}),w.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:n.length===0?w.jsx("p",{className:"text-center text-gray-500 mt-8",children:"Your cart is currently empty."}):w.jsx("ul",{children:n.map(h=>w.jsxs("li",{className:"flex items-center py-4 border-b border-gray-100 last:border-b-0",children:[w.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-20 h-20 object-cover rounded-lg mr-4 shadow-sm"}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:h.name}),w.jsxs("p",{className:"text-primary-600 font-medium",children:["",h.price.toFixed(2)]}),w.jsxs("div",{className:"flex items-center mt-2",children:[w.jsx("button",{onClick:()=>o(h.id,h.quantity-1),className:"border border-gray-300 px-3 py-1 rounded-md text-gray-700 hover:bg-gray-100 transition-colors",children:"-"}),w.jsx("span",{className:"px-4 text-gray-800 font-medium",children:h.quantity}),w.jsx("button",{onClick:()=>o(h.id,h.quantity+1),className:"border border-gray-300 px-3 py-1 rounded-md text-gray-700 hover:bg-gray-100 transition-colors",children:"+"})]})]}),w.jsx("button",{onClick:()=>s(h.id),className:"text-red-500 hover:text-red-700 ml-4 p-2 rounded-full hover:bg-red-50 transition-colors",children:w.jsx(t4,{})})]},h.id))})}),w.jsxs("div",{className:"p-5 border-t border-gray-100 bg-gray-50",children:[w.jsxs("div",{className:"flex justify-between font-bold text-xl text-gray-900 mb-5",children:[w.jsx("span",{children:"Subtotal"}),w.jsxs("span",{children:["",u.toFixed(2)]})]}),w.jsx(dn,{to:"/checkout",className:"block w-full",children:w.jsx("button",{onClick:()=>e(!1),className:"w-full bg-primary-600 text-white py-3 rounded-lg hover:bg-primary-700 transition-colors font-semibold text-lg shadow-md-light disabled:bg-gray-400",disabled:n.length===0,children:"Proceed to Checkout"})})]})]})}):null}function r4(){const{cartItems:i,setIsCartOpen:e}=Mu(),{currentUser:n}=gs(),s=da(),[o,u]=P.useState(1),[h,m]=P.useState({name:"",address:"",city:"",zipCode:""}),[p,g]=P.useState({cardNumber:"",expiry:"",cvc:""}),[_,b]=P.useState(!1);P.useEffect(()=>{i.length===0&&!_&&s("/"),e(!1)},[i,s,_,e]);const S=i.reduce((Y,B)=>Y+B.price*B.quantity,0),N=(Y,B)=>{const{name:ne,value:X}=Y.target;B==="shipping"?m({...h,[ne]:X}):g({...p,[ne]:X})},Q=async Y=>{if(Y.preventDefault(),!n){Wt.error("Please log in to place an order.");return}b(!0);try{const B={userId:n.uid,email:n.email,shippingInfo:h,items:i,subtotal:S,status:"pending",createdAt:WD()},ne=fa(pn,"users",n.uid,"orders");await dA(ne,B);const X=fa(pn,"users",n.uid,"cart"),re=ZD(pn);i.forEach(_e=>{const he=os(X,_e.id);re.delete(he)}),await re.commit(),Wt.success("Order placed successfully!"),s("/")}catch(B){console.error("Error placing order: ",B),Wt.error("Failed to place order. Please try again.")}finally{b(!1)}};return w.jsxs("div",{className:"container mx-auto",children:[w.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"Checkout"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[o===1&&w.jsxs("form",{onSubmit:()=>u(2),children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Shipping Information"}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{htmlFor:"name",className:"block text-gray-700 mb-2",children:"Full Name"}),w.jsx("input",{type:"text",name:"name",id:"name",onChange:Y=>N(Y,"shipping"),value:h.name,className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{htmlFor:"address",className:"block text-gray-700 mb-2",children:"Address"}),w.jsx("input",{type:"text",name:"address",id:"address",onChange:Y=>N(Y,"shipping"),value:h.address,className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{htmlFor:"city",className:"block text-gray-700 mb-2",children:"City"}),w.jsx("input",{type:"text",name:"city",id:"city",onChange:Y=>N(Y,"shipping"),value:h.city,className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{htmlFor:"zipCode",className:"block text-gray-700 mb-2",children:"ZIP Code"}),w.jsx("input",{type:"text",name:"zipCode",id:"zipCode",onChange:Y=>N(Y,"shipping"),value:h.zipCode,className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),w.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700",children:"Continue to Payment"})]}),o===2&&w.jsxs("form",{onSubmit:Q,children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Payment Details"}),w.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"This is a simulation. Do not enter real credit card details."}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{htmlFor:"cardNumber",className:"block text-gray-700 mb-2",children:"Card Number"}),w.jsx("input",{type:"text",name:"cardNumber",id:"cardNumber",onChange:Y=>N(Y,"payment"),placeholder:"1234 5678 9101 1121",className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"expiry",className:"block text-gray-700 mb-2",children:"Expiry"}),w.jsx("input",{type:"text",name:"expiry",id:"expiry",onChange:Y=>N(Y,"payment"),placeholder:"MM/YY",className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"cvc",className:"block text-gray-700 mb-2",children:"CVC"}),w.jsx("input",{type:"text",name:"cvc",id:"cvc",onChange:Y=>N(Y,"payment"),placeholder:"123",className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),w.jsxs("div",{className:"flex justify-between items-center mt-6",children:[w.jsx("button",{type:"button",onClick:()=>u(1),className:"text-blue-600 hover:underline",children:" Back to Shipping"}),w.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 disabled:bg-gray-400",disabled:_,children:_?"Processing...":`Pay ${S.toFixed(2)}`})]})]})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Order Summary"}),w.jsx("div",{className:"space-y-4",children:i.map(Y=>w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("img",{src:Y.imageUrl,alt:Y.name,className:"w-16 h-16 object-cover rounded mr-4"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold",children:Y.name}),w.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",Y.quantity]})]})]}),w.jsxs("p",{className:"font-semibold",children:["",(Y.price*Y.quantity).toFixed(2)]})]},Y.id))}),w.jsx("div",{className:"border-t my-4"}),w.jsxs("div",{className:"flex justify-between font-bold text-xl",children:[w.jsx("span",{children:"Total"}),w.jsxs("span",{children:["",S.toFixed(2)]})]})]})]})]})}function i4({children:i}){const{currentUser:e}=gs();return!e||e.uid!==CA?w.jsx(jE,{to:"/"}):i}function s4(){const{currentUser:i}=gs(),[e,n]=P.useState([]),[s,o]=P.useState(!0);return P.useEffect(()=>{if(i){const u=fa(pn,"users",i.uid,"orders"),h=yg(u,GD("createdAt","desc")),m=mA(h,p=>{const g=p.docs.map(_=>({id:_.id,..._.data(),createdAt:_.data().createdAt?.toDate().toLocaleDateString()}));n(g),o(!1)});return()=>m()}},[i]),s?w.jsx("p",{className:"text-center text-xl",children:"Loading profile..."}):w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Profile"}),w.jsxs("p",{className:"text-gray-600 mb-8",children:["Welcome, ",i.email,"!"]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[w.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Order History"}),e.length===0?w.jsxs("p",{children:["You haven't placed any orders yet. ",w.jsx(dn,{to:"/",className:"text-blue-600 hover:underline",children:"Start shopping!"})]}):w.jsx("div",{className:"space-y-6",children:e.map(u=>w.jsxs("div",{className:"border rounded-lg p-4",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("div",{children:[w.jsxs("p",{className:"font-semibold",children:["Order ID: ",w.jsx("span",{className:"font-normal text-gray-600",children:u.id})]}),w.jsxs("p",{className:"font-semibold",children:["Date: ",w.jsx("span",{className:"font-normal text-gray-600",children:u.createdAt})]})]}),w.jsxs("p",{className:"font-bold text-lg",children:["",u.subtotal.toFixed(2)]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold mb-2",children:"Items:"}),w.jsx("ul",{className:"space-y-2",children:u.items.map(h=>w.jsxs("li",{className:"flex items-center text-sm",children:[w.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-12 h-12 object-cover rounded mr-4"}),w.jsxs("span",{children:[h.name," (Qty: ",h.quantity,")"]})]},h.id))})]})]},u.id))})]})]})}function a4(){const[i,e]=P.useState([]),[n,s]=P.useState(!0);return P.useEffect(()=>{(async()=>{s(!0);try{const u=fa(pn,"products"),h=yg(u,QD(4)),p=(await Ag(h)).docs.map(g=>({id:g.id,...g.data()}));e(p)}catch(u){console.error("Error fetching featured products: ",u)}finally{s(!1)}})()},[]),w.jsxs("div",{className:"space-y-16",children:[w.jsxs("section",{className:"relative bg-gradient-to-br from-primary-600 to-blue-500 text-white rounded-lg shadow-hero py-24 px-8 text-center overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-black opacity-10"})," ",w.jsxs("div",{className:"relative z-10",children:[w.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight mb-5 leading-tight",children:["Discover Your ",w.jsx("span",{className:"text-yellow-300",children:"Next Favorite"})," ","Item"]}),w.jsx("p",{className:"text-lg md:text-xl max-w-3xl mx-auto mb-10 opacity-90",children:"Explore our curated collection of high-quality products, meticulously selected for the modern shopper."}),w.jsx(dn,{to:"/products",className:"inline-block bg-white text-primary-700 font-bold py-4 px-10 rounded-full text-xl hover:bg-gray-100 transition-transform transform hover:scale-105 shadow-xl",children:"Shop Now"})]})]}),w.jsxs("section",{children:[w.jsx("h2",{className:"text-4xl font-bold text-center mb-12 text-gray-900",children:"Featured Products"}),n?w.jsx("p",{className:"text-center",children:"Loading..."}):w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:i.map(o=>w.jsx(xA,{product:o},o.id))})]})]})}function o4(){const[i,e]=P.useState(""),[n,s]=P.useState(""),[o,u]=P.useState(""),[h,m]=P.useState(""),[p,g]=P.useState(!1),{signup:_}=gs(),b=da(),S=async N=>{if(N.preventDefault(),n!==o)return m("Passwords do not match.");m(""),g(!0);try{await _(i,n),Wt.success("Account created! Welcome!"),b("/")}catch(Q){m("Failed to create an account. Email might already be in use."),Wt.error(Q.message)}g(!1)};return w.jsx("div",{className:"flex justify-center items-center py-12",children:w.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg-light w-full max-w-md border border-gray-100",children:[w.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:"Create Your Account"}),h&&w.jsx("p",{className:"text-red-500 text-center mb-4",children:h}),w.jsxs("form",{onSubmit:S,className:"space-y-5",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:"Email Address"}),w.jsx("input",{type:"email",id:"email",value:i,onChange:N=>e(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:"block text-gray-700 font-medium mb-2",children:"Password"}),w.jsx("input",{type:"password",id:"password",value:n,onChange:N=>s(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"confirmPassword",className:"block text-gray-700 font-medium mb-2",children:"Confirm Password"}),w.jsx("input",{type:"password",id:"confirmPassword",value:o,onChange:N=>u(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),w.jsx("button",{type:"submit",disabled:p,className:"w-full bg-primary-600 text-white py-3 rounded-lg font-semibold text-lg hover:bg-primary-700 transition-colors disabled:bg-gray-400",children:p?"Creating Account...":"Sign Up"})]}),w.jsx("div",{className:"text-center mt-6",children:w.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",w.jsx(dn,{to:"/login",className:"text-primary-600 hover:text-primary-800 font-medium",children:"Login"})]})})]})})}function l4(){return w.jsx(eO,{children:w.jsx(HO,{children:w.jsx(FO,{children:w.jsxs(R1,{basename:"/shopsphere-react-ecommerce/",children:[w.jsx(qO,{position:"bottom-center"}),w.jsxs("div",{className:"bg-gray-50 min-h-screen font-sans flex flex-col",children:[w.jsx(YO,{}),w.jsx(n4,{}),w.jsx("main",{className:"container mx-auto px-4 py-8 flex-grow",children:w.jsxs(r1,{children:[w.jsx(Kr,{path:"/",element:w.jsx(a4,{})})," ",w.jsx(Kr,{path:"/products",element:w.jsx(XO,{})})," ",w.jsx(Kr,{path:"/login",element:w.jsx(ZO,{})}),w.jsx(Kr,{path:"/signup",element:w.jsx(o4,{})}),w.jsx(Kr,{path:"/product/:productId",element:w.jsx(e4,{})}),w.jsx(Kr,{path:"/checkout",element:w.jsx(xE,{children:w.jsx(r4,{})})}),w.jsx(Kr,{path:"/profile",element:w.jsx(xE,{children:w.jsx(s4,{})})}),w.jsx(Kr,{path:"/admin",element:w.jsx(i4,{children:w.jsx(JO,{})})})]})}),w.jsx(KO,{})]})]})})})})}fw.createRoot(document.getElementById("root")).render(w.jsx(P.StrictMode,{children:w.jsx(l4,{})}));
